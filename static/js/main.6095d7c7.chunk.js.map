{"version":3,"sources":["../../../packages/core/dist/tw/event/emitter.js","../../../packages/core/dist/tw/util/id.js","../../../packages/core/dist/tw/layout/node.js","../../../packages/core/dist/tw/state/token.js","../../../packages/core/dist/tw/layout/utility.js","../../../packages/core/dist/tw/view/node.js","../../../packages/core/dist/tw/component/component.js","../../../packages/core/dist/tw/tree/node.js","../../../packages/core/dist/tw/render/node.js","../../../packages/core/dist/tw/layout/atomic-node.js","../../../packages/core/dist/tw/tree/position.js","../../../packages/core/dist/tw/layout/block-node.js","../../../packages/core/dist/tw/layout/doc-node.js","../../../packages/core/dist/tw/layout/inline-node.js","../../../packages/core/dist/tw/render/atomic-node.js","../../../packages/core/dist/tw/render/inline-node.js","../../../packages/core/dist/tw/state/transformation.js","../../../packages/core/dist/tw/model/node.js","../../../packages/core/dist/tw/model/inline-node.js","../../../packages/core/dist/tw/layout/line-node.js","../../../packages/core/dist/tw/layout/page-node.js","../../../packages/core/dist/tw/render/block-node.js","../../../packages/core/dist/tw/render/doc-node.js","../../../packages/core/dist/tw/model/block-node.js","../../../packages/core/dist/tw/model/doc-node.js","../../../packages/core/dist/tw/view/inline-node.js","../../../packages/core/dist/tw/util/platform.js","../../../packages/core/dist/tw/tree/utility.js","../../../packages/core/dist/tw/layout/node-joiner.js","../../../packages/core/dist/tw/state/utility.js","../../../packages/core/dist/index.js","../../../packages/core/dist/tw/taleweaver.js","../../../packages/core/dist/tw/command/handlers/cursor.js","../../../packages/core/dist/tw/layout/rect.js","../../../packages/core/dist/tw/render/utility.js","../../../packages/core/dist/tw/command/handlers/history.js","../../../packages/core/dist/tw/command/handlers/state.js","../../../packages/core/dist/tw/model/utility.js","../../../packages/core/dist/tw/command/handlers/view.js","../../../packages/core/dist/tw/command/service.js","../../../packages/core/dist/tw/command/registry.js","../../../packages/core/dist/tw/component/components/doc.js","../../../packages/core/dist/tw/view/doc-node.js","../../../packages/core/dist/tw/component/components/paragraph.js","../../../packages/core/dist/tw/view/block-node.js","../../../packages/core/dist/tw/component/components/text.js","../../../packages/core/dist/tw/util/language.js","../../../packages/core/dist/tw/component/service.js","../../../packages/core/dist/tw/component/components/line.js","../../../packages/core/dist/tw/view/line-node.js","../../../packages/core/dist/tw/component/components/page.js","../../../packages/core/dist/tw/view/page-node.js","../../../packages/core/dist/tw/component/registry.js","../../../packages/core/dist/tw/config/service.js","../../../packages/core/dist/tw/cursor/service.js","../../../packages/core/dist/tw/cursor/cursor.js","../../../packages/core/dist/tw/history/service.js","../../../packages/core/dist/tw/history/state.js","../../../packages/core/dist/tw/history/action.js","../../../packages/core/dist/tw/key-binding/service.js","../../../packages/core/dist/tw/layout/service.js","../../../packages/core/dist/tw/layout/state.js","../../../packages/core/dist/tw/layout/flower.js","../../../packages/core/dist/tw/layout/node-breaker.js","../../../packages/core/dist/tw/layout/tree-builder.js","../../../packages/core/dist/tw/model/service.js","../../../packages/core/dist/tw/model/state.js","../../../packages/core/dist/tw/model/parser.js","../../../packages/core/dist/tw/render/service.js","../../../packages/core/dist/tw/render/state.js","../../../packages/core/dist/tw/render/tree-builder.js","../../../packages/core/dist/tw/service/registry.js","../../../packages/core/dist/tw/state/service.js","../../../packages/core/dist/tw/state/state.js","../../../packages/core/dist/tw/state/tokenizer.js","../../../packages/core/dist/tw/view/service.js","../../../packages/core/dist/tw/view/cursor.js","../../../packages/core/dist/tw/view/dom-controller.js","../../../packages/core/dist/tw/view/clipboard-observer.js","../../../packages/core/dist/tw/view/focus-observer.js","../../../packages/core/dist/tw/view/keyboard-observer.js","../../../packages/core/dist/tw/view/pointer-observer.js","../../../packages/core/dist/tw/view/state.js","../../../packages/core/dist/tw/view/tree-builder.js","Editor/ToolBar.tsx","Editor/Editor.tsx","Editor/index.ts","samples/littleRedRidingHood.ts","App.tsx","serviceWorker.ts","index.tsx"],"names":["__WEBPACK_AMD_DEFINE_RESULT__","undefined","require","exports","Object","defineProperty","value","EventEmitter","this","listeners","prototype","on","listener","push","emit","event","forEach","apply","__webpack_require__","module","generateId","Math","random","toString","substring","__WEBPACK_AMD_DEFINE_ARRAY__","__extends","_extendStatics","d","b","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","create","node_1","position_1","LayoutPosition","_super","arguments","Position","LayoutNode","componentId","id","_this","call","getComponentId","getId","getInnerWidth","getWidth","getHorizontalPaddng","getInnerHeight","getHeight","getVerticalPaddng","getPaddingTop","getPaddingBottom","getPaddingLeft","getPaddingRight","Node","CLOSE_TOKEN","atomic_node_1","block_node_1","doc_node_1","inline_node_1","line_node_1","page_node_1","identifyLayoutNodeType","node","DocLayoutNode","PageLayoutNode","BlockLayoutNode","LineLayoutNode","InlineLayoutNode","AtomicLayoutNode","Error","ViewNode","layoutNode","getPartId","getSize","insertChild","child","insertChildDOM","getDOMContainer","insertChildBefore","beforeChild","insertChildDOMBefore","appendChild","appendChildDOM","appendChildAfter","afterChild","appendChildDOMAfter","removeChild","removeChildDOM","getLayoutNode","onDidUpdate","updatedNode","onLayoutDidUpdate","childDOM","domContentContainer","getDOMContentContainer","insertBefore","firstChild","beforeChildDOM","afterChildDOM","nextSibling","Component","children","setParent","parent","getParent","isRoot","isLeaf","unshift","clearCache","beforeChildIndex","indexOf","splice","afterChildIndex","childIndex","getChildren","getFirstChild","length","getLastChild","getPreviousSibling","siblings","ownIndex","getNextSibling","getPreviousSiblingAllowCrossParent","previousSibling","parentNode","parentPreviousSibling","getNextSiblingAllowCrossParent","parentNextSibling","findDescendant","n","nn","result","clearOwnCache","parent_1","slice","updatedChildren","m","updatedChild","i","o","oo","RenderPosition","RenderNode","style","getStyle","getNodeClass","resolvePosition","offset","depth","getNode","getDepth","getOffset","setChild","getChild","getRoot","getLeaf","size","reduce","height","cumulatedOffset","_i","_a","childSize","position","childPosition","convertCoordinatesToOffset","x","y","cumulatedHeight","childHeight","convertCoordinateToOffset","resolveRects","from","to","rects","maxChildOffset","childFrom","max","childTo","min","childRect","width","paddingTop","paddingBottom","left","right","top","bottom","paddingLeft","paddingRight","resolvePageRects","getTailTrimmedWidth","tailTrimmedWidth","lastChild","cumulatedWidth","childWidth","AtomicRenderNode","convertOffsetToModelOffset","convertModelOffsetToOffset","modelOffset","InlineRenderNode","getModelSize","modelSize","childNode","cumulatedSize","cumulatedModelSize","childModelSize","InsertOperation","at","tokens","getOffsetAdjustment","delta","adjustOffset","adjustments","adjustment","getAt","getTokens","DeleteOperation","getFrom","getTo","AppliedInsertOperation","AppliedDeleteOperation","Transformation","operations","cursorAnchor","cursorHead","cursorLockLeft","addOperation","operation","getOperations","setCursor","setCursorHead","setCursorLockLeft","getCursorAnchor","getCursorHead","getCursorLockLeft","AppliedTransformation","originalTransformation","originalCursorHead","originalCursorAnchor","originalCursorLockLeft","beforeFrom","beforeTo","afterFrom","afterTo","getOriginalTransformation","getOriginalCursorHead","getOriginalCursorAnchor","getOriginalCursorLockLeft","getTransformedRange","ModelPosition","ModelNode","attributes","getAttributes","token_1","InlineModelNode","content","setContent","getContent","toTokens","partId","split","id_1","rect_1","flowed","getContentWidth","contentWidth","isFlowed","markAsFlowed","mergeLayoutRects","getContentHeight","contentHeight","contentX","contentY","BlockRenderNode","DocRenderNode","BlockModelNode","DocModelNode","InlineViewNode","detectPlatform","navigator","platform","startsWith","includes","getNodeLineage","lineage","currentNode","findCommonLineage","node1","node2","nodeLineage1","nodeLineage2","index","utility_1","NodeJoiner","join","thisNode","thatNode","joinPageNodes","joinLineNodes","thisLastChild","thatFirstChild","joinBlockNodes","thatParent","joinInlineNodes","identifyTokenType","token","taleweaver_1","Taleweaver","__importStar","mod","__esModule","k","cursorCommandHandlers","historyCommandHandlers","stateCommandHandlers","viewCommandHandlers","service_1","doc_1","paragraph_1","text_1","service_2","service_3","service_4","service_5","service_6","service_7","service_8","service_9","registry_1","service_10","service_11","initialMarkup","config","instanceId","serviceRegistry","ServiceRegistry","configService","ConfigService","buildBaseConfig","commandService","CommandService","componentService","ComponentService","cursorService","CursorService","stateService","StateService","historyService","HistoryService","modelService","ModelService","renderService","RenderService","layoutService","LayoutService","viewService","ViewService","keyBindingService","KeyBindingService","registerServices","attach","domContainer","getServiceRegistry","commands","tw.cursor.move","move","tw.cursor.moveUp","moveUp","tw.cursor.moveDown","moveDown","tw.cursor.moveLeft","moveLeft","tw.cursor.moveRight","moveRight","tw.cursor.moveLeftByWord","moveLeftByWord","tw.cursor.moveRightByWord","moveRightByWord","tw.cursor.moveToLineStart","moveToLineStart","tw.cursor.moveToLineEnd","moveToLineEnd","tw.cursor.moveToDocStart","moveToDocStart","tw.cursor.moveToDocEnd","moveToDocEnd","tw.cursor.moveHead","moveHead","tw.cursor.moveHeadUp","moveHeadUp","tw.cursor.moveHeadDown","moveHeadDown","tw.cursor.moveHeadLeft","moveHeadLeft","tw.cursor.moveHeadRight","moveHeadRight","tw.cursor.moveHeadLeftByWord","moveHeadLeftByWord","tw.cursor.moveHeadRightByWord","moveHeadRightByWord","tw.cursor.moveHeadToLineStart","moveHeadToLineStart","tw.cursor.moveHeadToLineEnd","moveHeadToLineEnd","tw.cursor.moveHeadToDocStart","moveHeadToDocStart","tw.cursor.moveHeadToDocEnd","moveHeadToDocEnd","tw.cursor.selectAll","selectAll","tw.history.undo","undo","tw.history.redo","redo","tw.state.insert","insert","tw.state.deleteBackward","deleteBackward","tw.state.deleteForward","deleteForward","tw.state.splitLine","splitLine","tw.view.focus","focus","tw.view.blur","blur","components","doc","DocComponent","paragraph","ParagraphComponent","text","TextComponent","TextMeasurer","cursor","disable","history","collapseThreshold","maxCollapseDuration","keyBindings","common","command","up","down","shift+left","shift+right","shift+up","shift+down","backspace","delete","enter","macos","alt+left","alt+right","shift+alt+left","shift+alt+right","cmd+left","cmd+right","cmd+up","cmd+down","shift+cmd+left","shift+cmd+right","shift+cmd+up","shift+cmd+down","cmd+a","cmd+z","shift+cmd+z","windows","ctrl+left","ctrl+right","ctrl+shift+left","ctrl+shift+right","home","end","ctrl+home","ctrl+end","shift+home","shift+end","ctrl+shift+home","ctrl+shift+end","ctrl+a","ctrl+z","ctrl+shift+z","linux","page","registerService","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","e","rejected","done","then","__generator","body","f","t","g","_","label","sent","trys","ops","verb","throw","return","Symbol","iterator","v","op","TypeError","pop","utility_2","transformation_1","tn","getService","applyTransformation","cursorState","anchor","head","hasCursor","getCursorState","docSize","getDocSize","linePosition","lineNode","previousLineNode","leftLock","targetLineSelectableOffset","nextLineNode","atomicPosition","atomicNode","previousAtomicNode","identifyRenderNodeType","nextAtomicNode","newOffset","isBreakable","lineBoxLevelPosition","lineLayoutPosition","lineLayoutNode","newCursorPosition","rect","previousRect","moveCursorByModelOffset","collapsedAt","modelCollapsedAt","_b","deleteFrom","deleteTo","modelDeleteFrom","modelDeleteTo","nodes","identifyModelNodeType","reverse","requestFocus","requestBlur","emitter_1","willExecuteCommandEventEmitter","didExecuteCommandEventEmitter","registry","CommandRegistry","entries","getConfig","commandId","commandHandler","registerCommand","onWillExecuteCommand","onDidExecuteCommand","executeCommand","args","getCommandHandler","concat","commandsMap","Map","set","get","doc_node_2","doc_node_3","doc_node_4","component_1","toDOM","$element","document","createElement","$childElement","clone","DocViewNode","textAlign","userSelect","buildModelNode","buildRenderNode","modelNode","buildLayoutNode","renderNode","buildViewNode","attached","isAttached","block_node_2","atomic_node_2","block_node_3","inline_node_2","block_node_4","inline_node_3","ParagraphModelNode","ParagraphRenderNode","lineBreakNode","buildLineBreakNode","inlineNode","ParagraphLineBreakRenderNode","ParagraphLineBreakAtomicRenderNode","ParagraphLayoutNode","ParagraphLineBreakLayoutNode","ParagraphLineBreakAtomicLayoutNode","takeMeasurement","breakAtWidth","ParagraphViewNode","BlockViewNode","ParagraphLineBreakViewNode","__assign","assign","s","language_1","inline_node_4","TextModelNode","$component","innerText","DEFAULT_TEXT_STYLE","weight","font","letterSpacing","underline","italic","strikethrough","color","TextRenderNode","WordRenderNode","word","getWord","breakable","oldWord","newWord","TextLayoutNode","WordLayoutNode","textMeasurer","measurement","measure","floor","substr","splitAt","newNode","lastWidth","width_1","fromTextMeasurement","toTextMeasurement","TextViewNode","display","whiteSpace","lineHeight","domContent","map","fontFamily","fontSize","fontWeight","textDecoration","fontStyle","style_1","words","breakTextToWords","wordIndex","wordRenderNode","$canvas","textStyle","ctx","getContext","fixFont","measureText","BREAKABLE_CHARS","char","line_1","page_1","ComponentRegistry","pageComponent","PageComponent","lineComponent","LineComponent","component","registerComponent","getComponent","getPageComponent","getLineComponent","line_node_2","LineViewNode","buildLineLayoutNode","page_node_2","PageViewNode","marginLeft","marginRight","buildPageLayoutNode","pageConfig","componentsMap","externalConfig","applyExternalConfig","coreConfig","cursor_1","Cursor","onDidUpdateCursor","setCursorState","assertCursor","getAnchor","getHead","getLeftLock","didUpdateCursorEventEmitter","state_1","state","HistoryState","action_1","actions","handleDidApplyTransformation","transformation","appliedTransformation","getAppliedTransformations","some","appliedTn","recordAppliedTransformationToNewAction","currentItem","now","Date","getBeganAt","getEndedAt","recordAppliedTransformationToLastAction","onDidApplyTransformation","action","consumeNextUndoableAction","appliedTransformations","unapplyTransformations","consumeNextRedoableAction","transformations","applyTransformations","HistoryAction","recordAppliedTransformation","beganAt","endedAt","platform_1","handleDidPressKey","keyBinding","key","keyBindingsConfig","bindKeys","onDidPressKey","binding","LayoutState","onDidUpdateLayoutState","getDocNode","flower_1","node_joiner_1","tree_builder_1","didUpdateLayoutStateEventEmitter","handleDidUpdateRenderStateEvent","LayoutTreeBuilder","buildTree","docNode","deduplicateNode","flowedNode","LayoutFlower","flow","docRenderNode","treeBuilder","onDidUpdateRenderState","deduplicateInlineNode","deduplicateBlockNode","nextNode","joiner","pageNode","nextPageNode","node_breaker_1","NodeQueue","lineNodes","pageNodes","queue","queueDocNode","queuePageNode","queueBlockNode","queueLineNode","queueInlineNode","queueAtomicNode","popLineNode","shift","popPageNode","nodeQueue","nodeJoiner","nodeBreaker","NodeBreaker","ran","flushLineNodeQueue","flushPageNodeQueue","flowLineNode","flowPageNode","joinNextPageNode","recordNodeAsUpdated","newPageNode","break","joinNextLineNode","newLineNode","nextBlockChild","nextInlineChild","nextAtomicChild","breakPageNode","breakLineNode","blockNodes","blockNode","blockNodeToMove","lastBlockNode","newBlockNode","breakBlockNode","lineNodeToMove","inlineNodes","inlineNodeToMove","lastInlineNode","newInlineNode","breakInlineNode","lineWidth","atomicNodes","atomicNodeToMove","newAtomicNode","breakAtomicNode","rootRenderNode","_buildTree","rootLayoutNode","buildNode","childLayoutNodes","childRenderNode","pageLayoutNode_1","childLayoutNode","lineLayoutNode_1","ModelState","onDidUpdateModelState","toHTML","outerHTML","parser_1","didUpdateModelStateEventEmitter","handleDidUpdateStateEvent","wrappedDepth","findWrappedDepth","findNodeContainingRange","updatedTokens","findNodeTokenRange","TokenParser","parse","parser","onDidUpdateState","findUpdatedNode","beforeFromPosition","beforeToPosition","beforeNode","afterTokenRange","findParentNodeOfTokenRange","afterNodeID","afterNode","findNodeInLineageById","maxDepth","fromPosition","toPosition","hintFrom","hintTo","depthPeak","opensNeeded","closesNeeded","tokensLength","nodeId","findNodeOpenTokenPositionAndDepth","findNodeCloseTokenPosition","hintPosition","currentDepth","ParserState","Stack","objects","object","peek","getDoc","parserState","NewNode","stack","contentBuffer","_parse","rootNode","processToken","error","message","appendToContent","closeNode","Content","parentStackObject","stackObject","JSON","stringify","RenderState","getStylesBetween","styles","extractStyle","componentStyles","didUpdateRenderStateEventEmitter","handleDidUpdateModelStateEvent","RenderTreeBuilder","docModelNode","rootModelNode","childModelNode","services","service","State","unapplyTransformation","tokenizer_1","didApplyTransformationEventEmitter","didUpdateStateEventEmitter","tokenizer","Tokenizer","tokenize","assertInitialized","transformedRange","findTransformedRange","offsetAdjustments","unadjustedOperation","appliedOperation","deletedTokens","__rest","getOwnPropertySymbols","TokenizerState","tokenizerState","NewToken","tagBuffer","attributesBuffer","markup","_tokenize","test","newTag","appendChar","NewTag","appendCharToTag","closeTag","Tag","newAttributes","TagAttributes","newAttributesString","endTag","appendCharToAttributes","TagAttributesString","endAttributesString","escapeNextAttributesStringChar","TagAttributesStringEscape","CloseTag","endCloseTag","dom_controller_1","ViewState","domController","DOMController","CursorView","onDidUpdateViewState","onDidFocus","onDidBlur","isFocused","blinkInterval","blinkState","domSelections","handleDidUpdateCursorState","updateView","handleDidUpdateViewState","handleDidFocus","handleDidBlur","domCaret","className","setAttribute","pointerEvents","clearDOMSelections","headPageOffset","headLeft","headTop","headHeight","boundCursorPosition","pageRects","pageViewNodes","focused","firstPageOffset","firstLayoutRectOffset","lastPageOffset","lastLayoutRectOffset","pageOffset","pageDOMContentContainer","rectOffset","domSelection","buildDOMSelection","background","parentElement","blinkStop","blinkStart","window","setInterval","updateDOMBlink","visibility","clearInterval","layoutRect","clipboard_observer_1","focus_observer_1","keyboard_observer_1","pointer_observer_1","composing","mouseDown","handleDidInsert","handleCompositionDidStart","handleCompositionDidEnd","handlePointerDidDown","inPage","handlePointerDidMove","pointerDown","$iframe","createIframe","$contentEditable","createContentEditable","keyboardObserver","KeyboardObserver","onDidInsert","onCompositionDidStart","onCompositionDidEnd","pointerObserver","PointerObserver","onPointerDidDown","onPointerDidMove","focusObserver","FocusObserver","clipboardObserver","ClipboardObserver","setTimeout","contentDocument","isComposing","scrolling","src","border","zIndex","opacity","overflow","contentEditable","didCopyEventEmitter","didPasteEventEmitter","handleCopy","preventDefault","handlePaste","data","clipboardData","addEventListener","onDidCopy","onDidPaste","didFocusEventEmitter","didBlurEventEmitter","handleFocus","handleBlur","didInsertEventEmitter","didPressKeyEventEmitter","compositionDidStartEventEmitter","compositionDidEndEventEmitter","keyInterpreter","KeyInterpreter","handleDidMutate","innerHTML","handleKeyDown","interpretFromKeyboardEvent","handleCompositionStart","handleCompositionEnd","mutationObserver","MutationObserver","observe","subtree","characterData","childList","childNodes","parseNode","nodeValue","toLowerCase","metaKey","altKey","shiftKey","ctrlKey","pointerDidDownEventEmitter","pointerDidMoveEventEmitter","pointerDidUpEventEmitter","handleMouseDown","resolveCoordinates","clientX","clientY","isDOMElementInPage","target","handleMouseMove","handleMouseUp","onPointerDidUp","pageViewNodes_1","pageViewNode","pageLayoutNode","pageBoundingClientRect","getBoundingClientRect","pageX","pageY","domElement","current","getAttribute","didUpdateViewStateEventEmitter","handleDidUpdateLayoutStateEvent","ViewTreeBuilder","docLayoutNode","rootViewNode","viewNode","childViewNode","applyMetadataToDOMContainer","Wrapper","styled","div","_templateObject","Container","_templateObject2","Group","_templateObject3","Item","button","_templateObject4","_ref","disabled","_ref2","active","SelectItem","select","_templateObject5","_ref3","_ref4","ItemColorLine","_templateObject6","_ref5","ToolBar","_ref6","taleweaver","_useState","useState","_useState2","slicedToArray","textStyles","setTextStyles","updateTextStyle","useMemo","getTextStyles","useEffect","Set","bold","react_default","a","onChange","onClick","Editor_templateObject","EditorWrapper","Editor_templateObject2","domRef","useRef","setTaleweaver","mergedConfig","Editor_Wrapper","ref","littleRedRidingHood","line","trim","replace","App_templateObject","Hero","App_templateObject2","BrandWrapper","App_templateObject3","Brand","span","App_templateObject4","Tagline","h1","App_templateObject5","SupportingTagline","h2","App_templateObject6","Links","_templateObject7","Link","_templateObject8","DemoHintWrapper","_templateObject9","DemoHint","_templateObject10","App","App_Wrapper","href","src_Editor","sampleMarkup","React","Boolean","location","hostname","match","ReactDOM","render","src_App_0","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.6095d7c7.chunk.js","sourcesContent":["define([\"require\", \"exports\"], function (require, exports) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var EventEmitter =\n  /** @class */\n  function () {\n    function EventEmitter() {\n      this.listeners = [];\n    }\n\n    EventEmitter.prototype.on = function (listener) {\n      this.listeners.push(listener);\n    };\n\n    EventEmitter.prototype.emit = function (event) {\n      this.listeners.forEach(function (listener) {\n        return listener(event);\n      });\n    };\n\n    return EventEmitter;\n  }();\n\n  exports.EventEmitter = EventEmitter;\n});","define([\"require\", \"exports\"], function (require, exports) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  function generateId() {\n    return Math.random().toString(36).substring(2);\n  }\n\n  exports.generateId = generateId;\n});","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\ndefine([\"require\", \"exports\", \"../tree/node\", \"../tree/position\"], function (require, exports, node_1, position_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var LayoutPosition =\n  /** @class */\n  function (_super) {\n    __extends(LayoutPosition, _super);\n\n    function LayoutPosition() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    return LayoutPosition;\n  }(position_1.Position);\n\n  exports.LayoutPosition = LayoutPosition;\n\n  var LayoutNode =\n  /** @class */\n  function (_super) {\n    __extends(LayoutNode, _super);\n\n    function LayoutNode(componentId, id) {\n      var _this = _super.call(this) || this;\n\n      _this.componentId = componentId;\n      _this.id = id;\n      return _this;\n    }\n\n    LayoutNode.prototype.getComponentId = function () {\n      return this.componentId;\n    };\n\n    LayoutNode.prototype.getId = function () {\n      return this.id;\n    };\n\n    LayoutNode.prototype.getInnerWidth = function () {\n      return this.getWidth() - this.getHorizontalPaddng();\n    };\n\n    LayoutNode.prototype.getInnerHeight = function () {\n      return this.getHeight() - this.getVerticalPaddng();\n    };\n\n    LayoutNode.prototype.getVerticalPaddng = function () {\n      return this.getPaddingTop() + this.getPaddingBottom();\n    };\n\n    LayoutNode.prototype.getHorizontalPaddng = function () {\n      return this.getPaddingLeft() + this.getPaddingRight();\n    };\n\n    return LayoutNode;\n  }(node_1.Node);\n\n  exports.LayoutNode = LayoutNode;\n});","define([\"require\", \"exports\"], function (require, exports) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.CLOSE_TOKEN = {};\n});","define([\"require\", \"exports\", \"./atomic-node\", \"./block-node\", \"./doc-node\", \"./inline-node\", \"./line-node\", \"./page-node\"], function (require, exports, atomic_node_1, block_node_1, doc_node_1, inline_node_1, line_node_1, page_node_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  function identifyLayoutNodeType(node) {\n    if (node instanceof doc_node_1.DocLayoutNode) {\n      return 'Doc';\n    }\n\n    if (node instanceof page_node_1.PageLayoutNode) {\n      return 'Page';\n    }\n\n    if (node instanceof block_node_1.BlockLayoutNode) {\n      return 'Block';\n    }\n\n    if (node instanceof line_node_1.LineLayoutNode) {\n      return 'Line';\n    }\n\n    if (node instanceof inline_node_1.InlineLayoutNode) {\n      return 'Inline';\n    }\n\n    if (node instanceof atomic_node_1.AtomicLayoutNode) {\n      return 'Atomic';\n    }\n\n    throw new Error('Unknown layout node type.');\n  }\n\n  exports.identifyLayoutNodeType = identifyLayoutNodeType;\n});","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\ndefine([\"require\", \"exports\", \"../tree/node\"], function (require, exports, node_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var ViewNode =\n  /** @class */\n  function (_super) {\n    __extends(ViewNode, _super);\n\n    function ViewNode(layoutNode) {\n      var _this = _super.call(this) || this;\n\n      _this.layoutNode = layoutNode;\n      return _this;\n    }\n\n    ViewNode.prototype.getComponentId = function () {\n      return this.layoutNode.getComponentId();\n    };\n\n    ViewNode.prototype.getPartId = function () {\n      return this.layoutNode.getPartId();\n    };\n\n    ViewNode.prototype.getId = function () {\n      return this.layoutNode.getId();\n    };\n\n    ViewNode.prototype.getSize = function () {\n      return this.layoutNode.getSize();\n    };\n\n    ViewNode.prototype.insertChild = function (child) {\n      _super.prototype.insertChild.call(this, child);\n\n      this.insertChildDOM(child.getDOMContainer());\n    };\n\n    ViewNode.prototype.insertChildBefore = function (child, beforeChild) {\n      _super.prototype.insertChildBefore.call(this, child, beforeChild);\n\n      this.insertChildDOMBefore(child.getDOMContainer(), beforeChild.getDOMContainer());\n    };\n\n    ViewNode.prototype.appendChild = function (child) {\n      _super.prototype.appendChild.call(this, child);\n\n      this.appendChildDOM(child.getDOMContainer());\n    };\n\n    ViewNode.prototype.appendChildAfter = function (child, afterChild) {\n      _super.prototype.appendChildAfter.call(this, child, afterChild);\n\n      this.appendChildDOMAfter(child.getDOMContainer(), afterChild.getDOMContainer());\n    };\n\n    ViewNode.prototype.removeChild = function (child) {\n      _super.prototype.removeChild.call(this, child);\n\n      this.removeChildDOM(child.getDOMContainer());\n    };\n\n    ViewNode.prototype.getLayoutNode = function () {\n      return this.layoutNode;\n    };\n\n    ViewNode.prototype.onDidUpdate = function (updatedNode) {\n      _super.prototype.onDidUpdate.call(this, updatedNode);\n\n      this.layoutNode = updatedNode.getLayoutNode();\n      this.onLayoutDidUpdate();\n    };\n\n    ViewNode.prototype.insertChildDOM = function (childDOM) {\n      var domContentContainer = this.getDOMContentContainer();\n      domContentContainer.insertBefore(childDOM, domContentContainer.firstChild);\n    };\n\n    ViewNode.prototype.insertChildDOMBefore = function (childDOM, beforeChildDOM) {\n      var domContentContainer = this.getDOMContentContainer();\n      domContentContainer.insertBefore(childDOM, beforeChildDOM);\n    };\n\n    ViewNode.prototype.appendChildDOM = function (childDOM) {\n      var domContentContainer = this.getDOMContentContainer();\n      domContentContainer.appendChild(childDOM);\n    };\n\n    ViewNode.prototype.appendChildDOMAfter = function (childDOM, afterChildDOM) {\n      var domContentContainer = this.getDOMContentContainer();\n      domContentContainer.insertBefore(childDOM, afterChildDOM.nextSibling);\n    };\n\n    ViewNode.prototype.removeChildDOM = function (childDOM) {\n      var domContentContainer = this.getDOMContentContainer();\n      domContentContainer.removeChild(childDOM);\n    };\n\n    return ViewNode;\n  }(node_1.Node);\n\n  exports.ViewNode = ViewNode;\n});","define([\"require\", \"exports\"], function (require, exports) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var Component =\n  /** @class */\n  function () {\n    function Component(id) {\n      this.id = id;\n    }\n\n    Component.prototype.getId = function () {\n      return this.id;\n    };\n\n    return Component;\n  }();\n\n  exports.Component = Component;\n});","define([\"require\", \"exports\"], function (require, exports) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var Node =\n  /** @class */\n  function () {\n    function Node() {\n      this.children = [];\n    }\n\n    Node.prototype.setParent = function (parent) {\n      this.parent = parent;\n    };\n\n    Node.prototype.getParent = function () {\n      if (this.isRoot()) {\n        throw new Error('Getting parent on root node is not allowed.');\n      }\n\n      return this.parent;\n    };\n\n    Node.prototype.insertChild = function (child) {\n      if (this.isLeaf()) {\n        throw new Error('Appending child to leaf node is not allowed.');\n      }\n\n      this.children.unshift(child);\n      child.setParent(this);\n      this.clearCache();\n    };\n\n    Node.prototype.insertChildBefore = function (child, beforeChild) {\n      if (this.isLeaf()) {\n        throw new Error('Inserting child to leaf node is not allowed.');\n      }\n\n      var beforeChildIndex = this.children.indexOf(beforeChild);\n\n      if (beforeChildIndex < 0) {\n        throw new Error('Error inserting, child to insert before is not found.');\n      }\n\n      this.children.splice(beforeChildIndex, 0, child);\n      child.setParent(this);\n      this.clearCache();\n    };\n\n    Node.prototype.appendChild = function (child) {\n      if (this.isLeaf()) {\n        throw new Error('Appending child to leaf node is not allowed.');\n      }\n\n      this.children.push(child);\n      child.setParent(this);\n      this.clearCache();\n    };\n\n    Node.prototype.appendChildAfter = function (child, afterChild) {\n      if (this.isLeaf()) {\n        throw new Error('Inserting child to leaf node is not allowed.');\n      }\n\n      var afterChildIndex = this.children.indexOf(afterChild);\n\n      if (afterChildIndex < 0) {\n        throw new Error('Error inserting, child to insert after is not found.');\n      }\n\n      this.children.splice(afterChildIndex + 1, 0, child);\n      child.setParent(this);\n      this.clearCache();\n    };\n\n    Node.prototype.removeChild = function (child) {\n      if (this.isLeaf()) {\n        throw new Error('Removing child from leaf node is not allowed.');\n      }\n\n      var childIndex = this.children.indexOf(child);\n\n      if (childIndex < 0) {\n        throw new Error('Error removing child, child is not found.');\n      }\n\n      this.children.splice(childIndex, 1);\n      child.setParent(undefined);\n      this.clearCache();\n    };\n\n    Node.prototype.getChildren = function () {\n      return this.children;\n    };\n\n    Node.prototype.getFirstChild = function () {\n      var children = this.getChildren();\n\n      if (children.length === 0) {\n        return undefined;\n      }\n\n      return children[0];\n    };\n\n    Node.prototype.getLastChild = function () {\n      var children = this.getChildren();\n\n      if (children.length === 0) {\n        return undefined;\n      }\n\n      return children[children.length - 1];\n    };\n\n    Node.prototype.getPreviousSibling = function () {\n      if (this.isRoot()) {\n        throw new Error('Getting previous sibling on root node is not allowed.');\n      }\n\n      var siblings = this.getParent().getChildren();\n      var ownIndex = siblings.indexOf(this);\n\n      if (ownIndex < 0) {\n        throw new Error('Error getting previous sibling, node is not found in parent.');\n      }\n\n      if (ownIndex === 0) {\n        return undefined;\n      }\n\n      return siblings[ownIndex - 1];\n    };\n\n    Node.prototype.getNextSibling = function () {\n      if (this.isRoot()) {\n        throw new Error('Getting next sibling on root node is not allowed.');\n      }\n\n      var siblings = this.getParent().getChildren();\n      var ownIndex = siblings.indexOf(this);\n\n      if (ownIndex < 0) {\n        throw new Error('Error getting next sibling, node is not found in parent.');\n      }\n\n      if (ownIndex === siblings.length - 1) {\n        return undefined;\n      }\n\n      return siblings[ownIndex + 1];\n    };\n\n    Node.prototype.getPreviousSiblingAllowCrossParent = function () {\n      if (this.isRoot()) {\n        throw new Error('Getting previous sibling on root node is not allowed.');\n      }\n\n      var previousSibling = this.getPreviousSibling();\n\n      if (previousSibling) {\n        return previousSibling;\n      }\n\n      var parentNode = this.getParent();\n\n      if (!parentNode || parentNode.isRoot()) {\n        return undefined;\n      }\n\n      var parentPreviousSibling = parentNode.getPreviousSiblingAllowCrossParent();\n\n      if (!parentPreviousSibling) {\n        return undefined;\n      }\n\n      return parentPreviousSibling.getLastChild();\n    };\n\n    Node.prototype.getNextSiblingAllowCrossParent = function () {\n      if (this.isRoot()) {\n        throw new Error('Getting next sibling on root node is not allowed.');\n      }\n\n      var nextSibling = this.getNextSibling();\n\n      if (nextSibling) {\n        return nextSibling;\n      }\n\n      var parentNode = this.getParent();\n\n      if (!parentNode || parentNode.isRoot()) {\n        return undefined;\n      }\n\n      var parentNextSibling = parentNode.getNextSiblingAllowCrossParent();\n\n      if (!parentNextSibling) {\n        return undefined;\n      }\n\n      return parentNextSibling.getFirstChild();\n    };\n\n    Node.prototype.findDescendant = function (id) {\n      if (this.getId() === id) {\n        return this;\n      }\n\n      if (this.isLeaf()) {\n        return undefined;\n      }\n\n      for (var n = 0, nn = this.children.length; n < nn; n++) {\n        var child = this.children[n];\n        var result = child.findDescendant(id);\n\n        if (result) {\n          return result;\n        }\n      }\n\n      return undefined;\n    };\n\n    Node.prototype.clearCache = function () {\n      this.clearOwnCache();\n\n      if (!this.isRoot()) {\n        var parent_1 = this.getParent();\n\n        if (parent_1) {\n          parent_1.clearCache();\n        }\n      }\n    };\n\n    Node.prototype.onDidUpdate = function (updatedNode) {\n      if (!this.isLeaf()) {\n        var children = this.children.slice();\n        var updatedChildren = updatedNode.children;\n        var m = 0;\n\n        for (var n = 0, nn = updatedChildren.length; n < nn; n++) {\n          var updatedChild = updatedChildren[n];\n          var i = -1;\n\n          for (var o = m, oo = children.length; o < oo; o++) {\n            if (children[o].getId() === updatedChild.getId()) {\n              i = o;\n              break;\n            }\n          }\n\n          if (i >= 0) {\n            while (m < i) {\n              this.removeChild(children[m]);\n              m++;\n            }\n\n            children[m].onDidUpdate(updatedChild);\n            m++;\n          } else {\n            if (m < children.length) {\n              this.insertChildBefore(updatedChild, children[m]);\n            } else {\n              this.appendChild(updatedChild);\n            }\n          }\n        }\n\n        while (m < children.length) {\n          this.removeChild(children[m]);\n          m++;\n        }\n      }\n    };\n\n    Node.prototype.clearOwnCache = function () {};\n\n    return Node;\n  }();\n\n  exports.Node = Node;\n});","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\ndefine([\"require\", \"exports\", \"../tree/node\", \"../tree/position\"], function (require, exports, node_1, position_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var RenderPosition =\n  /** @class */\n  function (_super) {\n    __extends(RenderPosition, _super);\n\n    function RenderPosition() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    return RenderPosition;\n  }(position_1.Position);\n\n  exports.RenderPosition = RenderPosition;\n\n  var RenderNode =\n  /** @class */\n  function (_super) {\n    __extends(RenderNode, _super);\n\n    function RenderNode(componentId, id, style) {\n      var _this = _super.call(this) || this;\n\n      _this.componentId = componentId;\n      _this.id = id;\n      _this.style = style;\n      return _this;\n    }\n\n    RenderNode.prototype.getComponentId = function () {\n      return this.componentId;\n    };\n\n    RenderNode.prototype.getId = function () {\n      return this.id;\n    };\n\n    RenderNode.prototype.getStyle = function () {\n      return this.style;\n    };\n\n    return RenderNode;\n  }(node_1.Node);\n\n  exports.RenderNode = RenderNode;\n});","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\ndefine([\"require\", \"exports\", \"./node\"], function (require, exports, node_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var AtomicLayoutNode =\n  /** @class */\n  function (_super) {\n    __extends(AtomicLayoutNode, _super);\n\n    function AtomicLayoutNode() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    AtomicLayoutNode.prototype.getNodeClass = function () {\n      return 'atomic';\n    };\n\n    AtomicLayoutNode.prototype.isRoot = function () {\n      return false;\n    };\n\n    AtomicLayoutNode.prototype.isLeaf = function () {\n      return true;\n    };\n\n    AtomicLayoutNode.prototype.resolvePosition = function (offset, depth) {\n      if (offset >= this.getSize()) {\n        throw new Error(\"Offset \" + offset + \" is out of range.\");\n      }\n\n      var position = new node_1.LayoutPosition(this, depth, offset);\n      return position;\n    };\n\n    AtomicLayoutNode.prototype.clearOwnCache = function () {};\n\n    return AtomicLayoutNode;\n  }(node_1.LayoutNode);\n\n  exports.AtomicLayoutNode = AtomicLayoutNode;\n});","define([\"require\", \"exports\"], function (require, exports) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var Position =\n  /** @class */\n  function () {\n    function Position(node, depth, offset) {\n      this.parent = null;\n      this.child = null;\n      this.node = node;\n      this.depth = depth;\n      this.offset = offset;\n    }\n\n    Position.prototype.getNode = function () {\n      return this.node;\n    };\n\n    Position.prototype.getDepth = function () {\n      return this.depth;\n    };\n\n    Position.prototype.getOffset = function () {\n      return this.offset;\n    };\n\n    Position.prototype.setParent = function (parent) {\n      this.parent = parent;\n    };\n\n    Position.prototype.getParent = function () {\n      return this.parent;\n    };\n\n    Position.prototype.setChild = function (child) {\n      this.child = child;\n    };\n\n    Position.prototype.getChild = function () {\n      return this.child;\n    };\n\n    Position.prototype.getRoot = function () {\n      if (this.parent) {\n        return this.parent.getRoot();\n      }\n\n      return this;\n    };\n\n    Position.prototype.getLeaf = function () {\n      if (this.child) {\n        return this.child.getLeaf();\n      }\n\n      return this;\n    };\n\n    return Position;\n  }();\n\n  exports.Position = Position;\n});","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\ndefine([\"require\", \"exports\", \"./node\"], function (require, exports, node_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var BlockLayoutNode =\n  /** @class */\n  function (_super) {\n    __extends(BlockLayoutNode, _super);\n\n    function BlockLayoutNode() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    BlockLayoutNode.prototype.getNodeClass = function () {\n      return 'block';\n    };\n\n    BlockLayoutNode.prototype.isRoot = function () {\n      return false;\n    };\n\n    BlockLayoutNode.prototype.isLeaf = function () {\n      return false;\n    };\n\n    BlockLayoutNode.prototype.getSize = function () {\n      if (this.size === undefined) {\n        this.size = this.getChildren().reduce(function (size, child) {\n          return size + child.getSize();\n        }, 0);\n      }\n\n      return this.size;\n    };\n\n    BlockLayoutNode.prototype.getWidth = function () {\n      var parent = this.getParent();\n\n      if (!parent) {\n        return 0;\n      }\n\n      return parent.getInnerWidth();\n    };\n\n    BlockLayoutNode.prototype.getHeight = function () {\n      if (this.height === undefined) {\n        this.height = this.getChildren().reduce(function (height, child) {\n          return height + child.getHeight();\n        }, this.getVerticalPaddng());\n      }\n\n      return this.height;\n    };\n\n    BlockLayoutNode.prototype.resolvePosition = function (offset, depth) {\n      var cumulatedOffset = 0;\n\n      for (var _i = 0, _a = this.getChildren(); _i < _a.length; _i++) {\n        var child = _a[_i];\n        var childSize = child.getSize();\n\n        if (cumulatedOffset + childSize > offset) {\n          var position = new node_1.LayoutPosition(this, depth, offset);\n          var childPosition = child.resolvePosition(offset - cumulatedOffset, depth + 1);\n          position.setChild(childPosition);\n          childPosition.setParent(position);\n          return position;\n        }\n\n        cumulatedOffset += childSize;\n      }\n\n      throw new Error(\"Offset \" + offset + \" is out of range.\");\n    };\n\n    BlockLayoutNode.prototype.convertCoordinatesToOffset = function (x, y) {\n      var offset = 0;\n      var cumulatedHeight = 0;\n\n      for (var _i = 0, _a = this.getChildren(); _i < _a.length; _i++) {\n        var child = _a[_i];\n        var childHeight = child.getHeight();\n\n        if (y >= cumulatedHeight && y <= cumulatedHeight + childHeight) {\n          offset += child.convertCoordinateToOffset(x);\n          break;\n        }\n\n        offset += child.getSize();\n        cumulatedHeight += childHeight;\n      }\n\n      return offset;\n    };\n\n    BlockLayoutNode.prototype.resolveRects = function (from, to) {\n      var _this = this;\n\n      var rects = [];\n      var offset = 0;\n      var cumulatedHeight = 0;\n      this.getChildren().forEach(function (child, n) {\n        var childHeight = child.getHeight();\n        var minChildOffset = 0;\n        var maxChildOffset = child.getSize();\n        var childFrom = Math.max(from - offset, minChildOffset);\n        var childTo = Math.min(to - offset, maxChildOffset);\n\n        if (childFrom <= maxChildOffset && childTo >= minChildOffset) {\n          var childRects = child.resolveRects(childFrom, childTo);\n          childRects.forEach(function (childRect) {\n            var width = childRect.width;\n            var height = childRect.height;\n\n            var paddingTop = _this.getPaddingTop();\n\n            var paddingBottom = _this.getPaddingBottom();\n\n            var left = childRect.left;\n            var right = childRect.right;\n            var top = cumulatedHeight + paddingTop + childRect.top;\n            var bottom = _this.getHeight() - cumulatedHeight - childHeight - childRect.bottom - paddingBottom;\n            rects.push({\n              width: width,\n              height: height,\n              left: left,\n              right: right,\n              top: top,\n              bottom: bottom,\n              paddingTop: childRect.paddingTop,\n              paddingBottom: childRect.paddingBottom,\n              paddingLeft: childRect.paddingLeft,\n              paddingRight: childRect.paddingRight\n            });\n          });\n        }\n\n        offset += child.getSize();\n        cumulatedHeight += childHeight;\n      });\n      return rects;\n    };\n\n    BlockLayoutNode.prototype.clearOwnCache = function () {\n      this.size = undefined;\n      this.height = undefined;\n    };\n\n    return BlockLayoutNode;\n  }(node_1.LayoutNode);\n\n  exports.BlockLayoutNode = BlockLayoutNode;\n});","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\ndefine([\"require\", \"exports\", \"./node\"], function (require, exports, node_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var DocLayoutNode =\n  /** @class */\n  function (_super) {\n    __extends(DocLayoutNode, _super);\n\n    function DocLayoutNode() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    DocLayoutNode.prototype.getNodeClass = function () {\n      return 'doc';\n    };\n\n    DocLayoutNode.prototype.isRoot = function () {\n      return true;\n    };\n\n    DocLayoutNode.prototype.isLeaf = function () {\n      return false;\n    };\n\n    DocLayoutNode.prototype.getSize = function () {\n      if (this.size === undefined) {\n        this.size = this.getChildren().reduce(function (size, child) {\n          return size + child.getSize();\n        }, 0);\n      }\n\n      return this.size;\n    };\n\n    DocLayoutNode.prototype.getWidth = function () {\n      return 0;\n    };\n\n    DocLayoutNode.prototype.getHeight = function () {\n      return 0;\n    };\n\n    DocLayoutNode.prototype.getPaddingTop = function () {\n      return 0;\n    };\n\n    DocLayoutNode.prototype.getPaddingBottom = function () {\n      return 0;\n    };\n\n    DocLayoutNode.prototype.getPaddingLeft = function () {\n      return 0;\n    };\n\n    DocLayoutNode.prototype.getPaddingRight = function () {\n      return 0;\n    };\n\n    DocLayoutNode.prototype.resolvePosition = function (offset) {\n      var cumulatedOffset = 0;\n\n      for (var _i = 0, _a = this.getChildren(); _i < _a.length; _i++) {\n        var child = _a[_i];\n        var childSize = child.getSize();\n\n        if (cumulatedOffset + childSize > offset) {\n          var position = new node_1.LayoutPosition(this, 0, offset);\n          var childPosition = child.resolvePosition(offset - cumulatedOffset, 1);\n          position.setChild(childPosition);\n          childPosition.setParent(position);\n          return position;\n        }\n\n        cumulatedOffset += childSize;\n      }\n\n      throw new Error(\"Offset \" + offset + \" is out of range.\");\n    };\n\n    DocLayoutNode.prototype.resolvePageRects = function (from, to) {\n      var rects = [];\n      this.getChildren().forEach(function () {\n        rects.push([]);\n      });\n      var offset = 0;\n      this.getChildren().forEach(function (child, n) {\n        var childSize = child.getSize();\n        var minChildOffset = 0;\n        var maxChildOffset = childSize;\n        var childFrom = Math.max(from - offset, minChildOffset);\n        var childTo = Math.min(to - offset, maxChildOffset);\n\n        if (childFrom <= maxChildOffset && childTo >= minChildOffset) {\n          var childRects = child.resolveRects(childFrom, childTo);\n          childRects.forEach(function (childRect) {\n            rects[n].push(childRect);\n          });\n        }\n\n        offset += childSize;\n      });\n      return rects;\n    };\n\n    DocLayoutNode.prototype.clearOwnCache = function () {\n      this.size = undefined;\n    };\n\n    return DocLayoutNode;\n  }(node_1.LayoutNode);\n\n  exports.DocLayoutNode = DocLayoutNode;\n});","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\ndefine([\"require\", \"exports\", \"./node\"], function (require, exports, node_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var InlineLayoutNode =\n  /** @class */\n  function (_super) {\n    __extends(InlineLayoutNode, _super);\n\n    function InlineLayoutNode() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    InlineLayoutNode.prototype.getNodeClass = function () {\n      return 'inline';\n    };\n\n    InlineLayoutNode.prototype.isRoot = function () {\n      return false;\n    };\n\n    InlineLayoutNode.prototype.isLeaf = function () {\n      return false;\n    };\n\n    InlineLayoutNode.prototype.getSize = function () {\n      if (this.size === undefined) {\n        this.size = this.getChildren().reduce(function (size, child) {\n          return size + child.getSize();\n        }, 0);\n      }\n\n      return this.size;\n    };\n\n    InlineLayoutNode.prototype.getWidth = function () {\n      if (this.width === undefined) {\n        this.width = this.getChildren().reduce(function (width, child) {\n          return width + child.getWidth();\n        }, this.getHorizontalPaddng());\n      }\n\n      return this.width;\n    };\n\n    InlineLayoutNode.prototype.getHeight = function () {\n      if (this.height === undefined) {\n        this.height = this.getChildren().reduce(function (height, child) {\n          return Math.max(height, child.getHeight());\n        }, 0) + this.getVerticalPaddng();\n      }\n\n      return this.height;\n    };\n\n    InlineLayoutNode.prototype.getTailTrimmedWidth = function () {\n      if (this.tailTrimmedWidth === undefined) {\n        var lastChild = this.getLastChild();\n\n        if (lastChild) {\n          this.tailTrimmedWidth = this.getWidth() - lastChild.getWidth() + lastChild.getTailTrimmedWidth();\n        } else {\n          this.tailTrimmedWidth = 0;\n        }\n      }\n\n      return this.tailTrimmedWidth;\n    };\n\n    InlineLayoutNode.prototype.resolvePosition = function (offset, depth) {\n      var cumulatedOffset = 0;\n\n      for (var _i = 0, _a = this.getChildren(); _i < _a.length; _i++) {\n        var child = _a[_i];\n        var childSize = child.getSize();\n\n        if (cumulatedOffset + childSize > offset) {\n          var position = new node_1.LayoutPosition(this, depth, offset);\n          var childPosition = child.resolvePosition(offset - cumulatedOffset, depth + 1);\n          position.setChild(childPosition);\n          childPosition.setParent(position);\n          return position;\n        }\n\n        cumulatedOffset += childSize;\n      }\n\n      throw new Error(\"Offset \" + offset + \" is out of range.\");\n    };\n\n    InlineLayoutNode.prototype.convertCoordinateToOffset = function (x) {\n      var offset = 0;\n      var cumulatedWidth = 0;\n\n      for (var _i = 0, _a = this.getChildren(); _i < _a.length; _i++) {\n        var child = _a[_i];\n        var childWidth = child.getWidth();\n\n        if (x >= cumulatedWidth && x <= cumulatedWidth + childWidth) {\n          offset += child.convertCoordinateToOffset(x - cumulatedWidth);\n          break;\n        }\n\n        offset += child.getSize();\n        cumulatedWidth += childWidth;\n      }\n\n      return offset;\n    };\n\n    InlineLayoutNode.prototype.resolveRects = function (from, to) {\n      var _this = this;\n\n      var rects = [];\n      var offset = 0;\n      var cumulatedWidth = 0;\n      this.getChildren().forEach(function (child, n) {\n        var childWidth = child.getWidth();\n        var minChildOffset = 0;\n        var maxChildOffset = child.getSize();\n        var childFrom = Math.max(from - offset, minChildOffset);\n        var childTo = Math.min(to - offset, maxChildOffset);\n\n        if (childFrom <= maxChildOffset && childTo >= minChildOffset) {\n          var childRects = child.resolveRects(childFrom, childTo);\n          childRects.forEach(function (childRect) {\n            var width = childRect.width;\n            var height = childRect.height;\n\n            var paddingTop = _this.getPaddingTop();\n\n            var paddingBottom = _this.getPaddingBottom();\n\n            var left = cumulatedWidth + childRect.left;\n            var right = _this.getWidth() - cumulatedWidth - childRect.right;\n            var top = paddingTop + childRect.top;\n            var bottom = paddingBottom + childRect.bottom;\n            rects.push({\n              width: width,\n              height: height,\n              left: left,\n              right: right,\n              top: top,\n              bottom: bottom,\n              paddingTop: paddingTop,\n              paddingBottom: paddingBottom,\n              paddingLeft: 0,\n              paddingRight: 0\n            });\n          });\n        }\n\n        offset += child.getSize();\n        cumulatedWidth += childWidth;\n      });\n      return rects;\n    };\n\n    InlineLayoutNode.prototype.clearOwnCache = function () {\n      this.size = undefined;\n      this.width = undefined;\n      this.height = undefined;\n      this.tailTrimmedWidth = undefined;\n    };\n\n    return InlineLayoutNode;\n  }(node_1.LayoutNode);\n\n  exports.InlineLayoutNode = InlineLayoutNode;\n});","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\ndefine([\"require\", \"exports\", \"./node\"], function (require, exports, node_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var AtomicRenderNode =\n  /** @class */\n  function (_super) {\n    __extends(AtomicRenderNode, _super);\n\n    function AtomicRenderNode() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    AtomicRenderNode.prototype.isRoot = function () {\n      return false;\n    };\n\n    AtomicRenderNode.prototype.isLeaf = function () {\n      return true;\n    };\n\n    AtomicRenderNode.prototype.resolvePosition = function (offset, depth) {\n      return new node_1.RenderPosition(this, depth, offset);\n    };\n\n    AtomicRenderNode.prototype.convertOffsetToModelOffset = function (offset) {\n      return offset;\n    };\n\n    AtomicRenderNode.prototype.convertModelOffsetToOffset = function (modelOffset) {\n      return modelOffset;\n    };\n\n    return AtomicRenderNode;\n  }(node_1.RenderNode);\n\n  exports.AtomicRenderNode = AtomicRenderNode;\n});","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\ndefine([\"require\", \"exports\", \"./node\"], function (require, exports, node_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var InlineRenderNode =\n  /** @class */\n  function (_super) {\n    __extends(InlineRenderNode, _super);\n\n    function InlineRenderNode() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    InlineRenderNode.prototype.isRoot = function () {\n      return false;\n    };\n\n    InlineRenderNode.prototype.isLeaf = function () {\n      return false;\n    };\n\n    InlineRenderNode.prototype.getSize = function () {\n      if (this.size === undefined) {\n        this.size = this.getChildren().reduce(function (size, child) {\n          return size + child.getSize();\n        }, 0);\n      }\n\n      return this.size;\n    };\n\n    InlineRenderNode.prototype.getModelSize = function () {\n      if (this.modelSize === undefined) {\n        this.modelSize = this.getChildren().reduce(function (size, childNode) {\n          return size + childNode.getModelSize();\n        }, 2);\n      }\n\n      return this.modelSize;\n    };\n\n    InlineRenderNode.prototype.resolvePosition = function (offset, depth) {\n      var cumulatedOffset = 0;\n\n      for (var _i = 0, _a = this.getChildren(); _i < _a.length; _i++) {\n        var child = _a[_i];\n        var childSize = child.getSize();\n\n        if (cumulatedOffset + childSize > offset) {\n          var position = new node_1.RenderPosition(this, depth, offset);\n          var childPosition = child.resolvePosition(offset - cumulatedOffset, depth + 1);\n          position.setChild(childPosition);\n          childPosition.setParent(position);\n          return position;\n        }\n\n        cumulatedOffset += childSize;\n      }\n\n      throw new Error(\"Offset \" + offset + \" is out of range.\");\n    };\n\n    InlineRenderNode.prototype.clearOwnCache = function () {\n      this.size = undefined;\n      this.modelSize = undefined;\n    };\n\n    InlineRenderNode.prototype.convertOffsetToModelOffset = function (offset) {\n      var cumulatedSize = 0;\n      var cumulatedModelSize = 1;\n\n      for (var _i = 0, _a = this.getChildren(); _i < _a.length; _i++) {\n        var child = _a[_i];\n        var childSize = child.getSize();\n\n        if (cumulatedSize + childSize > offset) {\n          return cumulatedModelSize + child.convertOffsetToModelOffset(offset - cumulatedSize);\n        }\n\n        cumulatedSize += childSize;\n        cumulatedModelSize += child.getModelSize();\n      }\n\n      throw new Error(\"Offset \" + offset + \" is out of range.\");\n    };\n\n    InlineRenderNode.prototype.convertModelOffsetToOffset = function (modelOffset) {\n      var cumulatedModelSize = 1;\n      var cumulatedSize = 0;\n\n      for (var _i = 0, _a = this.getChildren(); _i < _a.length; _i++) {\n        var child = _a[_i];\n        var childModelSize = child.getModelSize();\n\n        if (cumulatedModelSize + childModelSize > modelOffset) {\n          return cumulatedSize + child.convertModelOffsetToOffset(modelOffset - cumulatedModelSize);\n        }\n\n        cumulatedModelSize += childModelSize;\n        cumulatedSize += child.getSize();\n      }\n\n      throw new Error(\"Model offset \" + modelOffset + \" is out of range.\");\n    };\n\n    return InlineRenderNode;\n  }(node_1.RenderNode);\n\n  exports.InlineRenderNode = InlineRenderNode;\n});","define([\"require\", \"exports\"], function (require, exports) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var InsertOperation =\n  /** @class */\n  function () {\n    function InsertOperation(at, tokens) {\n      this.at = at;\n      this.tokens = tokens;\n    }\n\n    InsertOperation.prototype.getOffsetAdjustment = function () {\n      return {\n        at: this.at,\n        delta: this.tokens.length\n      };\n    };\n\n    InsertOperation.prototype.adjustOffset = function (adjustments) {\n      var at = this.at;\n      adjustments.forEach(function (adjustment) {\n        if (at >= adjustment.at) {\n          at += adjustment.delta;\n        }\n      });\n      return new InsertOperation(at, this.tokens);\n    };\n\n    InsertOperation.prototype.getAt = function () {\n      return this.at;\n    };\n\n    InsertOperation.prototype.getTokens = function () {\n      return this.tokens;\n    };\n\n    return InsertOperation;\n  }();\n\n  exports.InsertOperation = InsertOperation;\n\n  var DeleteOperation =\n  /** @class */\n  function () {\n    function DeleteOperation(from, to) {\n      this.from = from;\n      this.to = to;\n    }\n\n    DeleteOperation.prototype.getOffsetAdjustment = function () {\n      return {\n        at: this.to,\n        delta: this.from - this.to\n      };\n    };\n\n    DeleteOperation.prototype.adjustOffset = function (adjustments) {\n      var from = this.from;\n      var to = this.to;\n      adjustments.forEach(function (adjustment) {\n        if (from >= adjustment.at) {\n          from += adjustment.delta;\n        }\n\n        if (to >= adjustment.at) {\n          to += adjustment.delta;\n        }\n      });\n      return new DeleteOperation(from, to);\n    };\n\n    DeleteOperation.prototype.getFrom = function () {\n      return this.from;\n    };\n\n    DeleteOperation.prototype.getTo = function () {\n      return this.to;\n    };\n\n    return DeleteOperation;\n  }();\n\n  exports.DeleteOperation = DeleteOperation;\n\n  var AppliedInsertOperation =\n  /** @class */\n  function () {\n    function AppliedInsertOperation(at, tokens) {\n      this.at = at;\n      this.tokens = tokens;\n    }\n\n    AppliedInsertOperation.prototype.getAt = function () {\n      return this.at;\n    };\n\n    AppliedInsertOperation.prototype.getTokens = function () {\n      return this.tokens;\n    };\n\n    return AppliedInsertOperation;\n  }();\n\n  exports.AppliedInsertOperation = AppliedInsertOperation;\n\n  var AppliedDeleteOperation =\n  /** @class */\n  function () {\n    function AppliedDeleteOperation(at, tokens) {\n      this.at = at;\n      this.tokens = tokens;\n    }\n\n    AppliedDeleteOperation.prototype.getAt = function () {\n      return this.at;\n    };\n\n    AppliedDeleteOperation.prototype.getTokens = function () {\n      return this.tokens;\n    };\n\n    return AppliedDeleteOperation;\n  }();\n\n  exports.AppliedDeleteOperation = AppliedDeleteOperation;\n\n  var Transformation =\n  /** @class */\n  function () {\n    function Transformation() {\n      this.operations = [];\n      this.cursorAnchor = null;\n      this.cursorHead = null;\n      this.cursorLockLeft = null;\n    }\n\n    Transformation.prototype.addOperation = function (operation) {\n      this.operations.push(operation);\n    };\n\n    Transformation.prototype.getOperations = function () {\n      return this.operations;\n    };\n\n    Transformation.prototype.setCursor = function (at) {\n      this.cursorAnchor = at;\n      this.cursorHead = at;\n    };\n\n    Transformation.prototype.setCursorHead = function (cursorHead) {\n      this.cursorHead = cursorHead;\n    };\n\n    Transformation.prototype.setCursorLockLeft = function (cursorLockLeft) {\n      this.cursorLockLeft = cursorLockLeft;\n    };\n\n    Transformation.prototype.getCursorAnchor = function () {\n      return this.cursorAnchor;\n    };\n\n    Transformation.prototype.getCursorHead = function () {\n      return this.cursorHead;\n    };\n\n    Transformation.prototype.getCursorLockLeft = function () {\n      return this.cursorLockLeft;\n    };\n\n    return Transformation;\n  }();\n\n  exports.Transformation = Transformation;\n\n  var AppliedTransformation =\n  /** @class */\n  function () {\n    function AppliedTransformation(originalTransformation, originalCursorHead, originalCursorAnchor, originalCursorLockLeft) {\n      this.originalTransformation = originalTransformation;\n      this.originalCursorHead = originalCursorHead;\n      this.originalCursorAnchor = originalCursorAnchor;\n      this.originalCursorLockLeft = originalCursorLockLeft;\n      this.operations = [];\n    }\n\n    AppliedTransformation.prototype.addOperation = function (operation) {\n      this.operations.push(operation);\n      var beforeFrom;\n      var beforeTo;\n      var afterFrom;\n      var afterTo;\n\n      if (operation instanceof AppliedInsertOperation) {\n        var at = operation.getAt();\n        var insertedTokens = operation.getTokens();\n        beforeFrom = at;\n        beforeTo = at;\n        afterFrom = at;\n        afterTo = at + insertedTokens.length;\n      } else if (operation instanceof AppliedDeleteOperation) {\n        var at = operation.getAt();\n        var deletedTokens = operation.getTokens();\n        beforeFrom = at;\n        beforeTo = at + deletedTokens.length;\n        afterFrom = at;\n        afterTo = at;\n      } else {\n        throw new Error('Invalid applied operation encountered.');\n      }\n\n      if (this.beforeFrom === undefined || beforeFrom < this.beforeFrom) {\n        this.beforeFrom = beforeFrom;\n      }\n\n      if (this.beforeTo === undefined || beforeTo > this.beforeTo) {\n        this.beforeTo = beforeTo;\n      }\n\n      if (this.afterFrom === undefined || afterFrom < this.afterFrom) {\n        this.afterFrom = afterFrom;\n      }\n\n      if (this.afterTo === undefined || afterTo > this.afterTo) {\n        this.afterTo = afterTo;\n      }\n    };\n\n    AppliedTransformation.prototype.getOperations = function () {\n      return this.operations;\n    };\n\n    AppliedTransformation.prototype.getOriginalTransformation = function () {\n      return this.originalTransformation;\n    };\n\n    AppliedTransformation.prototype.getOriginalCursorHead = function () {\n      return this.originalCursorHead;\n    };\n\n    AppliedTransformation.prototype.getOriginalCursorAnchor = function () {\n      return this.originalCursorAnchor;\n    };\n\n    AppliedTransformation.prototype.getOriginalCursorLockLeft = function () {\n      return this.originalCursorLockLeft;\n    };\n\n    AppliedTransformation.prototype.getTransformedRange = function () {\n      if (this.beforeFrom === undefined) {\n        return undefined;\n      }\n\n      return {\n        beforeFrom: this.beforeFrom,\n        beforeTo: this.beforeTo,\n        afterFrom: this.afterFrom,\n        afterTo: this.afterTo\n      };\n    };\n\n    return AppliedTransformation;\n  }();\n\n  exports.AppliedTransformation = AppliedTransformation;\n});","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\ndefine([\"require\", \"exports\", \"../tree/node\", \"../tree/position\"], function (require, exports, node_1, position_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var ModelPosition =\n  /** @class */\n  function (_super) {\n    __extends(ModelPosition, _super);\n\n    function ModelPosition() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    return ModelPosition;\n  }(position_1.Position);\n\n  exports.ModelPosition = ModelPosition;\n\n  var ModelNode =\n  /** @class */\n  function (_super) {\n    __extends(ModelNode, _super);\n\n    function ModelNode(componentId, id, attributes) {\n      var _this = _super.call(this) || this;\n\n      _this.componentId = componentId;\n      _this.id = id;\n      _this.attributes = attributes;\n      return _this;\n    }\n\n    ModelNode.prototype.getComponentId = function () {\n      return this.componentId;\n    };\n\n    ModelNode.prototype.getId = function () {\n      return this.id;\n    };\n\n    ModelNode.prototype.getAttributes = function () {\n      return this.attributes;\n    };\n\n    return ModelNode;\n  }(node_1.Node);\n\n  exports.ModelNode = ModelNode;\n});","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\ndefine([\"require\", \"exports\", \"../state/token\", \"./node\"], function (require, exports, token_1, node_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var InlineModelNode =\n  /** @class */\n  function (_super) {\n    __extends(InlineModelNode, _super);\n\n    function InlineModelNode(componentId, id, attributes) {\n      var _this = _super.call(this, componentId, id, attributes) || this;\n\n      _this.content = '';\n      return _this;\n    }\n\n    InlineModelNode.prototype.isRoot = function () {\n      return false;\n    };\n\n    InlineModelNode.prototype.isLeaf = function () {\n      return true;\n    };\n\n    InlineModelNode.prototype.setContent = function (content) {\n      this.content = content;\n      this.clearCache();\n    };\n\n    InlineModelNode.prototype.getContent = function () {\n      return this.content;\n    };\n\n    InlineModelNode.prototype.getSize = function () {\n      if (this.size === undefined) {\n        return 2 + this.content.length;\n      }\n\n      return this.size;\n    };\n\n    InlineModelNode.prototype.resolvePosition = function (offset, depth) {\n      if (offset >= this.getSize()) {\n        throw new Error(\"Offset \" + offset + \" is out of range.\");\n      }\n\n      var position = new node_1.ModelPosition(this, depth, offset);\n      return position;\n    };\n\n    InlineModelNode.prototype.clearOwnCache = function () {\n      this.size = undefined;\n    };\n\n    InlineModelNode.prototype.onDidUpdate = function (updatedNode) {\n      _super.prototype.onDidUpdate.call(this, updatedNode);\n\n      var oldContent = this.content;\n      var newContent = updatedNode.getContent();\n\n      if (oldContent === newContent) {\n        return;\n      }\n\n      this.content = updatedNode.getContent();\n      this.clearCache();\n    };\n\n    InlineModelNode.prototype.toTokens = function () {\n      var tokens = [];\n      tokens.push({\n        componentId: this.getComponentId(),\n        partId: this.getPartId(),\n        id: this.getId(),\n        attributes: this.getAttributes()\n      });\n      tokens.push.apply(tokens, this.content.split(''));\n      tokens.push(token_1.CLOSE_TOKEN);\n      return tokens;\n    };\n\n    return InlineModelNode;\n  }(node_1.ModelNode);\n\n  exports.InlineModelNode = InlineModelNode;\n});","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\ndefine([\"require\", \"exports\", \"../util/id\", \"./node\", \"./rect\"], function (require, exports, id_1, node_1, rect_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var LineLayoutNode =\n  /** @class */\n  function (_super) {\n    __extends(LineLayoutNode, _super);\n\n    function LineLayoutNode(componentId) {\n      var _this = _super.call(this, componentId, id_1.generateId()) || this;\n\n      _this.flowed = false;\n      return _this;\n    }\n\n    LineLayoutNode.prototype.getNodeClass = function () {\n      return 'line';\n    };\n\n    LineLayoutNode.prototype.isRoot = function () {\n      return false;\n    };\n\n    LineLayoutNode.prototype.isLeaf = function () {\n      return false;\n    };\n\n    LineLayoutNode.prototype.getSize = function () {\n      if (this.size === undefined) {\n        this.size = this.getChildren().reduce(function (size, child) {\n          return size + child.getSize();\n        }, 0);\n      }\n\n      return this.size;\n    };\n\n    LineLayoutNode.prototype.getWidth = function () {\n      var parent = this.getParent();\n\n      if (!parent) {\n        return 0;\n      }\n\n      return parent.getInnerWidth();\n    };\n\n    LineLayoutNode.prototype.getHeight = function () {\n      if (this.height === undefined) {\n        this.height = this.getChildren().reduce(function (height, child) {\n          return Math.max(height, child.getHeight());\n        }, this.getVerticalPaddng());\n      }\n\n      return this.height;\n    };\n\n    LineLayoutNode.prototype.getContentWidth = function () {\n      if (this.contentWidth === undefined) {\n        this.contentWidth = this.getChildren().reduce(function (contentWidth, child) {\n          return contentWidth + child.getWidth();\n        }, 0);\n      }\n\n      return this.contentWidth;\n    };\n\n    LineLayoutNode.prototype.getPaddingTop = function () {\n      return 0;\n    };\n\n    LineLayoutNode.prototype.getPaddingBottom = function () {\n      return 0;\n    };\n\n    LineLayoutNode.prototype.getPaddingLeft = function () {\n      return 0;\n    };\n\n    LineLayoutNode.prototype.getPaddingRight = function () {\n      return 0;\n    };\n\n    LineLayoutNode.prototype.isFlowed = function () {\n      return this.flowed;\n    };\n\n    LineLayoutNode.prototype.markAsFlowed = function () {\n      this.flowed = true;\n    };\n\n    LineLayoutNode.prototype.resolvePosition = function (offset, depth) {\n      var cumulatedOffset = 0;\n\n      for (var _i = 0, _a = this.getChildren(); _i < _a.length; _i++) {\n        var child = _a[_i];\n        var childSize = child.getSize();\n\n        if (cumulatedOffset + childSize > offset) {\n          var position = new node_1.LayoutPosition(this, depth, offset);\n          var childPosition = child.resolvePosition(offset - cumulatedOffset, depth + 1);\n          position.setChild(childPosition);\n          childPosition.setParent(position);\n          return position;\n        }\n\n        cumulatedOffset += childSize;\n      }\n\n      throw new Error(\"Offset \" + offset + \" is out of range.\");\n    };\n\n    LineLayoutNode.prototype.convertCoordinateToOffset = function (x) {\n      var offset = 0;\n      var cumulatedWidth = 0;\n\n      for (var _i = 0, _a = this.getChildren(); _i < _a.length; _i++) {\n        var child = _a[_i];\n        var childWidth = child.getWidth();\n\n        if (x >= cumulatedWidth && x <= cumulatedWidth + childWidth) {\n          offset += child.convertCoordinateToOffset(x - cumulatedWidth);\n          break;\n        }\n\n        offset += child.getSize();\n        cumulatedWidth += childWidth;\n      }\n\n      if (offset === this.getSize()) {\n        return offset - 1;\n      }\n\n      return offset;\n    };\n\n    LineLayoutNode.prototype.resolveRects = function (from, to) {\n      var _this = this;\n\n      var rects = [];\n      var offset = 0;\n      var cumulatedWidth = 0;\n      this.getChildren().forEach(function (child, n) {\n        var childWidth = child.getWidth();\n        var minChildOffset = 0;\n        var maxChildOffset = child.getSize();\n        var childFrom = Math.max(from - offset, minChildOffset);\n        var childTo = Math.min(to - offset, maxChildOffset);\n\n        if (childFrom <= maxChildOffset && childTo >= minChildOffset && !(childFrom === childTo && childTo === maxChildOffset)) {\n          var childRects = child.resolveRects(childFrom, childTo);\n          childRects.forEach(function (childRect) {\n            var width = childRect.width;\n            var height = childRect.height;\n            var left = cumulatedWidth + childRect.left;\n            var right = _this.getWidth() - cumulatedWidth - childRect.right;\n            var top = childRect.top;\n            var bottom = childRect.bottom;\n            rects.push({\n              width: width,\n              height: height,\n              left: left,\n              right: right,\n              top: top,\n              bottom: bottom,\n              paddingTop: childRect.paddingTop,\n              paddingBottom: childRect.paddingBottom,\n              paddingLeft: 0,\n              paddingRight: 0\n            });\n          });\n        }\n\n        offset += child.getSize();\n        cumulatedWidth += childWidth;\n      });\n      rect_1.mergeLayoutRects(rects);\n      return rects;\n    };\n\n    LineLayoutNode.prototype.clearOwnCache = function () {\n      this.size = undefined;\n      this.height = undefined;\n      this.contentWidth = undefined;\n      this.flowed = false;\n    };\n\n    return LineLayoutNode;\n  }(node_1.LayoutNode);\n\n  exports.LineLayoutNode = LineLayoutNode;\n});","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\ndefine([\"require\", \"exports\", \"../util/id\", \"./node\"], function (require, exports, id_1, node_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var PageLayoutNode =\n  /** @class */\n  function (_super) {\n    __extends(PageLayoutNode, _super);\n\n    function PageLayoutNode(componentId, width, height, paddingTop, paddingBottom, paddingLeft, paddingRight) {\n      var _this = _super.call(this, componentId, id_1.generateId()) || this;\n\n      _this.componentId = componentId;\n      _this.width = width;\n      _this.height = height;\n      _this.paddingTop = paddingTop;\n      _this.paddingBottom = paddingBottom;\n      _this.paddingLeft = paddingLeft;\n      _this.paddingRight = paddingRight;\n      _this.flowed = false;\n      return _this;\n    }\n\n    PageLayoutNode.prototype.getNodeClass = function () {\n      return 'page';\n    };\n\n    PageLayoutNode.prototype.isRoot = function () {\n      return false;\n    };\n\n    PageLayoutNode.prototype.isLeaf = function () {\n      return false;\n    };\n\n    PageLayoutNode.prototype.getSize = function () {\n      if (this.size === undefined) {\n        this.size = this.getChildren().reduce(function (size, child) {\n          return size + child.getSize();\n        }, 0);\n      }\n\n      return this.size;\n    };\n\n    PageLayoutNode.prototype.getWidth = function () {\n      return this.width;\n    };\n\n    PageLayoutNode.prototype.getHeight = function () {\n      return this.height;\n    };\n\n    PageLayoutNode.prototype.getPaddingTop = function () {\n      return this.paddingTop;\n    };\n\n    PageLayoutNode.prototype.getPaddingBottom = function () {\n      return this.paddingBottom;\n    };\n\n    PageLayoutNode.prototype.getPaddingLeft = function () {\n      return this.paddingLeft;\n    };\n\n    PageLayoutNode.prototype.getPaddingRight = function () {\n      return this.paddingRight;\n    };\n\n    PageLayoutNode.prototype.getContentHeight = function () {\n      if (this.contentHeight === undefined) {\n        this.contentHeight = this.getChildren().reduce(function (contentHeight, child) {\n          return contentHeight + child.getHeight();\n        }, 0);\n      }\n\n      return this.contentHeight;\n    };\n\n    PageLayoutNode.prototype.isFlowed = function () {\n      return this.flowed;\n    };\n\n    PageLayoutNode.prototype.markAsFlowed = function () {\n      this.flowed = true;\n    };\n\n    PageLayoutNode.prototype.resolvePosition = function (offset, depth) {\n      var cumulatedOffset = 0;\n\n      for (var _i = 0, _a = this.getChildren(); _i < _a.length; _i++) {\n        var child = _a[_i];\n        var childSize = child.getSize();\n\n        if (cumulatedOffset + childSize > offset) {\n          var position = new node_1.LayoutPosition(this, depth, offset);\n          var childPosition = child.resolvePosition(offset - cumulatedOffset, depth + 1);\n          position.setChild(childPosition);\n          childPosition.setParent(position);\n          return position;\n        }\n\n        cumulatedOffset += childSize;\n      }\n\n      throw new Error(\"Offset \" + offset + \" is out of range.\");\n    };\n\n    PageLayoutNode.prototype.convertCoordinatesToOffset = function (x, y) {\n      var offset = 0;\n      var cumulatedHeight = 0;\n      var contentX = Math.min(Math.max(x - this.getPaddingLeft(), 0), this.getWidth() - this.getPaddingRight());\n      var contentY = Math.min(Math.max(y - this.getPaddingTop(), 0), this.getHeight() - this.getPaddingBottom());\n\n      for (var _i = 0, _a = this.getChildren(); _i < _a.length; _i++) {\n        var child = _a[_i];\n        var childHeight = child.getHeight();\n\n        if (contentY >= cumulatedHeight && contentY <= cumulatedHeight + childHeight) {\n          offset += child.convertCoordinatesToOffset(contentX, contentY - cumulatedHeight);\n          break;\n        }\n\n        offset += child.getSize();\n        cumulatedHeight += childHeight;\n      }\n\n      if (offset === this.getSize()) {\n        var lastChild = this.getLastChild();\n\n        if (lastChild) {\n          offset -= lastChild.getSize();\n          offset += lastChild.convertCoordinatesToOffset(contentX, lastChild.getHeight());\n        }\n      }\n\n      if (offset === this.getSize()) {\n        offset--;\n      }\n\n      return offset;\n    };\n\n    PageLayoutNode.prototype.resolveRects = function (from, to) {\n      var _this = this;\n\n      var rects = [];\n      var offset = 0;\n      var cumulatedHeight = 0;\n      this.getChildren().forEach(function (child, n) {\n        var childHeight = child.getHeight();\n        var minChildOffset = 0;\n        var maxChildOffset = child.getSize();\n        var childFrom = Math.max(from - offset, minChildOffset);\n        var childTo = Math.min(to - offset, maxChildOffset);\n\n        if (childFrom <= maxChildOffset && childTo >= minChildOffset) {\n          var childRects = child.resolveRects(childFrom, childTo);\n          childRects.forEach(function (childRect) {\n            var width = childRect.width;\n            var height = childRect.height;\n\n            var paddingTop = _this.getPaddingTop();\n\n            var paddingBottom = _this.getPaddingBottom();\n\n            var paddingLeft = _this.getPaddingLeft();\n\n            var paddingRight = _this.getPaddingRight();\n\n            var left = paddingLeft + childRect.left;\n            var right = paddingRight + childRect.right;\n            var top = cumulatedHeight + paddingTop + childRect.top;\n            var bottom = _this.getHeight() - cumulatedHeight - childHeight - childRect.bottom - paddingBottom;\n            rects.push({\n              width: width,\n              height: height,\n              left: left,\n              right: right,\n              top: top,\n              bottom: bottom,\n              paddingTop: childRect.paddingTop,\n              paddingBottom: childRect.paddingBottom,\n              paddingLeft: childRect.paddingLeft,\n              paddingRight: childRect.paddingRight\n            });\n          });\n        }\n\n        offset += child.getSize();\n        cumulatedHeight += childHeight;\n      });\n      return rects;\n    };\n\n    PageLayoutNode.prototype.clearOwnCache = function () {\n      this.size = undefined;\n      this.contentHeight = undefined;\n      this.flowed = false;\n    };\n\n    return PageLayoutNode;\n  }(node_1.LayoutNode);\n\n  exports.PageLayoutNode = PageLayoutNode;\n});","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\ndefine([\"require\", \"exports\", \"./node\"], function (require, exports, node_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var BlockRenderNode =\n  /** @class */\n  function (_super) {\n    __extends(BlockRenderNode, _super);\n\n    function BlockRenderNode() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    BlockRenderNode.prototype.isRoot = function () {\n      return false;\n    };\n\n    BlockRenderNode.prototype.isLeaf = function () {\n      return false;\n    };\n\n    BlockRenderNode.prototype.getSize = function () {\n      if (this.size === undefined) {\n        this.size = this.getChildren().reduce(function (size, child) {\n          return size + child.getSize();\n        }, 0);\n      }\n\n      return this.size;\n    };\n\n    BlockRenderNode.prototype.getModelSize = function () {\n      if (this.modelSize === undefined) {\n        this.modelSize = this.getChildren().reduce(function (size, childNode) {\n          return size + childNode.getModelSize();\n        }, 2);\n      }\n\n      return this.modelSize;\n    };\n\n    BlockRenderNode.prototype.resolvePosition = function (offset, depth) {\n      var cumulatedOffset = 0;\n\n      for (var _i = 0, _a = this.getChildren(); _i < _a.length; _i++) {\n        var child = _a[_i];\n        var childSize = child.getSize();\n\n        if (cumulatedOffset + childSize > offset) {\n          var position = new node_1.RenderPosition(this, depth, offset);\n          var childPosition = child.resolvePosition(offset - cumulatedOffset, depth + 1);\n          position.setChild(childPosition);\n          childPosition.setParent(position);\n          return position;\n        }\n\n        cumulatedOffset += childSize;\n      }\n\n      throw new Error(\"Offset \" + offset + \" is out of range.\");\n    };\n\n    BlockRenderNode.prototype.clearOwnCache = function () {\n      this.size = undefined;\n      this.modelSize = undefined;\n    };\n\n    BlockRenderNode.prototype.convertOffsetToModelOffset = function (offset) {\n      var cumulatedSize = 0;\n      var cumulatedModelSize = 1;\n\n      for (var _i = 0, _a = this.getChildren(); _i < _a.length; _i++) {\n        var child = _a[_i];\n        var childSize = child.getSize();\n\n        if (cumulatedSize + childSize > offset) {\n          return cumulatedModelSize + child.convertOffsetToModelOffset(offset - cumulatedSize);\n        }\n\n        cumulatedSize += childSize;\n        cumulatedModelSize += child.getModelSize();\n      }\n\n      throw new Error(\"Offset \" + offset + \" is out of range.\");\n    };\n\n    BlockRenderNode.prototype.convertModelOffsetToOffset = function (modelOffset) {\n      var cumulatedModelSize = 1;\n      var cumulatedSize = 0;\n\n      for (var _i = 0, _a = this.getChildren(); _i < _a.length; _i++) {\n        var child = _a[_i];\n        var childModelSize = child.getModelSize();\n\n        if (cumulatedModelSize + childModelSize > modelOffset) {\n          return cumulatedSize + child.convertModelOffsetToOffset(modelOffset - cumulatedModelSize);\n        }\n\n        cumulatedModelSize += childModelSize;\n        cumulatedSize += child.getSize();\n      }\n\n      throw new Error(\"Model offset \" + modelOffset + \" is out of range.\");\n    };\n\n    return BlockRenderNode;\n  }(node_1.RenderNode);\n\n  exports.BlockRenderNode = BlockRenderNode;\n});","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\ndefine([\"require\", \"exports\", \"./node\"], function (require, exports, node_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var DocRenderNode =\n  /** @class */\n  function (_super) {\n    __extends(DocRenderNode, _super);\n\n    function DocRenderNode() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    DocRenderNode.prototype.isRoot = function () {\n      return true;\n    };\n\n    DocRenderNode.prototype.isLeaf = function () {\n      return false;\n    };\n\n    DocRenderNode.prototype.getSize = function () {\n      if (this.size === undefined) {\n        this.size = this.getChildren().reduce(function (size, child) {\n          return size + child.getSize();\n        }, 0);\n      }\n\n      return this.size;\n    };\n\n    DocRenderNode.prototype.getModelSize = function () {\n      if (this.modelSize === undefined) {\n        this.modelSize = this.getChildren().reduce(function (size, childNode) {\n          return size + childNode.getModelSize();\n        }, 2);\n      }\n\n      return this.modelSize;\n    };\n\n    DocRenderNode.prototype.resolvePosition = function (offset) {\n      var cumulatedOffset = 0;\n\n      for (var _i = 0, _a = this.getChildren(); _i < _a.length; _i++) {\n        var child = _a[_i];\n        var childSize = child.getSize();\n\n        if (cumulatedOffset + childSize > offset) {\n          var position = new node_1.RenderPosition(this, 0, offset);\n          var childPosition = child.resolvePosition(offset - cumulatedOffset, 1);\n          position.setChild(childPosition);\n          childPosition.setParent(position);\n          return position;\n        }\n\n        cumulatedOffset += childSize;\n      }\n\n      throw new Error(\"Offset \" + offset + \" is out of range.\");\n    };\n\n    DocRenderNode.prototype.clearOwnCache = function () {\n      this.size = undefined;\n      this.modelSize = undefined;\n    };\n\n    DocRenderNode.prototype.convertOffsetToModelOffset = function (offset) {\n      var cumulatedSize = 0;\n      var cumulatedModelSize = 1;\n\n      for (var _i = 0, _a = this.getChildren(); _i < _a.length; _i++) {\n        var child = _a[_i];\n        var childSize = child.getSize();\n\n        if (cumulatedSize + childSize > offset) {\n          return cumulatedModelSize + child.convertOffsetToModelOffset(offset - cumulatedSize);\n        }\n\n        cumulatedSize += childSize;\n        cumulatedModelSize += child.getModelSize();\n      }\n\n      throw new Error(\"Offset \" + offset + \" is out of range.\");\n    };\n\n    DocRenderNode.prototype.convertModelOffsetToOffset = function (modelOffset) {\n      var cumulatedModelSize = 1;\n      var cumulatedSize = 0;\n\n      for (var _i = 0, _a = this.getChildren(); _i < _a.length; _i++) {\n        var child = _a[_i];\n        var childModelSize = child.getModelSize();\n\n        if (cumulatedModelSize + childModelSize > modelOffset) {\n          return cumulatedSize + child.convertModelOffsetToOffset(modelOffset - cumulatedModelSize);\n        }\n\n        cumulatedModelSize += childModelSize;\n        cumulatedSize += child.getSize();\n      }\n\n      throw new Error(\"Model offset \" + modelOffset + \" is out of range.\");\n    };\n\n    return DocRenderNode;\n  }(node_1.RenderNode);\n\n  exports.DocRenderNode = DocRenderNode;\n});","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\ndefine([\"require\", \"exports\", \"../state/token\", \"./node\"], function (require, exports, token_1, node_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var BlockModelNode =\n  /** @class */\n  function (_super) {\n    __extends(BlockModelNode, _super);\n\n    function BlockModelNode() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    BlockModelNode.prototype.isRoot = function () {\n      return false;\n    };\n\n    BlockModelNode.prototype.isLeaf = function () {\n      return false;\n    };\n\n    BlockModelNode.prototype.getSize = function () {\n      if (this.size === undefined) {\n        this.size = this.getChildren().reduce(function (size, childNode) {\n          return size + childNode.getSize();\n        }, 2);\n      }\n\n      return this.size;\n    };\n\n    BlockModelNode.prototype.resolvePosition = function (offset, depth) {\n      var cumulatedOffset = 1;\n\n      for (var _i = 0, _a = this.getChildren(); _i < _a.length; _i++) {\n        var child = _a[_i];\n        var childSize = child.getSize();\n\n        if (cumulatedOffset + childSize > offset) {\n          var position = new node_1.ModelPosition(this, depth, offset);\n          var childPosition = child.resolvePosition(offset - cumulatedOffset, depth + 1);\n          position.setChild(childPosition);\n          childPosition.setParent(position);\n          return position;\n        }\n\n        cumulatedOffset += childSize;\n      }\n\n      if (offset < this.getSize()) {\n        return new node_1.ModelPosition(this, depth, offset);\n      }\n\n      throw new Error(\"Offset \" + offset + \" is out of range.\");\n    };\n\n    BlockModelNode.prototype.clearOwnCache = function () {\n      this.size = undefined;\n    };\n\n    BlockModelNode.prototype.toTokens = function () {\n      var tokens = [];\n      tokens.push({\n        componentId: this.getComponentId(),\n        partId: this.getPartId(),\n        id: this.getId(),\n        attributes: this.getAttributes()\n      });\n      this.getChildren().forEach(function (childNode) {\n        tokens.push.apply(tokens, childNode.toTokens());\n      });\n      tokens.push(token_1.CLOSE_TOKEN);\n      return tokens;\n    };\n\n    return BlockModelNode;\n  }(node_1.ModelNode);\n\n  exports.BlockModelNode = BlockModelNode;\n});","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\ndefine([\"require\", \"exports\", \"../state/token\", \"./node\"], function (require, exports, token_1, node_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var DocModelNode =\n  /** @class */\n  function (_super) {\n    __extends(DocModelNode, _super);\n\n    function DocModelNode() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    DocModelNode.prototype.isRoot = function () {\n      return true;\n    };\n\n    DocModelNode.prototype.isLeaf = function () {\n      return false;\n    };\n\n    DocModelNode.prototype.getSize = function () {\n      if (this.size === undefined) {\n        this.size = this.getChildren().reduce(function (size, child) {\n          return size + child.getSize();\n        }, 2);\n      }\n\n      return this.size;\n    };\n\n    DocModelNode.prototype.resolvePosition = function (offset) {\n      var cumulatedOffset = 1;\n\n      for (var _i = 0, _a = this.getChildren(); _i < _a.length; _i++) {\n        var child = _a[_i];\n        var childSize = child.getSize();\n\n        if (cumulatedOffset + childSize > offset) {\n          var position = new node_1.ModelPosition(this, 0, offset);\n          var childPosition = child.resolvePosition(offset - cumulatedOffset, 1);\n          position.setChild(childPosition);\n          childPosition.setParent(position);\n          return position;\n        }\n\n        cumulatedOffset += childSize;\n      }\n\n      if (offset < this.getSize()) {\n        return new node_1.ModelPosition(this, 0, offset);\n      }\n\n      throw new Error(\"Offset \" + offset + \" is out of range.\");\n    };\n\n    DocModelNode.prototype.clearOwnCache = function () {\n      this.size = undefined;\n    };\n\n    DocModelNode.prototype.toTokens = function () {\n      var tokens = [];\n      tokens.push({\n        componentId: this.getComponentId(),\n        partId: this.getPartId(),\n        id: this.getId(),\n        attributes: this.getAttributes()\n      });\n      this.getChildren().forEach(function (child) {\n        tokens.push.apply(tokens, child.toTokens());\n      });\n      tokens.push(token_1.CLOSE_TOKEN);\n      return tokens;\n    };\n\n    return DocModelNode;\n  }(node_1.ModelNode);\n\n  exports.DocModelNode = DocModelNode;\n});","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\ndefine([\"require\", \"exports\", \"./node\"], function (require, exports, node_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var InlineViewNode =\n  /** @class */\n  function (_super) {\n    __extends(InlineViewNode, _super);\n\n    function InlineViewNode() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    InlineViewNode.prototype.getNodeClass = function () {\n      return 'inline';\n    };\n\n    InlineViewNode.prototype.isRoot = function () {\n      return false;\n    };\n\n    InlineViewNode.prototype.isLeaf = function () {\n      return true;\n    };\n\n    return InlineViewNode;\n  }(node_1.ViewNode);\n\n  exports.InlineViewNode = InlineViewNode;\n});","define([\"require\", \"exports\"], function (require, exports) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  function detectPlatform() {\n    if (navigator.platform.startsWith('Linux')) {\n      return 'Linux';\n    }\n\n    if (['Windows', 'Win16', 'Win32'].includes(navigator.platform)) {\n      return 'Windows';\n    }\n\n    if (['Macintosh', 'MacIntel', 'MacPPC', 'Mac68K'].includes(navigator.platform)) {\n      return 'macOS';\n    }\n\n    return 'Unknown';\n  }\n\n  exports.detectPlatform = detectPlatform;\n});","define([\"require\", \"exports\"], function (require, exports) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  function getNodeLineage(node) {\n    var lineage = [];\n    var currentNode = node;\n\n    while (true) {\n      lineage.unshift(currentNode);\n\n      if (currentNode.isRoot()) {\n        return lineage;\n      }\n\n      currentNode = currentNode.getParent();\n    }\n  }\n\n  exports.getNodeLineage = getNodeLineage;\n\n  function findCommonLineage(node1, node2) {\n    var nodeLineage1 = getNodeLineage(node1);\n    var nodeLineage2 = getNodeLineage(node2);\n    var index = 0;\n\n    while (index < nodeLineage1.length && index < nodeLineage2.length) {\n      if (nodeLineage1[index] !== nodeLineage2[index]) {\n        break;\n      }\n\n      index++;\n    }\n\n    if (index === 0) {\n      throw new Error('No common lineage found.');\n    }\n\n    return nodeLineage1[index - 1];\n  }\n\n  exports.findCommonLineage = findCommonLineage;\n});","define([\"require\", \"exports\", \"./utility\"], function (require, exports, utility_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var NodeJoiner =\n  /** @class */\n  function () {\n    function NodeJoiner() {}\n\n    NodeJoiner.prototype.join = function (thisNode, thatNode) {\n      if (utility_1.identifyLayoutNodeType(thisNode) !== utility_1.identifyLayoutNodeType(thatNode)) {\n        throw new Error('Nodes to be joined must be of the same type.');\n      }\n\n      switch (utility_1.identifyLayoutNodeType(thisNode)) {\n        case 'Page':\n          this.joinPageNodes(thisNode, thatNode);\n          break;\n\n        case 'Line':\n          this.joinLineNodes(thisNode, thatNode);\n          break;\n\n        default:\n      }\n    };\n\n    NodeJoiner.prototype.joinPageNodes = function (thisNode, thatNode) {\n      var thisLastChild = thisNode.getLastChild();\n      var thatFirstChild = thatNode.getFirstChild();\n\n      if (thisLastChild && thatFirstChild && thisLastChild.getId() === thatFirstChild.getId()) {\n        this.joinBlockNodes(thisLastChild, thatFirstChild);\n      }\n\n      thatNode.getChildren().slice().forEach(function (child) {\n        thatNode.removeChild(child);\n        thisNode.appendChild(child);\n      });\n      var thatParent = thatNode.getParent();\n\n      if (thatParent) {\n        thatParent.removeChild(thatNode);\n      }\n    };\n\n    NodeJoiner.prototype.joinBlockNodes = function (thisNode, thatNode) {\n      thatNode.getChildren().slice().forEach(function (child) {\n        thatNode.removeChild(child);\n        thisNode.appendChild(child);\n      });\n      var thatParent = thatNode.getParent();\n\n      if (thatParent) {\n        thatParent.removeChild(thatNode);\n      }\n    };\n\n    NodeJoiner.prototype.joinLineNodes = function (thisNode, thatNode) {\n      var thisLastChild = thisNode.getLastChild();\n      var thatFirstChild = thatNode.getFirstChild();\n\n      if (thisLastChild && thatFirstChild && thisLastChild.getId() === thatFirstChild.getId()) {\n        this.joinInlineNodes(thisLastChild, thatFirstChild);\n      }\n\n      thatNode.getChildren().slice().forEach(function (child) {\n        thatNode.removeChild(child);\n        thisNode.appendChild(child);\n      });\n      var thatParent = thatNode.getParent();\n\n      if (thatParent) {\n        thatParent.removeChild(thatNode);\n      }\n    };\n\n    NodeJoiner.prototype.joinInlineNodes = function (thisNode, thatNode) {\n      thatNode.getChildren().slice().forEach(function (child) {\n        thatNode.removeChild(child);\n        thisNode.appendChild(child);\n      });\n      var thatParent = thatNode.getParent();\n\n      if (thatParent) {\n        thatParent.removeChild(thatNode);\n      }\n    };\n\n    return NodeJoiner;\n  }();\n\n  exports.NodeJoiner = NodeJoiner;\n});","define([\"require\", \"exports\", \"./token\"], function (require, exports, token_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  function identifyTokenType(token) {\n    if (token === token_1.CLOSE_TOKEN) {\n      return 'CloseToken';\n    }\n\n    if (typeof token === 'string') {\n      return 'ContentToken';\n    }\n\n    if (typeof token === 'object' && token.hasOwnProperty('componentId')) {\n      return 'OpenToken';\n    }\n\n    throw new Error(\"Failed to identify token type: \" + token + \".\");\n  }\n\n  exports.identifyTokenType = identifyTokenType;\n});","define([\"require\", \"exports\", \"./tw/taleweaver\"], function (require, exports, taleweaver_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.Taleweaver = taleweaver_1.Taleweaver;\n});","var __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n  }\n  result[\"default\"] = mod;\n  return result;\n};\n\ndefine([\"require\", \"exports\", \"./command/handlers/cursor\", \"./command/handlers/history\", \"./command/handlers/state\", \"./command/handlers/view\", \"./command/service\", \"./component/components/doc\", \"./component/components/paragraph\", \"./component/components/text\", \"./component/service\", \"./config/service\", \"./cursor/service\", \"./history/service\", \"./key-binding/service\", \"./layout/service\", \"./model/service\", \"./render/service\", \"./service/registry\", \"./state/service\", \"./util/id\", \"./view/service\"], function (require, exports, cursorCommandHandlers, historyCommandHandlers, stateCommandHandlers, viewCommandHandlers, service_1, doc_1, paragraph_1, text_1, service_2, service_3, service_4, service_5, service_6, service_7, service_8, service_9, registry_1, service_10, id_1, service_11) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  cursorCommandHandlers = __importStar(cursorCommandHandlers);\n  historyCommandHandlers = __importStar(historyCommandHandlers);\n  stateCommandHandlers = __importStar(stateCommandHandlers);\n  viewCommandHandlers = __importStar(viewCommandHandlers);\n\n  var Taleweaver =\n  /** @class */\n  function () {\n    function Taleweaver(initialMarkup, config) {\n      this.instanceId = id_1.generateId();\n      this.serviceRegistry = new registry_1.ServiceRegistry();\n      this.configService = new service_3.ConfigService(this.buildBaseConfig(), config);\n      this.commandService = new service_1.CommandService(this.configService, this.serviceRegistry);\n      this.componentService = new service_2.ComponentService(this.configService);\n      this.cursorService = new service_4.CursorService(this.configService);\n      this.stateService = new service_10.StateService(this.cursorService, initialMarkup);\n      this.historyService = new service_5.HistoryService(this.configService, this.stateService);\n      this.modelService = new service_8.ModelService(this.componentService, this.stateService);\n      this.renderService = new service_9.RenderService(this.componentService, this.modelService);\n      this.layoutService = new service_7.LayoutService(this.componentService, this.renderService);\n      this.viewService = new service_11.ViewService(this.instanceId, this.componentService, this.layoutService, this.cursorService, this.renderService, this.commandService);\n      this.keyBindingService = new service_6.KeyBindingService(this.configService, this.commandService, this.viewService);\n      this.registerServices();\n    }\n\n    Taleweaver.prototype.attach = function (domContainer) {\n      this.viewService.attach(domContainer);\n    };\n\n    Taleweaver.prototype.getServiceRegistry = function () {\n      return this.serviceRegistry;\n    };\n\n    Taleweaver.prototype.buildBaseConfig = function () {\n      return {\n        commands: {\n          'tw.cursor.move': cursorCommandHandlers.move,\n          'tw.cursor.moveUp': cursorCommandHandlers.moveUp,\n          'tw.cursor.moveDown': cursorCommandHandlers.moveDown,\n          'tw.cursor.moveLeft': cursorCommandHandlers.moveLeft,\n          'tw.cursor.moveRight': cursorCommandHandlers.moveRight,\n          'tw.cursor.moveLeftByWord': cursorCommandHandlers.moveLeftByWord,\n          'tw.cursor.moveRightByWord': cursorCommandHandlers.moveRightByWord,\n          'tw.cursor.moveToLineStart': cursorCommandHandlers.moveToLineStart,\n          'tw.cursor.moveToLineEnd': cursorCommandHandlers.moveToLineEnd,\n          'tw.cursor.moveToDocStart': cursorCommandHandlers.moveToDocStart,\n          'tw.cursor.moveToDocEnd': cursorCommandHandlers.moveToDocEnd,\n          'tw.cursor.moveHead': cursorCommandHandlers.moveHead,\n          'tw.cursor.moveHeadUp': cursorCommandHandlers.moveHeadUp,\n          'tw.cursor.moveHeadDown': cursorCommandHandlers.moveHeadDown,\n          'tw.cursor.moveHeadLeft': cursorCommandHandlers.moveHeadLeft,\n          'tw.cursor.moveHeadRight': cursorCommandHandlers.moveHeadRight,\n          'tw.cursor.moveHeadLeftByWord': cursorCommandHandlers.moveHeadLeftByWord,\n          'tw.cursor.moveHeadRightByWord': cursorCommandHandlers.moveHeadRightByWord,\n          'tw.cursor.moveHeadToLineStart': cursorCommandHandlers.moveHeadToLineStart,\n          'tw.cursor.moveHeadToLineEnd': cursorCommandHandlers.moveHeadToLineEnd,\n          'tw.cursor.moveHeadToDocStart': cursorCommandHandlers.moveHeadToDocStart,\n          'tw.cursor.moveHeadToDocEnd': cursorCommandHandlers.moveHeadToDocEnd,\n          'tw.cursor.selectAll': cursorCommandHandlers.selectAll,\n          'tw.history.undo': historyCommandHandlers.undo,\n          'tw.history.redo': historyCommandHandlers.redo,\n          'tw.state.insert': stateCommandHandlers.insert,\n          'tw.state.deleteBackward': stateCommandHandlers.deleteBackward,\n          'tw.state.deleteForward': stateCommandHandlers.deleteForward,\n          'tw.state.splitLine': stateCommandHandlers.splitLine,\n          'tw.view.focus': viewCommandHandlers.focus,\n          'tw.view.blur': viewCommandHandlers.blur\n        },\n        components: {\n          doc: new doc_1.DocComponent('doc'),\n          paragraph: new paragraph_1.ParagraphComponent('paragraph'),\n          text: new text_1.TextComponent('text', new text_1.TextMeasurer())\n        },\n        cursor: {\n          disable: false\n        },\n        history: {\n          collapseThreshold: 500,\n          maxCollapseDuration: 2000\n        },\n        keyBindings: {\n          common: {\n            left: {\n              command: 'tw.cursor.moveLeft'\n            },\n            right: {\n              command: 'tw.cursor.moveRight'\n            },\n            up: {\n              command: 'tw.cursor.moveUp'\n            },\n            down: {\n              command: 'tw.cursor.moveDown'\n            },\n            'shift+left': {\n              command: 'tw.cursor.moveHeadLeft'\n            },\n            'shift+right': {\n              command: 'tw.cursor.moveHeadRight'\n            },\n            'shift+up': {\n              command: 'tw.cursor.moveHeadUp'\n            },\n            'shift+down': {\n              command: 'tw.cursor.moveHeadDown'\n            },\n            backspace: {\n              command: 'tw.state.deleteBackward'\n            },\n            delete: {\n              command: 'tw.state.deleteForward'\n            },\n            enter: {\n              command: 'tw.state.splitLine'\n            }\n          },\n          macos: {\n            'alt+left': {\n              command: 'tw.cursor.moveLeftByWord'\n            },\n            'alt+right': {\n              command: 'tw.cursor.moveRightByWord'\n            },\n            'shift+alt+left': {\n              command: 'tw.cursor.moveHeadLeftByWord'\n            },\n            'shift+alt+right': {\n              command: 'tw.cursor.moveHeadRightByWord'\n            },\n            'cmd+left': {\n              command: 'tw.cursor.moveToLineStart'\n            },\n            'cmd+right': {\n              command: 'tw.cursor.moveToLineEnd'\n            },\n            'cmd+up': {\n              command: 'tw.cursor.moveToDocStart'\n            },\n            'cmd+down': {\n              command: 'tw.cursor.moveToDocEnd'\n            },\n            'shift+cmd+left': {\n              command: 'tw.cursor.moveHeadToLineStart'\n            },\n            'shift+cmd+right': {\n              command: 'tw.cursor.moveHeadToLineEnd'\n            },\n            'shift+cmd+up': {\n              command: 'tw.cursor.moveHeadToDocStart'\n            },\n            'shift+cmd+down': {\n              command: 'tw.cursor.moveHeadToDocEnd'\n            },\n            'cmd+a': {\n              command: 'tw.cursor.selectAll'\n            },\n            'cmd+z': {\n              command: 'tw.history.undo'\n            },\n            'shift+cmd+z': {\n              command: 'tw.history.redo'\n            }\n          },\n          windows: {\n            'ctrl+left': {\n              command: 'tw.cursor.moveLeftByWord'\n            },\n            'ctrl+right': {\n              command: 'tw.cursor.moveRightByWord'\n            },\n            'ctrl+shift+left': {\n              command: 'tw.cursor.moveHeadLeftByWord'\n            },\n            'ctrl+shift+right': {\n              command: 'tw.cursor.moveHeadRightByWord'\n            },\n            home: {\n              command: 'tw.cursor.moveToLineStart'\n            },\n            end: {\n              command: 'tw.cursor.moveToLineEnd'\n            },\n            'ctrl+home': {\n              command: 'tw.cursor.moveToDocStart'\n            },\n            'ctrl+end': {\n              command: 'tw.cursor.moveToDocEnd'\n            },\n            'shift+home': {\n              command: 'tw.cursor.moveHeadToLineStart'\n            },\n            'shift+end': {\n              command: 'tw.cursor.moveHeadToLineEnd'\n            },\n            'ctrl+shift+home': {\n              command: 'tw.cursor.moveHeadToDocStart'\n            },\n            'ctrl+shift+end': {\n              command: 'tw.cursor.moveHeadToDocEnd'\n            },\n            'ctrl+a': {\n              command: 'tw.cursor.selectAll'\n            },\n            'ctrl+z': {\n              command: 'tw.history.undo'\n            },\n            'ctrl+shift+z': {\n              command: 'tw.history.redo'\n            }\n          },\n          linux: {\n            'ctrl+left': {\n              command: 'tw.cursor.moveLeftByWord'\n            },\n            'ctrl+right': {\n              command: 'tw.cursor.moveRightByWord'\n            },\n            'ctrl+shift+left': {\n              command: 'tw.cursor.moveHeadLeftByWord'\n            },\n            'ctrl+shift+right': {\n              command: 'tw.cursor.moveHeadRightByWord'\n            },\n            home: {\n              command: 'tw.cursor.moveToLineStart'\n            },\n            end: {\n              command: 'tw.cursor.moveToLineEnd'\n            },\n            'ctrl+home': {\n              command: 'tw.cursor.moveToDocStart'\n            },\n            'ctrl+end': {\n              command: 'tw.cursor.moveToDocEnd'\n            },\n            'shift+home': {\n              command: 'tw.cursor.moveHeadToLineStart'\n            },\n            'shift+end': {\n              command: 'tw.cursor.moveHeadToLineEnd'\n            },\n            'ctrl+shift+home': {\n              command: 'tw.cursor.moveHeadToDocStart'\n            },\n            'ctrl+shift+end': {\n              command: 'tw.cursor.moveHeadToDocEnd'\n            },\n            'ctrl+a': {\n              command: 'tw.cursor.selectAll'\n            },\n            'ctrl+z': {\n              command: 'tw.history.undo'\n            },\n            'ctrl+shift+z': {\n              command: 'tw.history.redo'\n            }\n          }\n        },\n        page: {\n          width: 816,\n          height: 1056,\n          paddingTop: 40,\n          paddingBottom: 40,\n          paddingLeft: 40,\n          paddingRight: 40\n        }\n      };\n    };\n\n    Taleweaver.prototype.registerServices = function () {\n      this.serviceRegistry.registerService('config', this.configService);\n      this.serviceRegistry.registerService('command', this.commandService);\n      this.serviceRegistry.registerService('component', this.componentService);\n      this.serviceRegistry.registerService('cursor', this.cursorService);\n      this.serviceRegistry.registerService('history', this.historyService);\n      this.serviceRegistry.registerService('state', this.stateService);\n      this.serviceRegistry.registerService('model', this.modelService);\n      this.serviceRegistry.registerService('render', this.renderService);\n      this.serviceRegistry.registerService('layout', this.layoutService);\n      this.serviceRegistry.registerService('view', this.viewService);\n      this.serviceRegistry.registerService('keyBinding', this.keyBindingService);\n    };\n\n    return Taleweaver;\n  }();\n\n  exports.Taleweaver = Taleweaver;\n});","var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : new P(function (resolve) {\n        resolve(result.value);\n      }).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\ndefine([\"require\", \"exports\", \"../../layout/utility\", \"../../render/utility\", \"../../state/transformation\"], function (require, exports, utility_1, utility_2, transformation_1) {\n  \"use strict\";\n\n  var _this = this;\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  exports.move = function (serviceRegistry, offset) {\n    return __awaiter(_this, void 0, void 0, function () {\n      var tn;\n      return __generator(this, function (_a) {\n        tn = new transformation_1.Transformation();\n        tn.setCursor(offset);\n        serviceRegistry.getService('state').applyTransformation(tn);\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  exports.moveLeft = function (serviceRegistry) {\n    return __awaiter(_this, void 0, void 0, function () {\n      var cursorService, tn, cursorState, anchor, head;\n      return __generator(this, function (_a) {\n        cursorService = serviceRegistry.getService('cursor');\n\n        if (!cursorService.hasCursor()) {\n          return [2\n          /*return*/\n          ];\n        }\n\n        tn = new transformation_1.Transformation();\n        cursorState = cursorService.getCursorState();\n        anchor = cursorState.anchor;\n        head = cursorState.head;\n\n        if (anchor === head) {\n          if (head < 1) {\n            return [2\n            /*return*/\n            ];\n          }\n\n          tn.setCursor(head - 1);\n        } else {\n          if (anchor < head) {\n            tn.setCursor(anchor);\n          } else if (anchor > head) {\n            tn.setCursor(head);\n          }\n        }\n\n        serviceRegistry.getService('state').applyTransformation(tn);\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  exports.moveRight = function (serviceRegistry) {\n    return __awaiter(_this, void 0, void 0, function () {\n      var cursorService, renderService, tn, cursorState, anchor, head, docSize;\n      return __generator(this, function (_a) {\n        cursorService = serviceRegistry.getService('cursor');\n        renderService = serviceRegistry.getService('render');\n\n        if (!cursorService.hasCursor()) {\n          return [2\n          /*return*/\n          ];\n        }\n\n        tn = new transformation_1.Transformation();\n        cursorState = cursorService.getCursorState();\n        anchor = cursorState.anchor;\n        head = cursorState.head;\n        docSize = renderService.getDocSize();\n\n        if (anchor === head) {\n          if (head >= docSize - 1) {\n            return [2\n            /*return*/\n            ];\n          }\n\n          tn.setCursor(head + 1);\n        } else {\n          if (anchor < head) {\n            tn.setCursor(head);\n          } else if (anchor > head) {\n            tn.setCursor(anchor);\n          }\n        }\n\n        serviceRegistry.getService('state').applyTransformation(tn);\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  exports.moveUp = function (serviceRegistry) {\n    return __awaiter(_this, void 0, void 0, function () {\n      var cursorService, layoutService, tn, cursorState, offset, position, linePosition, lineNode, previousLineNode, leftLock, targetLineSelectableOffset;\n      return __generator(this, function (_a) {\n        cursorService = serviceRegistry.getService('cursor');\n        layoutService = serviceRegistry.getService('layout');\n\n        if (!cursorService.hasCursor()) {\n          return [2\n          /*return*/\n          ];\n        }\n\n        tn = new transformation_1.Transformation();\n        cursorState = cursorService.getCursorState();\n        offset = Math.min(cursorState.anchor, cursorState.head);\n        position = layoutService.resolvePosition(offset);\n        linePosition = position.getLeaf().getParent().getParent();\n        lineNode = linePosition.getNode();\n\n        if (utility_1.identifyLayoutNodeType(lineNode) !== 'Line') {\n          throw new Error(\"Expecting position to be referencing an line node.\");\n        }\n\n        previousLineNode = lineNode.getPreviousSiblingAllowCrossParent();\n\n        if (!previousLineNode) {\n          tn.setCursor(offset - linePosition.getOffset());\n        } else {\n          leftLock = cursorState.leftLock;\n\n          if (leftLock === null) {\n            leftLock = lineNode.resolveRects(linePosition.getOffset(), linePosition.getOffset())[0].left;\n          }\n\n          tn.setCursorLockLeft(leftLock);\n          targetLineSelectableOffset = previousLineNode.convertCoordinateToOffset(leftLock);\n          tn.setCursor(offset - linePosition.getOffset() - previousLineNode.getSize() + targetLineSelectableOffset);\n        }\n\n        serviceRegistry.getService('state').applyTransformation(tn);\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  exports.moveDown = function (serviceRegistry) {\n    return __awaiter(_this, void 0, void 0, function () {\n      var cursorService, layoutService, tn, cursorState, offset, position, linePosition, lineNode, nextLineNode, leftLock, targetLineSelectableOffset;\n      return __generator(this, function (_a) {\n        cursorService = serviceRegistry.getService('cursor');\n        layoutService = serviceRegistry.getService('layout');\n\n        if (!cursorService.hasCursor()) {\n          return [2\n          /*return*/\n          ];\n        }\n\n        tn = new transformation_1.Transformation();\n        cursorState = cursorService.getCursorState();\n        offset = Math.max(cursorState.anchor, cursorState.head);\n        position = layoutService.resolvePosition(offset);\n        linePosition = position.getLeaf().getParent().getParent();\n        lineNode = linePosition.getNode();\n\n        if (utility_1.identifyLayoutNodeType(lineNode) !== 'Line') {\n          throw new Error(\"Expecting position to be referencing an line node.\");\n        }\n\n        nextLineNode = lineNode.getNextSiblingAllowCrossParent();\n\n        if (!nextLineNode) {\n          tn.setCursor(offset - linePosition.getOffset() + lineNode.getSize() - 1);\n        } else {\n          leftLock = cursorState.leftLock;\n\n          if (leftLock === null) {\n            leftLock = lineNode.resolveRects(linePosition.getOffset(), linePosition.getOffset())[0].left;\n          }\n\n          tn.setCursorLockLeft(leftLock);\n          targetLineSelectableOffset = nextLineNode.convertCoordinateToOffset(leftLock);\n          tn.setCursor(offset - linePosition.getOffset() + lineNode.getSize() + targetLineSelectableOffset);\n        }\n\n        serviceRegistry.getService('state').applyTransformation(tn);\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  exports.moveLeftByWord = function (serviceRegistry) {\n    return __awaiter(_this, void 0, void 0, function () {\n      var cursorService, renderService, tn, cursorState, offset, position, atomicPosition, atomicNode, previousAtomicNode;\n      return __generator(this, function (_a) {\n        cursorService = serviceRegistry.getService('cursor');\n        renderService = serviceRegistry.getService('render');\n\n        if (!cursorService.hasCursor()) {\n          return [2\n          /*return*/\n          ];\n        }\n\n        tn = new transformation_1.Transformation();\n        cursorState = cursorService.getCursorState();\n        offset = Math.min(cursorState.anchor, cursorState.head);\n        position = renderService.resolvePosition(offset);\n        atomicPosition = position.getLeaf();\n        atomicNode = atomicPosition.getNode();\n\n        if (utility_2.identifyRenderNodeType(atomicNode) !== 'atomic') {\n          throw new Error(\"Expecting position to be referencing an atomic node.\");\n        }\n\n        if (atomicPosition.getOffset() > 0) {\n          tn.setCursor(offset - atomicPosition.getOffset());\n        } else {\n          previousAtomicNode = atomicNode.getPreviousSiblingAllowCrossParent();\n\n          if (previousAtomicNode) {\n            tn.setCursor(offset - previousAtomicNode.getSize());\n          } else {\n            tn.setCursor(offset);\n          }\n        }\n\n        serviceRegistry.getService('state').applyTransformation(tn);\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  exports.moveRightByWord = function (serviceRegistry) {\n    return __awaiter(_this, void 0, void 0, function () {\n      var cursorService, renderService, tn, cursorState, offset, position, atomicPosition, atomicNode, nextAtomicNode, newOffset;\n      return __generator(this, function (_a) {\n        cursorService = serviceRegistry.getService('cursor');\n        renderService = serviceRegistry.getService('render');\n\n        if (!cursorService.hasCursor()) {\n          return [2\n          /*return*/\n          ];\n        }\n\n        tn = new transformation_1.Transformation();\n        cursorState = cursorService.getCursorState();\n        offset = Math.max(cursorState.anchor, cursorState.head);\n        position = renderService.resolvePosition(offset);\n        atomicPosition = position.getLeaf();\n        atomicNode = atomicPosition.getNode();\n\n        if (utility_2.identifyRenderNodeType(atomicNode) !== 'atomic') {\n          throw new Error(\"Expecting position to be referencing an atomic node.\");\n        }\n\n        if (atomicPosition.getOffset() < atomicNode.getSize() - 1) {\n          tn.setCursor(offset - atomicPosition.getOffset() + atomicNode.getSize() - 1);\n        } else {\n          nextAtomicNode = atomicNode.getNextSiblingAllowCrossParent();\n\n          if (nextAtomicNode) {\n            newOffset = offset - atomicPosition.getOffset() + atomicNode.getSize() + nextAtomicNode.getSize();\n\n            if (nextAtomicNode.isBreakable()) {\n              newOffset--;\n            }\n\n            tn.setCursor(newOffset);\n          } else {\n            tn.setCursor(offset);\n          }\n        }\n\n        serviceRegistry.getService('state').applyTransformation(tn);\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  exports.moveToLineStart = function (serviceRegistry) {\n    return __awaiter(_this, void 0, void 0, function () {\n      var cursorService, layoutService, tn, cursorState, offset, position, lineBoxLevelPosition;\n      return __generator(this, function (_a) {\n        cursorService = serviceRegistry.getService('cursor');\n        layoutService = serviceRegistry.getService('layout');\n\n        if (!cursorService.hasCursor()) {\n          return [2\n          /*return*/\n          ];\n        }\n\n        tn = new transformation_1.Transformation();\n        cursorState = cursorService.getCursorState();\n        offset = Math.min(cursorState.anchor, cursorState.head);\n        position = layoutService.resolvePosition(offset);\n        lineBoxLevelPosition = position.getLeaf().getParent().getParent();\n\n        if (lineBoxLevelPosition.getOffset() > 0) {\n          tn.setCursor(offset - lineBoxLevelPosition.getOffset());\n        } else {\n          tn.setCursor(offset);\n        }\n\n        serviceRegistry.getService('state').applyTransformation(tn);\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  exports.moveToLineEnd = function (serviceRegistry) {\n    return __awaiter(_this, void 0, void 0, function () {\n      var cursorService, layoutService, tn, cursorState, offset, position, lineLayoutPosition, lineLayoutNode;\n      return __generator(this, function (_a) {\n        cursorService = serviceRegistry.getService('cursor');\n        layoutService = serviceRegistry.getService('layout');\n\n        if (!cursorService.hasCursor()) {\n          return [2\n          /*return*/\n          ];\n        }\n\n        tn = new transformation_1.Transformation();\n        cursorState = cursorService.getCursorState();\n        offset = Math.max(cursorState.anchor, cursorState.head);\n        position = layoutService.resolvePosition(offset);\n        lineLayoutPosition = position.getLeaf().getParent().getParent();\n        lineLayoutNode = lineLayoutPosition.getNode();\n\n        if (utility_1.identifyLayoutNodeType(lineLayoutNode) !== 'Line') {\n          throw new Error(\"Expecting position to be referencing an line layout node.\");\n        }\n\n        if (lineLayoutPosition.getOffset() < lineLayoutNode.getSize() - 1) {\n          tn.setCursor(offset - lineLayoutPosition.getOffset() + lineLayoutNode.getSize() - 1);\n        } else {\n          tn.setCursor(offset);\n        }\n\n        serviceRegistry.getService('state').applyTransformation(tn);\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  exports.moveToDocStart = function (serviceRegistry) {\n    return __awaiter(_this, void 0, void 0, function () {\n      var cursorService, tn;\n      return __generator(this, function (_a) {\n        cursorService = serviceRegistry.getService('cursor');\n\n        if (!cursorService.hasCursor()) {\n          return [2\n          /*return*/\n          ];\n        }\n\n        tn = new transformation_1.Transformation();\n        tn.setCursor(0);\n        serviceRegistry.getService('state').applyTransformation(tn);\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  exports.moveToDocEnd = function (serviceRegistry) {\n    return __awaiter(_this, void 0, void 0, function () {\n      var cursorService, renderService, tn, docSize;\n      return __generator(this, function (_a) {\n        cursorService = serviceRegistry.getService('cursor');\n        renderService = serviceRegistry.getService('render');\n\n        if (!cursorService.hasCursor()) {\n          return [2\n          /*return*/\n          ];\n        }\n\n        tn = new transformation_1.Transformation();\n        docSize = renderService.getDocSize();\n        tn.setCursor(docSize - 1);\n        serviceRegistry.getService('state').applyTransformation(tn);\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  exports.moveHead = function (serviceRegistry, offset) {\n    return __awaiter(_this, void 0, void 0, function () {\n      var tn;\n      return __generator(this, function (_a) {\n        tn = new transformation_1.Transformation();\n        tn.setCursorHead(offset);\n        serviceRegistry.getService('state').applyTransformation(tn);\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  exports.moveHeadLeft = function (serviceRegistry) {\n    return __awaiter(_this, void 0, void 0, function () {\n      var cursorService, tn, cursorState, head;\n      return __generator(this, function (_a) {\n        cursorService = serviceRegistry.getService('cursor');\n\n        if (!cursorService.hasCursor()) {\n          return [2\n          /*return*/\n          ];\n        }\n\n        tn = new transformation_1.Transformation();\n        cursorState = cursorService.getCursorState();\n        head = cursorState.head;\n\n        if (head < 1) {\n          return [2\n          /*return*/\n          ];\n        }\n\n        tn.setCursorHead(head - 1);\n        serviceRegistry.getService('state').applyTransformation(tn);\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  exports.moveHeadRight = function (serviceRegistry) {\n    return __awaiter(_this, void 0, void 0, function () {\n      var cursorService, renderService, tn, cursorState, head, docSize;\n      return __generator(this, function (_a) {\n        cursorService = serviceRegistry.getService('cursor');\n        renderService = serviceRegistry.getService('render');\n\n        if (!cursorService.hasCursor()) {\n          return [2\n          /*return*/\n          ];\n        }\n\n        tn = new transformation_1.Transformation();\n        cursorState = cursorService.getCursorState();\n        head = cursorState.head;\n        docSize = renderService.getDocSize();\n\n        if (head >= docSize - 1) {\n          return [2\n          /*return*/\n          ];\n        }\n\n        tn.setCursorHead(head + 1);\n        serviceRegistry.getService('state').applyTransformation(tn);\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  exports.moveHeadUp = function (serviceRegistry) {\n    return __awaiter(_this, void 0, void 0, function () {\n      var cursorService, layoutService, tn, cursorState, position, linePosition, lineNode, previousLineNode, leftLock, targetLineSelectableOffset;\n      return __generator(this, function (_a) {\n        cursorService = serviceRegistry.getService('cursor');\n        layoutService = serviceRegistry.getService('layout');\n\n        if (!cursorService.hasCursor()) {\n          return [2\n          /*return*/\n          ];\n        }\n\n        tn = new transformation_1.Transformation();\n        cursorState = cursorService.getCursorState();\n        position = layoutService.resolvePosition(cursorState.head);\n        linePosition = position.getLeaf().getParent().getParent();\n        lineNode = linePosition.getNode();\n\n        if (utility_1.identifyLayoutNodeType(lineNode) !== 'Line') {\n          throw new Error(\"Expecting position to be referencing an line node.\");\n        }\n\n        previousLineNode = lineNode.getPreviousSiblingAllowCrossParent();\n\n        if (!previousLineNode) {\n          tn.setCursorHead(cursorState.head - linePosition.getOffset());\n        } else {\n          leftLock = cursorState.leftLock;\n\n          if (leftLock === null) {\n            leftLock = lineNode.resolveRects(linePosition.getOffset(), linePosition.getOffset())[0].left;\n          }\n\n          tn.setCursorLockLeft(leftLock);\n          targetLineSelectableOffset = previousLineNode.convertCoordinateToOffset(leftLock);\n          tn.setCursorHead(cursorState.head - linePosition.getOffset() - previousLineNode.getSize() + targetLineSelectableOffset);\n        }\n\n        serviceRegistry.getService('state').applyTransformation(tn);\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  exports.moveHeadDown = function (serviceRegistry) {\n    return __awaiter(_this, void 0, void 0, function () {\n      var cursorService, layoutService, tn, cursorState, offset, position, linePosition, lineNode, nextLineNode, leftLock, targetLineSelectableOffset;\n      return __generator(this, function (_a) {\n        cursorService = serviceRegistry.getService('cursor');\n        layoutService = serviceRegistry.getService('layout');\n\n        if (!cursorService.hasCursor()) {\n          return [2\n          /*return*/\n          ];\n        }\n\n        tn = new transformation_1.Transformation();\n        cursorState = cursorService.getCursorState();\n        offset = cursorState.head;\n        position = layoutService.resolvePosition(offset);\n        linePosition = position.getLeaf().getParent().getParent();\n        lineNode = linePosition.getNode();\n\n        if (utility_1.identifyLayoutNodeType(lineNode) !== 'Line') {\n          throw new Error(\"Expecting position to be referencing an line node.\");\n        }\n\n        nextLineNode = lineNode.getNextSiblingAllowCrossParent();\n\n        if (!nextLineNode) {\n          tn.setCursorHead(offset - linePosition.getOffset() + lineNode.getSize() - 1);\n        } else {\n          leftLock = cursorState.leftLock;\n\n          if (leftLock === null) {\n            leftLock = lineNode.resolveRects(linePosition.getOffset(), linePosition.getOffset())[0].left;\n          }\n\n          tn.setCursorLockLeft(leftLock);\n          targetLineSelectableOffset = nextLineNode.convertCoordinateToOffset(leftLock);\n          tn.setCursorHead(offset - linePosition.getOffset() + lineNode.getSize() + targetLineSelectableOffset);\n        }\n\n        serviceRegistry.getService('state').applyTransformation(tn);\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  exports.moveHeadLeftByWord = function (serviceRegistry) {\n    return __awaiter(_this, void 0, void 0, function () {\n      var cursorService, renderService, tn, cursorState, offset, position, atomicPosition, atomicNode, previousAtomicNode;\n      return __generator(this, function (_a) {\n        cursorService = serviceRegistry.getService('cursor');\n        renderService = serviceRegistry.getService('render');\n\n        if (!cursorService.hasCursor()) {\n          return [2\n          /*return*/\n          ];\n        }\n\n        tn = new transformation_1.Transformation();\n        cursorState = cursorService.getCursorState();\n        offset = cursorState.head;\n        position = renderService.resolvePosition(offset);\n        atomicPosition = position.getLeaf();\n        atomicNode = atomicPosition.getNode();\n\n        if (utility_2.identifyRenderNodeType(atomicNode) !== 'atomic') {\n          throw new Error(\"Expecting position to be referencing an atomic node.\");\n        }\n\n        if (atomicPosition.getOffset() > 0) {\n          tn.setCursorHead(offset - atomicPosition.getOffset());\n        } else {\n          previousAtomicNode = atomicNode.getPreviousSiblingAllowCrossParent();\n\n          if (previousAtomicNode) {\n            tn.setCursorHead(offset - previousAtomicNode.getSize());\n          }\n        }\n\n        serviceRegistry.getService('state').applyTransformation(tn);\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  exports.moveHeadRightByWord = function (serviceRegistry) {\n    return __awaiter(_this, void 0, void 0, function () {\n      var cursorService, renderService, tn, cursorState, offset, position, atomicPosition, atomicNode, nextAtomicNode, newCursorPosition;\n      return __generator(this, function (_a) {\n        cursorService = serviceRegistry.getService('cursor');\n        renderService = serviceRegistry.getService('render');\n\n        if (!cursorService.hasCursor()) {\n          return [2\n          /*return*/\n          ];\n        }\n\n        tn = new transformation_1.Transformation();\n        cursorState = cursorService.getCursorState();\n        offset = cursorState.head;\n        position = renderService.resolvePosition(offset);\n        atomicPosition = position.getLeaf();\n        atomicNode = atomicPosition.getNode();\n\n        if (utility_2.identifyRenderNodeType(atomicNode) !== 'atomic') {\n          throw new Error(\"Expecting position to be referencing an atomic node.\");\n        }\n\n        if (atomicPosition.getOffset() < atomicNode.getSize() - 1) {\n          tn.setCursorHead(offset - atomicPosition.getOffset() + atomicNode.getSize() - 1);\n        } else {\n          nextAtomicNode = atomicNode.getNextSiblingAllowCrossParent();\n\n          if (nextAtomicNode) {\n            newCursorPosition = offset - atomicPosition.getOffset() + atomicNode.getSize() + nextAtomicNode.getSize();\n\n            if (nextAtomicNode.isBreakable()) {\n              newCursorPosition--;\n            }\n\n            tn.setCursorHead(newCursorPosition);\n          }\n        }\n\n        serviceRegistry.getService('state').applyTransformation(tn);\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  exports.moveHeadToLineStart = function (serviceRegistry) {\n    return __awaiter(_this, void 0, void 0, function () {\n      var cursorService, layoutService, tn, cursorState, offset, position, lineLayoutPosition;\n      return __generator(this, function (_a) {\n        cursorService = serviceRegistry.getService('cursor');\n        layoutService = serviceRegistry.getService('layout');\n\n        if (!cursorService.hasCursor()) {\n          return [2\n          /*return*/\n          ];\n        }\n\n        tn = new transformation_1.Transformation();\n        cursorState = cursorService.getCursorState();\n        offset = cursorState.head;\n        position = layoutService.resolvePosition(offset);\n        lineLayoutPosition = position.getLeaf().getParent().getParent();\n\n        if (lineLayoutPosition.getOffset() > 0) {\n          tn.setCursorHead(offset - lineLayoutPosition.getOffset());\n        } else {\n          tn.setCursorHead(offset);\n        }\n\n        serviceRegistry.getService('state').applyTransformation(tn);\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  exports.moveHeadToLineEnd = function (serviceRegistry) {\n    return __awaiter(_this, void 0, void 0, function () {\n      var cursorService, layoutService, tn, cursorState, offset, position, lineLayoutPosition, lineLayoutNode;\n      return __generator(this, function (_a) {\n        cursorService = serviceRegistry.getService('cursor');\n        layoutService = serviceRegistry.getService('layout');\n\n        if (!cursorService.hasCursor()) {\n          return [2\n          /*return*/\n          ];\n        }\n\n        tn = new transformation_1.Transformation();\n        cursorState = cursorService.getCursorState();\n        offset = cursorState.head;\n        position = layoutService.resolvePosition(offset);\n        lineLayoutPosition = position.getLeaf().getParent().getParent();\n        lineLayoutNode = lineLayoutPosition.getNode();\n\n        if (utility_1.identifyLayoutNodeType(lineLayoutNode) !== 'Line') {\n          throw new Error(\"Expecting position to be referencing an line layout node.\");\n        }\n\n        if (lineLayoutPosition.getOffset() < lineLayoutNode.getSize() - 1) {\n          tn.setCursorHead(offset - lineLayoutPosition.getOffset() + lineLayoutNode.getSize() - 1);\n        } else {\n          tn.setCursorHead(offset);\n        }\n\n        serviceRegistry.getService('state').applyTransformation(tn);\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  exports.moveHeadToDocStart = function (serviceRegistry) {\n    return __awaiter(_this, void 0, void 0, function () {\n      var cursorService, tn;\n      return __generator(this, function (_a) {\n        cursorService = serviceRegistry.getService('cursor');\n\n        if (!cursorService.hasCursor()) {\n          return [2\n          /*return*/\n          ];\n        }\n\n        tn = new transformation_1.Transformation();\n        tn.setCursorHead(0);\n        serviceRegistry.getService('state').applyTransformation(tn);\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  exports.moveHeadToDocEnd = function (serviceRegistry) {\n    return __awaiter(_this, void 0, void 0, function () {\n      var cursorService, renderService, tn, docSize;\n      return __generator(this, function (_a) {\n        cursorService = serviceRegistry.getService('cursor');\n        renderService = serviceRegistry.getService('render');\n\n        if (!cursorService.hasCursor()) {\n          return [2\n          /*return*/\n          ];\n        }\n\n        tn = new transformation_1.Transformation();\n        docSize = renderService.getDocSize();\n        tn.setCursorHead(docSize - 1);\n        serviceRegistry.getService('state').applyTransformation(tn);\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  exports.selectAll = function (serviceRegistry) {\n    return __awaiter(_this, void 0, void 0, function () {\n      var cursorService, renderService, tn, docSize;\n      return __generator(this, function (_a) {\n        cursorService = serviceRegistry.getService('cursor');\n        renderService = serviceRegistry.getService('render');\n\n        if (!cursorService.hasCursor()) {\n          return [2\n          /*return*/\n          ];\n        }\n\n        tn = new transformation_1.Transformation();\n        docSize = renderService.getDocSize();\n        tn.setCursor(0);\n        tn.setCursorHead(docSize - 1);\n        serviceRegistry.getService('state').applyTransformation(tn);\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n});","define([\"require\", \"exports\"], function (require, exports) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  function mergeLayoutRects(rects) {\n    // Assume rects are sorted top to bottom, left to right\n    for (var n = 0; n < rects.length; n++) {\n      var rect = rects[n];\n\n      if (n === 0) {\n        continue;\n      }\n\n      var previousRect = rects[n - 1];\n\n      if (rect.top !== previousRect.top) {\n        continue;\n      }\n\n      if (rect.height !== previousRect.height) {\n        continue;\n      }\n\n      if (rect.left === previousRect.left + previousRect.width) {\n        previousRect.width += rect.width;\n        previousRect.right = rect.right;\n        rects.splice(n, 1);\n        n -= 1;\n      }\n    }\n  }\n\n  exports.mergeLayoutRects = mergeLayoutRects;\n});","define([\"require\", \"exports\", \"./atomic-node\", \"./block-node\", \"./doc-node\", \"./inline-node\"], function (require, exports, atomic_node_1, block_node_1, doc_node_1, inline_node_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  function identifyRenderNodeType(node) {\n    if (node instanceof doc_node_1.DocRenderNode) {\n      return 'doc';\n    }\n\n    if (node instanceof block_node_1.BlockRenderNode) {\n      return 'block';\n    }\n\n    if (node instanceof inline_node_1.InlineRenderNode) {\n      return 'inline';\n    }\n\n    if (node instanceof atomic_node_1.AtomicRenderNode) {\n      return 'atomic';\n    }\n\n    throw new Error('Unknown render node type.');\n  }\n\n  exports.identifyRenderNodeType = identifyRenderNodeType;\n});","var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : new P(function (resolve) {\n        resolve(result.value);\n      }).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\ndefine([\"require\", \"exports\"], function (require, exports) {\n  \"use strict\";\n\n  var _this = this;\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  exports.undo = function (serviceRegistry) {\n    return __awaiter(_this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        serviceRegistry.getService('history').undo();\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  exports.redo = function (serviceRegistry) {\n    return __awaiter(_this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        serviceRegistry.getService('history').redo();\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n});","var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : new P(function (resolve) {\n        resolve(result.value);\n      }).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\ndefine([\"require\", \"exports\", \"../../model/utility\", \"../../state/token\", \"../../state/transformation\", \"../../util/id\"], function (require, exports, utility_1, token_1, transformation_1, id_1) {\n  \"use strict\";\n\n  var _this = this;\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  function moveCursorByModelOffset(serviceRegistry, modelOffset) {\n    var renderService = serviceRegistry.getService('render');\n    var offset = renderService.convertModelOffsetToOffset(modelOffset);\n    var tn = new transformation_1.Transformation();\n    tn.setCursor(offset);\n    serviceRegistry.getService('state').applyTransformation(tn);\n  }\n\n  exports.insert = function (serviceRegistry, tokens) {\n    return __awaiter(_this, void 0, void 0, function () {\n      var cursorService, renderService, tn, _a, anchor, head, collapsedAt, modelCollapsedAt;\n\n      return __generator(this, function (_b) {\n        cursorService = serviceRegistry.getService('cursor');\n        renderService = serviceRegistry.getService('render');\n\n        if (!cursorService.hasCursor()) {\n          return [2\n          /*return*/\n          ];\n        }\n\n        tn = new transformation_1.Transformation();\n        _a = cursorService.getCursorState(), anchor = _a.anchor, head = _a.head;\n        collapsedAt = Math.min(anchor, head);\n\n        if (anchor !== head) {\n          tn.addOperation(new transformation_1.DeleteOperation(renderService.convertOffsetToModelOffset(Math.min(anchor, head)), renderService.convertOffsetToModelOffset(Math.max(anchor, head))));\n        }\n\n        modelCollapsedAt = renderService.convertOffsetToModelOffset(collapsedAt);\n        tn.addOperation(new transformation_1.InsertOperation(modelCollapsedAt, tokens));\n        serviceRegistry.getService('state').applyTransformation(tn);\n        moveCursorByModelOffset(serviceRegistry, modelCollapsedAt + tokens.length);\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  exports.deleteBackward = function (serviceRegistry) {\n    return __awaiter(_this, void 0, void 0, function () {\n      var cursorService, renderService, tn, _a, anchor, head, deleteFrom, deleteTo, modelDeleteFrom, modelDeleteTo;\n\n      return __generator(this, function (_b) {\n        cursorService = serviceRegistry.getService('cursor');\n        renderService = serviceRegistry.getService('render');\n\n        if (!cursorService.hasCursor()) {\n          return [2\n          /*return*/\n          ];\n        }\n\n        tn = new transformation_1.Transformation();\n        _a = cursorService.getCursorState(), anchor = _a.anchor, head = _a.head;\n\n        if (anchor === head) {\n          if (head < 1) {\n            return [2\n            /*return*/\n            ];\n          }\n\n          deleteFrom = head - 1;\n          deleteTo = head;\n        } else {\n          deleteFrom = Math.min(anchor, head);\n          deleteTo = Math.max(anchor, head);\n        }\n\n        modelDeleteFrom = renderService.convertOffsetToModelOffset(deleteFrom);\n        modelDeleteTo = renderService.convertOffsetToModelOffset(deleteTo);\n        tn.addOperation(new transformation_1.DeleteOperation(modelDeleteFrom, modelDeleteTo));\n        serviceRegistry.getService('state').applyTransformation(tn);\n        moveCursorByModelOffset(serviceRegistry, modelDeleteFrom);\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  exports.deleteForward = function (serviceRegistry) {\n    return __awaiter(_this, void 0, void 0, function () {\n      var cursorService, renderService, tn, _a, anchor, head, deleteFrom, deleteTo, modelDeleteFrom, modelDeleteTo;\n\n      return __generator(this, function (_b) {\n        cursorService = serviceRegistry.getService('cursor');\n        renderService = serviceRegistry.getService('render');\n\n        if (!cursorService.hasCursor()) {\n          return [2\n          /*return*/\n          ];\n        }\n\n        tn = new transformation_1.Transformation();\n        _a = cursorService.getCursorState(), anchor = _a.anchor, head = _a.head;\n\n        if (anchor === head) {\n          if (head >= renderService.getDocSize() - 1) {\n            return [2\n            /*return*/\n            ];\n          }\n\n          deleteFrom = head;\n          deleteTo = head + 1;\n        } else {\n          deleteFrom = Math.min(anchor, head);\n          deleteTo = Math.max(anchor, head);\n        }\n\n        modelDeleteFrom = renderService.convertOffsetToModelOffset(deleteFrom);\n        modelDeleteTo = renderService.convertOffsetToModelOffset(deleteTo);\n        tn.addOperation(new transformation_1.DeleteOperation(modelDeleteFrom, modelDeleteTo));\n        serviceRegistry.getService('state').applyTransformation(tn);\n        moveCursorByModelOffset(serviceRegistry, modelDeleteFrom);\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  exports.splitLine = function (serviceRegistry) {\n    return __awaiter(_this, void 0, void 0, function () {\n      var cursorService, renderService, modelService, anchor, position, nodes, node, tokens;\n      return __generator(this, function (_a) {\n        cursorService = serviceRegistry.getService('cursor');\n        renderService = serviceRegistry.getService('render');\n        modelService = serviceRegistry.getService('model');\n\n        if (!cursorService.hasCursor()) {\n          return [2\n          /*return*/\n          ];\n        }\n\n        anchor = cursorService.getCursorState().anchor;\n        position = modelService.resolvePosition(renderService.convertOffsetToModelOffset(anchor)).getLeaf();\n        nodes = [];\n\n        while (position) {\n          node = position.getNode();\n          nodes.push(node);\n\n          if (utility_1.identifyModelNodeType(node) === 'block') {\n            break;\n          }\n\n          position = position.getParent();\n        }\n\n        tokens = [];\n        nodes.reverse().forEach(function (node) {\n          tokens.unshift(token_1.CLOSE_TOKEN);\n          tokens.push({\n            componentId: node.getComponentId(),\n            partId: node.getPartId(),\n            id: id_1.generateId(),\n            attributes: node.getAttributes()\n          });\n        });\n        return [2\n        /*return*/\n        , exports.insert(serviceRegistry, tokens)];\n      });\n    });\n  };\n});","define([\"require\", \"exports\", \"./block-node\", \"./doc-node\", \"./inline-node\"], function (require, exports, block_node_1, doc_node_1, inline_node_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  function identifyModelNodeType(node) {\n    if (node instanceof doc_node_1.DocModelNode) {\n      return 'doc';\n    }\n\n    if (node instanceof block_node_1.BlockModelNode) {\n      return 'block';\n    }\n\n    if (node instanceof inline_node_1.InlineModelNode) {\n      return 'inline';\n    }\n\n    throw new Error('Unknown model node type.');\n  }\n\n  exports.identifyModelNodeType = identifyModelNodeType;\n});","var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : new P(function (resolve) {\n        resolve(result.value);\n      }).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\ndefine([\"require\", \"exports\"], function (require, exports) {\n  \"use strict\";\n\n  var _this = this;\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  exports.focus = function (serviceRegistry) {\n    return __awaiter(_this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        serviceRegistry.getService('view').requestFocus();\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  exports.blur = function (serviceRegistry) {\n    return __awaiter(_this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        serviceRegistry.getService('view').requestBlur();\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n});","var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : new P(function (resolve) {\n        resolve(result.value);\n      }).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\ndefine([\"require\", \"exports\", \"../event/emitter\", \"./registry\"], function (require, exports, emitter_1, registry_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var CommandService =\n  /** @class */\n  function () {\n    function CommandService(configService, serviceRegistry) {\n      this.serviceRegistry = serviceRegistry;\n      this.willExecuteCommandEventEmitter = new emitter_1.EventEmitter();\n      this.didExecuteCommandEventEmitter = new emitter_1.EventEmitter();\n      this.registry = new registry_1.CommandRegistry();\n\n      for (var _i = 0, _a = Object.entries(configService.getConfig().commands); _i < _a.length; _i++) {\n        var _b = _a[_i],\n            commandId = _b[0],\n            commandHandler = _b[1];\n        this.registry.registerCommand(commandId, commandHandler);\n      }\n    }\n\n    CommandService.prototype.onWillExecuteCommand = function (listener) {\n      this.willExecuteCommandEventEmitter.on(listener);\n    };\n\n    CommandService.prototype.onDidExecuteCommand = function (listener) {\n      this.didExecuteCommandEventEmitter.on(listener);\n    };\n\n    CommandService.prototype.executeCommand = function (commandId) {\n      var args = [];\n\n      for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n      }\n\n      return __awaiter(this, void 0, void 0, function () {\n        var commandHandler;\n        return __generator(this, function (_a) {\n          switch (_a.label) {\n            case 0:\n              commandHandler = this.registry.getCommandHandler(commandId);\n\n              if (!commandHandler) {\n                return [2\n                /*return*/\n                ];\n              }\n\n              this.willExecuteCommandEventEmitter.emit({\n                commandId: commandId,\n                args: args\n              });\n              return [4\n              /*yield*/\n              , commandHandler.apply(void 0, [this.serviceRegistry].concat(args))];\n\n            case 1:\n              _a.sent();\n\n              this.didExecuteCommandEventEmitter.emit({\n                commandId: commandId,\n                args: args\n              });\n              return [2\n              /*return*/\n              ];\n          }\n        });\n      });\n    };\n\n    return CommandService;\n  }();\n\n  exports.CommandService = CommandService;\n});","define([\"require\", \"exports\"], function (require, exports) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var CommandRegistry =\n  /** @class */\n  function () {\n    function CommandRegistry() {\n      this.commandsMap = new Map();\n    }\n\n    CommandRegistry.prototype.registerCommand = function (commandId, commandHandler) {\n      this.commandsMap.set(commandId, commandHandler);\n    };\n\n    CommandRegistry.prototype.getCommandHandler = function (commandId) {\n      return this.commandsMap.get(commandId);\n    };\n\n    return CommandRegistry;\n  }();\n\n  exports.CommandRegistry = CommandRegistry;\n});","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\ndefine([\"require\", \"exports\", \"../../layout/doc-node\", \"../../model/doc-node\", \"../../render/doc-node\", \"../../util/id\", \"../../view/doc-node\", \"../component\"], function (require, exports, doc_node_1, doc_node_2, doc_node_3, id_1, doc_node_4, component_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var DocModelNode =\n  /** @class */\n  function (_super) {\n    __extends(DocModelNode, _super);\n\n    function DocModelNode() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    DocModelNode.prototype.getPartId = function () {\n      return 'doc';\n    };\n\n    DocModelNode.prototype.toDOM = function (from, to) {\n      var $element = document.createElement('div');\n      var offset = 1;\n      var children = this.getChildren();\n\n      for (var n = 0, nn = children.length; n < nn && offset < to; n++) {\n        var child = children[n];\n        var childSize = child.getSize();\n        var childFrom = Math.max(0, from - offset);\n        var childTo = Math.min(childFrom + childSize, to - offset);\n        offset += childSize;\n\n        if (childFrom > childSize || childTo < 0) {\n          continue;\n        }\n\n        var $childElement = child.toDOM(childFrom, childTo);\n        $element.appendChild($childElement);\n      }\n\n      return $element;\n    };\n\n    DocModelNode.prototype.clone = function () {\n      return new DocModelNode(this.componentId, id_1.generateId(), this.attributes);\n    };\n\n    return DocModelNode;\n  }(doc_node_2.DocModelNode);\n\n  exports.DocModelNode = DocModelNode;\n\n  var DocRenderNode =\n  /** @class */\n  function (_super) {\n    __extends(DocRenderNode, _super);\n\n    function DocRenderNode() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    DocRenderNode.prototype.getPartId = function () {\n      return 'doc';\n    };\n\n    return DocRenderNode;\n  }(doc_node_3.DocRenderNode);\n\n  exports.DocRenderNode = DocRenderNode;\n\n  var DocLayoutNode =\n  /** @class */\n  function (_super) {\n    __extends(DocLayoutNode, _super);\n\n    function DocLayoutNode() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    DocLayoutNode.prototype.getPartId = function () {\n      return 'doc';\n    };\n\n    return DocLayoutNode;\n  }(doc_node_1.DocLayoutNode);\n\n  exports.DocLayoutNode = DocLayoutNode;\n\n  var DocViewNode =\n  /** @class */\n  function (_super) {\n    __extends(DocViewNode, _super);\n\n    function DocViewNode(layoutNode) {\n      var _this = _super.call(this, layoutNode) || this;\n\n      _this.domContainer = document.createElement('div');\n      _this.domContainer.style.textAlign = 'left';\n      _this.domContainer.style.cursor = 'text';\n      _this.domContainer.style.userSelect = 'none';\n      return _this;\n    }\n\n    DocViewNode.prototype.getDOMContainer = function () {\n      return this.domContainer;\n    };\n\n    DocViewNode.prototype.getDOMContentContainer = function () {\n      return this.domContainer;\n    };\n\n    DocViewNode.prototype.onLayoutDidUpdate = function () {};\n\n    return DocViewNode;\n  }(doc_node_4.DocViewNode);\n\n  exports.DocViewNode = DocViewNode;\n\n  var DocComponent =\n  /** @class */\n  function (_super) {\n    __extends(DocComponent, _super);\n\n    function DocComponent() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    DocComponent.prototype.buildModelNode = function (partId, id, attributes) {\n      return new DocModelNode(this.id, id, attributes);\n    };\n\n    DocComponent.prototype.buildRenderNode = function (modelNode) {\n      if (modelNode instanceof DocModelNode) {\n        return new DocRenderNode(this.id, modelNode.getId(), {});\n      }\n\n      throw new Error('Invalid doc model node.');\n    };\n\n    DocComponent.prototype.buildLayoutNode = function (renderNode) {\n      if (renderNode instanceof DocRenderNode) {\n        return new DocLayoutNode(this.id, renderNode.getId());\n      }\n\n      throw new Error('Invalid doc render node.');\n    };\n\n    DocComponent.prototype.buildViewNode = function (layoutNode) {\n      if (layoutNode instanceof DocLayoutNode) {\n        return new DocViewNode(layoutNode);\n      }\n\n      throw new Error('Invalid layout render node.');\n    };\n\n    return DocComponent;\n  }(component_1.Component);\n\n  exports.DocComponent = DocComponent;\n});","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\ndefine([\"require\", \"exports\", \"./node\"], function (require, exports, node_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var DocViewNode =\n  /** @class */\n  function (_super) {\n    __extends(DocViewNode, _super);\n\n    function DocViewNode() {\n      var _this = _super !== null && _super.apply(this, arguments) || this;\n\n      _this.attached = false;\n      return _this;\n    }\n\n    DocViewNode.prototype.getNodeClass = function () {\n      return 'doc';\n    };\n\n    DocViewNode.prototype.isRoot = function () {\n      return true;\n    };\n\n    DocViewNode.prototype.isLeaf = function () {\n      return false;\n    };\n\n    DocViewNode.prototype.getSize = function () {\n      if (this.size === undefined) {\n        this.size = this.getChildren().reduce(function (size, child) {\n          return size + child.getSize();\n        }, 0);\n      }\n\n      return this.size;\n    };\n\n    DocViewNode.prototype.clearOwnCache = function () {\n      this.size = undefined;\n    };\n\n    DocViewNode.prototype.attach = function (domContainer) {\n      if (this.attached) {\n        throw new Error('Already attached to the DOM.');\n      }\n\n      domContainer.appendChild(this.getDOMContainer());\n      this.attached = true;\n    };\n\n    DocViewNode.prototype.isAttached = function () {\n      return this.attached;\n    };\n\n    return DocViewNode;\n  }(node_1.ViewNode);\n\n  exports.DocViewNode = DocViewNode;\n});","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\ndefine([\"require\", \"exports\", \"../../layout/atomic-node\", \"../../layout/block-node\", \"../../layout/inline-node\", \"../../model/block-node\", \"../../render/atomic-node\", \"../../render/block-node\", \"../../render/inline-node\", \"../../util/id\", \"../../view/block-node\", \"../../view/inline-node\", \"../component\"], function (require, exports, atomic_node_1, block_node_1, inline_node_1, block_node_2, atomic_node_2, block_node_3, inline_node_2, id_1, block_node_4, inline_node_3, component_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var ParagraphModelNode =\n  /** @class */\n  function (_super) {\n    __extends(ParagraphModelNode, _super);\n\n    function ParagraphModelNode() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    ParagraphModelNode.prototype.getPartId = function () {\n      return 'paragraph';\n    };\n\n    ParagraphModelNode.prototype.toDOM = function (from, to) {\n      var $element = document.createElement('p');\n      var offset = 1;\n      var children = this.getChildren();\n\n      for (var n = 0, nn = children.length; n < nn && offset < to; n++) {\n        var childNode = children[n];\n        var childSize = childNode.getSize();\n        var childFrom = Math.max(0, from - offset);\n        var childTo = Math.min(childFrom + childSize, to - offset);\n        offset += childSize;\n\n        if (childFrom > childSize || childTo < 0) {\n          continue;\n        }\n\n        var $childElement = childNode.toDOM(childFrom, childTo);\n        $element.appendChild($childElement);\n      }\n\n      return $element;\n    };\n\n    ParagraphModelNode.prototype.clone = function () {\n      return new ParagraphModelNode(this.componentId, id_1.generateId(), this.attributes);\n    };\n\n    return ParagraphModelNode;\n  }(block_node_2.BlockModelNode);\n\n  exports.ParagraphModelNode = ParagraphModelNode;\n\n  var ParagraphRenderNode =\n  /** @class */\n  function (_super) {\n    __extends(ParagraphRenderNode, _super);\n\n    function ParagraphRenderNode(componentId, id, style) {\n      var _this = _super.call(this, componentId, id, style) || this;\n\n      _this.componentId = componentId;\n      _this.id = id;\n      _this.style = style;\n      _this.lineBreakNode = _this.buildLineBreakNode();\n      return _this;\n    }\n\n    ParagraphRenderNode.prototype.getPartId = function () {\n      return 'paragraph';\n    };\n\n    ParagraphRenderNode.prototype.getChildren = function () {\n      return _super.prototype.getChildren.call(this).concat([this.lineBreakNode]);\n    };\n\n    ParagraphRenderNode.prototype.convertOffsetToModelOffset = function (offset) {\n      // Handle line break\n      if (offset === this.getSize() - 1) {\n        return _super.prototype.convertOffsetToModelOffset.call(this, offset - 1) + 1;\n      }\n\n      return _super.prototype.convertOffsetToModelOffset.call(this, offset);\n    };\n\n    ParagraphRenderNode.prototype.convertModelOffsetToOffset = function (modelOffset) {\n      // Handle line break\n      if (this.getSize() === 1) {\n        return 0;\n      }\n\n      if (_super.prototype.convertModelOffsetToOffset.call(this, modelOffset - 1) + 1 === this.getSize() - 1) {\n        return this.getSize() - 1;\n      }\n\n      return _super.prototype.convertModelOffsetToOffset.call(this, modelOffset);\n    };\n\n    ParagraphRenderNode.prototype.buildLineBreakNode = function () {\n      var inlineNode = new ParagraphLineBreakRenderNode(this.componentId, this.id + \".line-break\", {});\n      var atomicNode = new ParagraphLineBreakAtomicRenderNode(this.componentId, this.id + \".line-break-atomic\", {});\n      inlineNode.appendChild(atomicNode);\n      inlineNode.setParent(this);\n      return inlineNode;\n    };\n\n    return ParagraphRenderNode;\n  }(block_node_3.BlockRenderNode);\n\n  exports.ParagraphRenderNode = ParagraphRenderNode;\n\n  var ParagraphLineBreakRenderNode =\n  /** @class */\n  function (_super) {\n    __extends(ParagraphLineBreakRenderNode, _super);\n\n    function ParagraphLineBreakRenderNode() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    ParagraphLineBreakRenderNode.prototype.getPartId = function () {\n      return 'line-break';\n    };\n\n    ParagraphLineBreakRenderNode.prototype.getModelSize = function () {\n      return 0;\n    };\n\n    return ParagraphLineBreakRenderNode;\n  }(inline_node_2.InlineRenderNode);\n\n  exports.ParagraphLineBreakRenderNode = ParagraphLineBreakRenderNode;\n\n  var ParagraphLineBreakAtomicRenderNode =\n  /** @class */\n  function (_super) {\n    __extends(ParagraphLineBreakAtomicRenderNode, _super);\n\n    function ParagraphLineBreakAtomicRenderNode() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    ParagraphLineBreakAtomicRenderNode.prototype.getPartId = function () {\n      return 'line-break-atomic';\n    };\n\n    ParagraphLineBreakAtomicRenderNode.prototype.getModelSize = function () {\n      return 0;\n    };\n\n    ParagraphLineBreakAtomicRenderNode.prototype.getSize = function () {\n      return 1;\n    };\n\n    ParagraphLineBreakAtomicRenderNode.prototype.isBreakable = function () {\n      return true;\n    };\n\n    ParagraphLineBreakAtomicRenderNode.prototype.clearOwnCache = function () {};\n\n    return ParagraphLineBreakAtomicRenderNode;\n  }(atomic_node_2.AtomicRenderNode);\n\n  exports.ParagraphLineBreakAtomicRenderNode = ParagraphLineBreakAtomicRenderNode;\n\n  var ParagraphLayoutNode =\n  /** @class */\n  function (_super) {\n    __extends(ParagraphLayoutNode, _super);\n\n    function ParagraphLayoutNode() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    ParagraphLayoutNode.prototype.getPartId = function () {\n      return 'paragraph';\n    };\n\n    ParagraphLayoutNode.prototype.getPaddingTop = function () {\n      return 0;\n    };\n\n    ParagraphLayoutNode.prototype.getPaddingBottom = function () {\n      return 12;\n    };\n\n    ParagraphLayoutNode.prototype.getPaddingLeft = function () {\n      return 0;\n    };\n\n    ParagraphLayoutNode.prototype.getPaddingRight = function () {\n      return 0;\n    };\n\n    ParagraphLayoutNode.prototype.clone = function () {\n      return new ParagraphLayoutNode(this.componentId, this.id);\n    };\n\n    return ParagraphLayoutNode;\n  }(block_node_1.BlockLayoutNode);\n\n  exports.ParagraphLayoutNode = ParagraphLayoutNode;\n\n  var ParagraphLineBreakLayoutNode =\n  /** @class */\n  function (_super) {\n    __extends(ParagraphLineBreakLayoutNode, _super);\n\n    function ParagraphLineBreakLayoutNode() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    ParagraphLineBreakLayoutNode.prototype.getPartId = function () {\n      return 'line-break';\n    };\n\n    ParagraphLineBreakLayoutNode.prototype.getPaddingTop = function () {\n      var previousSibling = this.getPreviousSibling();\n\n      if (!previousSibling) {\n        return 0;\n      }\n\n      return previousSibling.getPaddingTop();\n    };\n\n    ParagraphLineBreakLayoutNode.prototype.getPaddingBottom = function () {\n      var previousSibling = this.getPreviousSibling();\n\n      if (!previousSibling) {\n        return 0;\n      }\n\n      return previousSibling.getPaddingBottom();\n    };\n\n    ParagraphLineBreakLayoutNode.prototype.getPaddingLeft = function () {\n      return 0;\n    };\n\n    ParagraphLineBreakLayoutNode.prototype.getPaddingRight = function () {\n      return 0;\n    };\n\n    ParagraphLineBreakLayoutNode.prototype.clone = function () {\n      return new ParagraphLineBreakLayoutNode(this.componentId, this.id);\n    };\n\n    return ParagraphLineBreakLayoutNode;\n  }(inline_node_1.InlineLayoutNode);\n\n  exports.ParagraphLineBreakLayoutNode = ParagraphLineBreakLayoutNode;\n\n  var ParagraphLineBreakAtomicLayoutNode =\n  /** @class */\n  function (_super) {\n    __extends(ParagraphLineBreakAtomicLayoutNode, _super);\n\n    function ParagraphLineBreakAtomicLayoutNode() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    ParagraphLineBreakAtomicLayoutNode.prototype.getPartId = function () {\n      return 'line-break-atomic';\n    };\n\n    ParagraphLineBreakAtomicLayoutNode.prototype.getSize = function () {\n      return 1;\n    };\n\n    ParagraphLineBreakAtomicLayoutNode.prototype.getWidth = function () {\n      return 5;\n    };\n\n    ParagraphLineBreakAtomicLayoutNode.prototype.getHeight = function () {\n      if (this.height === undefined) {\n        this.takeMeasurement();\n      }\n\n      return this.height;\n    };\n\n    ParagraphLineBreakAtomicLayoutNode.prototype.getPaddingTop = function () {\n      return 0;\n    };\n\n    ParagraphLineBreakAtomicLayoutNode.prototype.getPaddingBottom = function () {\n      return 0;\n    };\n\n    ParagraphLineBreakAtomicLayoutNode.prototype.getPaddingLeft = function () {\n      return 0;\n    };\n\n    ParagraphLineBreakAtomicLayoutNode.prototype.getPaddingRight = function () {\n      return 0;\n    };\n\n    ParagraphLineBreakAtomicLayoutNode.prototype.getTailTrimmedWidth = function () {\n      return 0;\n    };\n\n    ParagraphLineBreakAtomicLayoutNode.prototype.breakAtWidth = function (width) {\n      throw new Error('Method should never be called, there is a bug.');\n    };\n\n    ParagraphLineBreakAtomicLayoutNode.prototype.convertCoordinateToOffset = function (x) {\n      return 0;\n    };\n\n    ParagraphLineBreakAtomicLayoutNode.prototype.resolveRects = function (from, to) {\n      if (from === to) {\n        return [{\n          left: 0,\n          right: this.getWidth(),\n          top: 0,\n          bottom: 0,\n          width: 0,\n          height: this.getHeight(),\n          paddingTop: 0,\n          paddingBottom: 0,\n          paddingLeft: 0,\n          paddingRight: 0\n        }];\n      }\n\n      return [{\n        left: 0,\n        right: 0,\n        top: 0,\n        bottom: 0,\n        width: this.getWidth(),\n        height: this.getHeight(),\n        paddingTop: 0,\n        paddingBottom: 0,\n        paddingLeft: 0,\n        paddingRight: 0\n      }];\n    };\n\n    ParagraphLineBreakAtomicLayoutNode.prototype.takeMeasurement = function () {\n      this.height = 0;\n      var previousSibling = this.getPreviousSiblingAllowCrossParent();\n\n      if (!previousSibling) {\n        return;\n      }\n\n      this.height = previousSibling.getHeight();\n    };\n\n    return ParagraphLineBreakAtomicLayoutNode;\n  }(atomic_node_1.AtomicLayoutNode);\n\n  exports.ParagraphLineBreakAtomicLayoutNode = ParagraphLineBreakAtomicLayoutNode;\n\n  var ParagraphViewNode =\n  /** @class */\n  function (_super) {\n    __extends(ParagraphViewNode, _super);\n\n    function ParagraphViewNode(layoutNode) {\n      var _this = _super.call(this, layoutNode) || this;\n\n      _this.domContainer = document.createElement('div');\n      return _this;\n    }\n\n    ParagraphViewNode.prototype.getDOMContainer = function () {\n      return this.domContainer;\n    };\n\n    ParagraphViewNode.prototype.getDOMContentContainer = function () {\n      return this.domContainer;\n    };\n\n    ParagraphViewNode.prototype.onLayoutDidUpdate = function () {\n      this.domContainer.style.width = this.layoutNode.getWidth() + \"px\";\n      this.domContainer.style.height = this.layoutNode.getHeight() + \"px\";\n      this.domContainer.style.paddingTop = this.layoutNode.getPaddingTop() + \"px\";\n      this.domContainer.style.paddingBottom = this.layoutNode.getPaddingBottom() + \"px\";\n      this.domContainer.style.paddingLeft = this.layoutNode.getPaddingLeft() + \"px\";\n      this.domContainer.style.paddingRight = this.layoutNode.getPaddingRight() + \"px\";\n    };\n\n    return ParagraphViewNode;\n  }(block_node_4.BlockViewNode);\n\n  exports.ParagraphViewNode = ParagraphViewNode;\n\n  var ParagraphLineBreakViewNode =\n  /** @class */\n  function (_super) {\n    __extends(ParagraphLineBreakViewNode, _super);\n\n    function ParagraphLineBreakViewNode(layoutNode) {\n      var _this = _super.call(this, layoutNode) || this;\n\n      _this.domContainer = document.createElement('div');\n      return _this;\n    }\n\n    ParagraphLineBreakViewNode.prototype.getDOMContainer = function () {\n      return this.domContainer;\n    };\n\n    ParagraphLineBreakViewNode.prototype.getDOMContentContainer = function () {\n      return this.domContainer;\n    };\n\n    ParagraphLineBreakViewNode.prototype.onLayoutDidUpdate = function () {};\n\n    return ParagraphLineBreakViewNode;\n  }(inline_node_3.InlineViewNode);\n\n  exports.ParagraphLineBreakViewNode = ParagraphLineBreakViewNode;\n\n  var ParagraphComponent =\n  /** @class */\n  function (_super) {\n    __extends(ParagraphComponent, _super);\n\n    function ParagraphComponent() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    ParagraphComponent.prototype.buildModelNode = function (partId, id, attributes) {\n      return new ParagraphModelNode(this.id, id, attributes);\n    };\n\n    ParagraphComponent.prototype.buildRenderNode = function (modelNode) {\n      if (modelNode instanceof ParagraphModelNode) {\n        return new ParagraphRenderNode(this.id, modelNode.getId(), {});\n      }\n\n      throw new Error('Invalid paragraph model node.');\n    };\n\n    ParagraphComponent.prototype.buildLayoutNode = function (renderNode) {\n      if (renderNode instanceof ParagraphRenderNode) {\n        return new ParagraphLayoutNode(this.id, renderNode.getId());\n      }\n\n      if (renderNode instanceof ParagraphLineBreakRenderNode) {\n        return new ParagraphLineBreakLayoutNode(this.id, renderNode.getId());\n      }\n\n      if (renderNode instanceof ParagraphLineBreakAtomicRenderNode) {\n        return new ParagraphLineBreakAtomicLayoutNode(this.id, renderNode.getId());\n      }\n\n      throw new Error('Invalid paragraph render node.');\n    };\n\n    ParagraphComponent.prototype.buildViewNode = function (layoutNode) {\n      if (layoutNode instanceof ParagraphLayoutNode) {\n        return new ParagraphViewNode(layoutNode);\n      }\n\n      if (layoutNode instanceof ParagraphLineBreakLayoutNode) {\n        return new ParagraphLineBreakViewNode(layoutNode);\n      }\n\n      throw new Error('Invalid paragraph layout node.');\n    };\n\n    return ParagraphComponent;\n  }(component_1.Component);\n\n  exports.ParagraphComponent = ParagraphComponent;\n});","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\ndefine([\"require\", \"exports\", \"./node\"], function (require, exports, node_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var BlockViewNode =\n  /** @class */\n  function (_super) {\n    __extends(BlockViewNode, _super);\n\n    function BlockViewNode() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    BlockViewNode.prototype.getNodeClass = function () {\n      return 'block';\n    };\n\n    BlockViewNode.prototype.isRoot = function () {\n      return false;\n    };\n\n    BlockViewNode.prototype.isLeaf = function () {\n      return false;\n    };\n\n    BlockViewNode.prototype.getSize = function () {\n      if (this.size === undefined) {\n        this.size = this.getChildren().reduce(function (size, child) {\n          return size + child.getSize();\n        }, 0);\n      }\n\n      return this.size;\n    };\n\n    BlockViewNode.prototype.clearOwnCache = function () {\n      this.size = undefined;\n    };\n\n    return BlockViewNode;\n  }(node_1.ViewNode);\n\n  exports.BlockViewNode = BlockViewNode;\n});","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\ndefine([\"require\", \"exports\", \"../../layout/atomic-node\", \"../../layout/inline-node\", \"../../model/inline-node\", \"../../render/atomic-node\", \"../../render/inline-node\", \"../../util/id\", \"../../util/language\", \"../../view/inline-node\", \"../component\"], function (require, exports, atomic_node_1, inline_node_1, inline_node_2, atomic_node_2, inline_node_3, id_1, language_1, inline_node_4, component_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var TextModelNode =\n  /** @class */\n  function (_super) {\n    __extends(TextModelNode, _super);\n\n    function TextModelNode() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    TextModelNode.prototype.getPartId = function () {\n      return 'text';\n    };\n\n    TextModelNode.prototype.toDOM = function (from, to) {\n      var $component = document.createElement('span');\n      $component.innerText = this.content.substring(from - 1, to - 1);\n      return $component;\n    };\n\n    TextModelNode.prototype.clone = function () {\n      var node = new TextModelNode(this.componentId, id_1.generateId(), this.attributes);\n      node.setContent(this.getContent());\n      return node;\n    };\n\n    return TextModelNode;\n  }(inline_node_2.InlineModelNode);\n\n  exports.TextModelNode = TextModelNode;\n  exports.DEFAULT_TEXT_STYLE = {\n    weight: 400,\n    size: 14,\n    font: 'sans-serif',\n    letterSpacing: 0,\n    underline: false,\n    italic: false,\n    strikethrough: false,\n    color: 'black'\n  };\n\n  var TextRenderNode =\n  /** @class */\n  function (_super) {\n    __extends(TextRenderNode, _super);\n\n    function TextRenderNode() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    TextRenderNode.prototype.getPartId = function () {\n      return 'text';\n    };\n\n    return TextRenderNode;\n  }(inline_node_3.InlineRenderNode);\n\n  exports.TextRenderNode = TextRenderNode;\n\n  var WordRenderNode =\n  /** @class */\n  function (_super) {\n    __extends(WordRenderNode, _super);\n\n    function WordRenderNode(componentId, id, style, word) {\n      var _this = _super.call(this, componentId, id, style) || this;\n\n      _this.word = word;\n      return _this;\n    }\n\n    WordRenderNode.prototype.getPartId = function () {\n      return 'word';\n    };\n\n    WordRenderNode.prototype.getWord = function () {\n      return this.word;\n    };\n\n    WordRenderNode.prototype.getModelSize = function () {\n      return this.word.text.length;\n    };\n\n    WordRenderNode.prototype.getSize = function () {\n      return this.word.text.length;\n    };\n\n    WordRenderNode.prototype.isBreakable = function () {\n      return this.word.breakable;\n    };\n\n    WordRenderNode.prototype.clearOwnCache = function () {};\n\n    WordRenderNode.prototype.onDidUpdate = function (updatedNode) {\n      _super.prototype.onDidUpdate.call(this, updatedNode);\n\n      var oldWord = this.word;\n      var newWord = updatedNode.getWord();\n\n      if (oldWord.text === newWord.text && oldWord.breakable === newWord.breakable) {\n        return;\n      }\n\n      this.word = updatedNode.getWord();\n      this.clearCache();\n    };\n\n    return WordRenderNode;\n  }(atomic_node_2.AtomicRenderNode);\n\n  exports.WordRenderNode = WordRenderNode;\n\n  var TextLayoutNode =\n  /** @class */\n  function (_super) {\n    __extends(TextLayoutNode, _super);\n\n    function TextLayoutNode(componentId, id, style) {\n      var _this = _super.call(this, componentId, id) || this;\n\n      _this.style = style;\n      return _this;\n    }\n\n    TextLayoutNode.prototype.getPartId = function () {\n      return 'text';\n    };\n\n    TextLayoutNode.prototype.getPaddingTop = function () {\n      return 3;\n    };\n\n    TextLayoutNode.prototype.getPaddingBottom = function () {\n      return 6;\n    };\n\n    TextLayoutNode.prototype.getPaddingLeft = function () {\n      return 0;\n    };\n\n    TextLayoutNode.prototype.getPaddingRight = function () {\n      return 0;\n    };\n\n    TextLayoutNode.prototype.getStyle = function () {\n      return this.style;\n    };\n\n    TextLayoutNode.prototype.clone = function () {\n      return new TextLayoutNode(this.componentId, this.id, this.style);\n    };\n\n    return TextLayoutNode;\n  }(inline_node_1.InlineLayoutNode);\n\n  exports.TextLayoutNode = TextLayoutNode;\n\n  var WordLayoutNode =\n  /** @class */\n  function (_super) {\n    __extends(WordLayoutNode, _super);\n\n    function WordLayoutNode(componentId, id, word, style, textMeasurer) {\n      var _this = _super.call(this, componentId, id) || this;\n\n      _this.word = word;\n      _this.style = style;\n      _this.textMeasurer = textMeasurer;\n      return _this;\n    }\n\n    WordLayoutNode.prototype.getPartId = function () {\n      return 'word';\n    };\n\n    WordLayoutNode.prototype.getSize = function () {\n      return this.word.text.length;\n    };\n\n    WordLayoutNode.prototype.getWidth = function () {\n      if (this.width === undefined) {\n        this.takeMeasurement();\n      }\n\n      return this.width;\n    };\n\n    WordLayoutNode.prototype.getHeight = function () {\n      if (this.height === undefined) {\n        this.takeMeasurement();\n      }\n\n      return this.height;\n    };\n\n    WordLayoutNode.prototype.getPaddingTop = function () {\n      return 0;\n    };\n\n    WordLayoutNode.prototype.getPaddingBottom = function () {\n      return 0;\n    };\n\n    WordLayoutNode.prototype.getPaddingLeft = function () {\n      return 0;\n    };\n\n    WordLayoutNode.prototype.getPaddingRight = function () {\n      return 0;\n    };\n\n    WordLayoutNode.prototype.getTailTrimmedWidth = function () {\n      if (this.tailTrimmedWidth === undefined) {\n        if (this.word.breakable) {\n          var text = this.word.text;\n          var measurement = this.textMeasurer.measure(text.substring(0, text.length - 1), this.style);\n          this.tailTrimmedWidth = measurement.width;\n        } else {\n          this.tailTrimmedWidth = this.getWidth();\n        }\n      }\n\n      return this.tailTrimmedWidth;\n    };\n\n    WordLayoutNode.prototype.breakAtWidth = function (width) {\n      var text = this.word.text;\n      var min = 0;\n      var max = text.length;\n\n      while (max - min > 1) {\n        var offset = Math.floor((max + min) / 2);\n        var substr = text.substring(0, offset);\n        var subwidth = this.textMeasurer.measure(substr, this.style).width;\n\n        if (subwidth > width) {\n          max = offset;\n        } else {\n          min = offset;\n        }\n      }\n\n      var splitAt = min;\n\n      var newWord = __assign({}, this.word, {\n        text: text.substring(splitAt)\n      });\n\n      var newNode = new WordLayoutNode(this.componentId, this.id, newWord, this.style, this.textMeasurer);\n      this.word.text = text.substring(0, splitAt);\n      this.clearCache();\n      return newNode;\n    };\n\n    WordLayoutNode.prototype.getWord = function () {\n      return this.word;\n    };\n\n    WordLayoutNode.prototype.convertCoordinateToOffset = function (x) {\n      var lastWidth = 0;\n      var text = this.word.text;\n\n      for (var n = 0, nn = text.length; n < nn; n++) {\n        var measurement = this.textMeasurer.measure(text.substring(0, n), this.style);\n        var width_1 = measurement.width;\n\n        if (width_1 < x) {\n          lastWidth = width_1;\n          continue;\n        }\n\n        if (x - lastWidth < width_1 - x) {\n          return n - 1;\n        }\n\n        return n;\n      }\n\n      var width = this.getWidth();\n\n      if (x - lastWidth < width - x) {\n        return text.length - 1;\n      }\n\n      return text.length;\n    };\n\n    WordLayoutNode.prototype.resolveRects = function (from, to) {\n      if (from === 0 && to === this.getSize()) {\n        return [{\n          left: 0,\n          right: 0,\n          top: 0,\n          bottom: 0,\n          width: this.getWidth(),\n          height: this.getHeight(),\n          paddingTop: 0,\n          paddingBottom: 0,\n          paddingLeft: 0,\n          paddingRight: 0\n        }];\n      }\n\n      var fromTextMeasurement = this.textMeasurer.measure(this.word.text.substring(0, from), this.style);\n      var toTextMeasurement = this.textMeasurer.measure(this.word.text.substring(0, to), this.style);\n      var width = toTextMeasurement.width - fromTextMeasurement.width;\n      var height = this.getHeight();\n      var left = fromTextMeasurement.width;\n      var right = this.getWidth() - toTextMeasurement.width;\n      var top = 0;\n      var bottom = 0;\n      return [{\n        width: width,\n        height: height,\n        left: left,\n        right: right,\n        top: top,\n        bottom: bottom,\n        paddingTop: 0,\n        paddingBottom: 0,\n        paddingLeft: 0,\n        paddingRight: 0\n      }];\n    };\n\n    WordLayoutNode.prototype.onDidUpdate = function (updatedNode) {\n      _super.prototype.onDidUpdate.call(this, updatedNode);\n\n      var oldWord = this.word;\n      var newWord = updatedNode.getWord();\n\n      if (oldWord.text === newWord.text && oldWord.breakable === newWord.breakable) {\n        return;\n      }\n\n      this.word = updatedNode.getWord();\n      this.clearCache();\n    };\n\n    WordLayoutNode.prototype.clearOwnCache = function () {\n      this.width = undefined;\n      this.height = undefined;\n      this.tailTrimmedWidth = undefined;\n    };\n\n    WordLayoutNode.prototype.takeMeasurement = function () {\n      var measurement = this.textMeasurer.measure(this.word.text, this.style);\n      this.width = measurement.width;\n      this.height = measurement.height;\n    };\n\n    return WordLayoutNode;\n  }(atomic_node_1.AtomicLayoutNode);\n\n  exports.WordLayoutNode = WordLayoutNode;\n\n  var TextViewNode =\n  /** @class */\n  function (_super) {\n    __extends(TextViewNode, _super);\n\n    function TextViewNode(layoutNode) {\n      var _this = _super.call(this, layoutNode) || this;\n\n      _this.domContainer = document.createElement('span');\n      _this.domContainer.style.display = 'inline-block';\n      _this.domContainer.style.whiteSpace = 'pre';\n      _this.domContainer.style.lineHeight = '1em';\n      _this.domContent = document.createElement('span');\n\n      _this.domContainer.appendChild(_this.domContent);\n\n      _this.onLayoutDidUpdate();\n\n      return _this;\n    }\n\n    TextViewNode.prototype.getDOMContainer = function () {\n      return this.domContainer;\n    };\n\n    TextViewNode.prototype.getDOMContentContainer = function () {\n      return this.domContainer;\n    };\n\n    TextViewNode.prototype.onLayoutDidUpdate = function () {\n      var text = this.layoutNode.getChildren().map(function (child) {\n        if (child instanceof WordLayoutNode) {\n          return child.getWord().text;\n        }\n\n        return '';\n      }).join('');\n      var style = this.layoutNode.getStyle();\n      this.domContainer.style.width = this.layoutNode.getWidth() + \"px\";\n      this.domContainer.style.height = this.layoutNode.getHeight() + \"px\";\n      this.domContainer.style.paddingTop = this.layoutNode.getPaddingTop() + \"px\";\n      this.domContainer.style.paddingBottom = this.layoutNode.getPaddingBottom() + \"px\";\n      this.domContainer.style.paddingLeft = this.layoutNode.getPaddingLeft() + \"px\";\n      this.domContainer.style.paddingRight = this.layoutNode.getPaddingRight() + \"px\";\n      this.domContainer.style.fontFamily = style.font;\n      this.domContainer.style.fontSize = style.size + \"px\";\n      this.domContainer.style.letterSpacing = style.letterSpacing + \"px\";\n      this.domContainer.style.fontWeight = \"\" + style.weight;\n      this.domContainer.style.color = style.color;\n      this.domContainer.style.textDecoration = style.underline ? 'underline' : '';\n      this.domContainer.style.fontStyle = style.italic ? 'italic' : '';\n      this.domContent.style.textDecoration = style.strikethrough ? 'line-through' : '';\n      this.domContent.innerText = text;\n    };\n\n    return TextViewNode;\n  }(inline_node_4.InlineViewNode);\n\n  exports.TextViewNode = TextViewNode;\n\n  var TextComponent =\n  /** @class */\n  function (_super) {\n    __extends(TextComponent, _super);\n\n    function TextComponent(id, textMeasurer) {\n      var _this = _super.call(this, id) || this;\n\n      _this.textMeasurer = textMeasurer;\n      return _this;\n    }\n\n    TextComponent.prototype.buildModelNode = function (partId, id, attributes) {\n      return new TextModelNode(this.id, id, attributes);\n    };\n\n    TextComponent.prototype.buildRenderNode = function (modelNode) {\n      var _this = this;\n\n      if (modelNode instanceof TextModelNode) {\n        var attributes = modelNode.getAttributes();\n\n        var style_1 = __assign({}, exports.DEFAULT_TEXT_STYLE, attributes);\n\n        var node_1 = new TextRenderNode(this.id, modelNode.getId(), style_1);\n        var words = language_1.breakTextToWords(modelNode.getContent());\n        words.forEach(function (word, wordIndex) {\n          var wordRenderNode = new WordRenderNode(_this.id, modelNode.getId() + \"-\" + wordIndex, style_1, word);\n          node_1.appendChild(wordRenderNode);\n        });\n\n        if (words.length === 0) {\n          node_1.appendChild(new WordRenderNode(this.id, modelNode.getId() + \"-0\", style_1, {\n            text: '',\n            breakable: false\n          }));\n        }\n\n        return node_1;\n      }\n\n      throw new Error('Invalid text model node.');\n    };\n\n    TextComponent.prototype.buildLayoutNode = function (renderNode) {\n      if (renderNode instanceof TextRenderNode) {\n        return new TextLayoutNode(this.id, renderNode.getId(), renderNode.getStyle());\n      }\n\n      if (renderNode instanceof WordRenderNode) {\n        return new WordLayoutNode(this.id, renderNode.getId(), renderNode.getWord(), renderNode.getStyle(), this.textMeasurer);\n      }\n\n      throw new Error('Invalid text render node.');\n    };\n\n    TextComponent.prototype.buildViewNode = function (layoutNode) {\n      if (layoutNode instanceof TextLayoutNode) {\n        return new TextViewNode(layoutNode);\n      }\n\n      throw new Error('Invalid text layout node');\n    };\n\n    return TextComponent;\n  }(component_1.Component);\n\n  exports.TextComponent = TextComponent;\n\n  var TextMeasurer =\n  /** @class */\n  function () {\n    function TextMeasurer() {\n      this.$canvas = document.createElement('canvas');\n    }\n\n    TextMeasurer.prototype.measure = function (text, textStyle) {\n      var ctx = this.$canvas.getContext('2d');\n      var weight = textStyle.weight;\n      var size = textStyle.size;\n      var font = this.fixFont(textStyle.font);\n      var letterSpacing = textStyle.letterSpacing;\n      ctx.font = weight + \" \" + size + \"px \" + font;\n      var measurement = ctx.measureText(text);\n      var width = letterSpacing === 0 || text.length <= 1 ? measurement.width : measurement.width + (text.length - 1) * letterSpacing;\n      return {\n        width: width,\n        height: size\n      };\n    };\n\n    TextMeasurer.prototype.fixFont = function (font) {\n      if (font.indexOf(' ') >= 0) {\n        return \"'\" + font + \"'\";\n      }\n\n      return font;\n    };\n\n    return TextMeasurer;\n  }();\n\n  exports.TextMeasurer = TextMeasurer;\n});","define([\"require\", \"exports\"], function (require, exports) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  var BREAKABLE_CHARS = [' ', '\\n', '\\t'];\n\n  function breakTextToWords(text) {\n    var words = [];\n    var word = '';\n\n    for (var n = 0, nn = text.length; n < nn; n++) {\n      var char = text[n];\n      word += char;\n\n      if (BREAKABLE_CHARS.includes(char)) {\n        words.push({\n          text: word,\n          breakable: true\n        });\n        word = '';\n      }\n    }\n\n    if (word.length > 0) {\n      words.push({\n        text: word,\n        breakable: false\n      });\n    }\n\n    return words;\n  }\n\n  exports.breakTextToWords = breakTextToWords;\n});","define([\"require\", \"exports\", \"./components/line\", \"./components/page\", \"./registry\"], function (require, exports, line_1, page_1, registry_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var ComponentService =\n  /** @class */\n  function () {\n    function ComponentService(configService) {\n      this.registry = new registry_1.ComponentRegistry();\n      this.pageComponent = new page_1.PageComponent('page', configService);\n      this.lineComponent = new line_1.LineComponent('line');\n\n      for (var _i = 0, _a = Object.entries(configService.getConfig().components); _i < _a.length; _i++) {\n        var _b = _a[_i],\n            componentId = _b[0],\n            component = _b[1];\n        this.registry.registerComponent(componentId, component);\n      }\n\n      this.registry.registerComponent(this.pageComponent.getId(), this.pageComponent);\n      this.registry.registerComponent(this.lineComponent.getId(), this.lineComponent);\n    }\n\n    ComponentService.prototype.getComponent = function (componentId) {\n      return this.registry.getComponent(componentId);\n    };\n\n    ComponentService.prototype.getPageComponent = function () {\n      return this.pageComponent;\n    };\n\n    ComponentService.prototype.getLineComponent = function () {\n      return this.lineComponent;\n    };\n\n    return ComponentService;\n  }();\n\n  exports.ComponentService = ComponentService;\n});","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\ndefine([\"require\", \"exports\", \"../../layout/line-node\", \"../../view/line-node\", \"../component\"], function (require, exports, line_node_1, line_node_2, component_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var LineLayoutNode =\n  /** @class */\n  function (_super) {\n    __extends(LineLayoutNode, _super);\n\n    function LineLayoutNode() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    LineLayoutNode.prototype.getPartId = function () {\n      return 'line';\n    };\n\n    LineLayoutNode.prototype.clone = function () {\n      return new LineLayoutNode(this.getComponentId());\n    };\n\n    return LineLayoutNode;\n  }(line_node_1.LineLayoutNode);\n\n  exports.LineLayoutNode = LineLayoutNode;\n\n  var LineViewNode =\n  /** @class */\n  function (_super) {\n    __extends(LineViewNode, _super);\n\n    function LineViewNode(layoutNode) {\n      var _this = _super.call(this, layoutNode) || this;\n\n      _this.domContainer = document.createElement('div');\n      return _this;\n    }\n\n    LineViewNode.prototype.getDOMContainer = function () {\n      return this.domContainer;\n    };\n\n    LineViewNode.prototype.getDOMContentContainer = function () {\n      return this.domContainer;\n    };\n\n    LineViewNode.prototype.onLayoutDidUpdate = function () {\n      this.domContainer.style.width = this.layoutNode.getWidth() + \"px\";\n      this.domContainer.style.height = this.layoutNode.getHeight() + \"px\";\n      this.domContainer.style.paddingTop = this.layoutNode.getPaddingTop() + \"px\";\n      this.domContainer.style.paddingBottom = this.layoutNode.getPaddingBottom() + \"px\";\n      this.domContainer.style.paddingLeft = this.layoutNode.getPaddingLeft() + \"px\";\n      this.domContainer.style.paddingRight = this.layoutNode.getPaddingRight() + \"px\";\n    };\n\n    return LineViewNode;\n  }(line_node_2.LineViewNode);\n\n  exports.LineViewNode = LineViewNode;\n\n  var LineComponent =\n  /** @class */\n  function (_super) {\n    __extends(LineComponent, _super);\n\n    function LineComponent() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    LineComponent.prototype.buildModelNode = function (partId, id, attributes) {\n      throw new Error('Line component does not support buildModelNode.');\n    };\n\n    LineComponent.prototype.buildRenderNode = function (modelNode) {\n      throw new Error('Line component does not support buildRenderNode.');\n    };\n\n    LineComponent.prototype.buildLayoutNode = function (renderNode) {\n      throw new Error('Line component does not support buildLayoutNode.');\n    };\n\n    LineComponent.prototype.buildLineLayoutNode = function () {\n      return new LineLayoutNode(this.getId());\n    };\n\n    LineComponent.prototype.buildViewNode = function (layoutNode) {\n      if (layoutNode instanceof LineLayoutNode) {\n        return new LineViewNode(layoutNode);\n      }\n\n      throw new Error('Invalid layout render node.');\n    };\n\n    return LineComponent;\n  }(component_1.Component);\n\n  exports.LineComponent = LineComponent;\n});","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\ndefine([\"require\", \"exports\", \"./node\"], function (require, exports, node_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var LineViewNode =\n  /** @class */\n  function (_super) {\n    __extends(LineViewNode, _super);\n\n    function LineViewNode(layoutNode) {\n      var _this = _super.call(this, layoutNode) || this;\n\n      _this.domContainer = document.createElement('div');\n      return _this;\n    }\n\n    LineViewNode.prototype.getNodeClass = function () {\n      return 'line';\n    };\n\n    LineViewNode.prototype.isRoot = function () {\n      return false;\n    };\n\n    LineViewNode.prototype.isLeaf = function () {\n      return false;\n    };\n\n    LineViewNode.prototype.getSize = function () {\n      if (this.size === undefined) {\n        this.size = this.getChildren().reduce(function (size, child) {\n          return size + child.getSize();\n        }, 0);\n      }\n\n      return this.size;\n    };\n\n    LineViewNode.prototype.clearOwnCache = function () {\n      this.size = undefined;\n    };\n\n    LineViewNode.prototype.getDOMContainer = function () {\n      return this.domContainer;\n    };\n\n    LineViewNode.prototype.getDOMContentContainer = function () {\n      return this.domContainer;\n    };\n\n    return LineViewNode;\n  }(node_1.ViewNode);\n\n  exports.LineViewNode = LineViewNode;\n});","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\ndefine([\"require\", \"exports\", \"../../layout/page-node\", \"../../view/page-node\", \"../component\"], function (require, exports, page_node_1, page_node_2, component_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var PageLayoutNode =\n  /** @class */\n  function (_super) {\n    __extends(PageLayoutNode, _super);\n\n    function PageLayoutNode() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    PageLayoutNode.prototype.getPartId = function () {\n      return 'page';\n    };\n\n    PageLayoutNode.prototype.clone = function () {\n      return new PageLayoutNode(this.getComponentId(), this.width, this.height, this.paddingTop, this.paddingBottom, this.paddingLeft, this.paddingRight);\n    };\n\n    return PageLayoutNode;\n  }(page_node_1.PageLayoutNode);\n\n  exports.PageLayoutNode = PageLayoutNode;\n\n  var PageViewNode =\n  /** @class */\n  function (_super) {\n    __extends(PageViewNode, _super);\n\n    function PageViewNode(layoutNode) {\n      var _this = _super.call(this, layoutNode) || this;\n\n      _this.domContainer = document.createElement('div');\n      _this.domContainer.style.position = 'relative';\n      _this.domContainer.style.marginLeft = 'auto';\n      _this.domContainer.style.marginRight = 'auto';\n      _this.domContentContainer = document.createElement('div');\n\n      _this.domContainer.appendChild(_this.domContentContainer);\n\n      return _this;\n    }\n\n    PageViewNode.prototype.getDOMContainer = function () {\n      return this.domContainer;\n    };\n\n    PageViewNode.prototype.getDOMContentContainer = function () {\n      return this.domContentContainer;\n    };\n\n    PageViewNode.prototype.onLayoutDidUpdate = function () {\n      this.domContainer.style.width = this.layoutNode.getWidth() + \"px\";\n      this.domContainer.style.height = this.layoutNode.getHeight() + \"px\";\n      this.domContainer.style.paddingTop = this.layoutNode.getPaddingTop() + \"px\";\n      this.domContainer.style.paddingBottom = this.layoutNode.getPaddingBottom() + \"px\";\n      this.domContainer.style.paddingLeft = this.layoutNode.getPaddingLeft() + \"px\";\n      this.domContainer.style.paddingRight = this.layoutNode.getPaddingRight() + \"px\";\n    };\n\n    return PageViewNode;\n  }(page_node_2.PageViewNode);\n\n  exports.PageViewNode = PageViewNode;\n\n  var PageComponent =\n  /** @class */\n  function (_super) {\n    __extends(PageComponent, _super);\n\n    function PageComponent(id, configService) {\n      var _this = _super.call(this, id) || this;\n\n      _this.configService = configService;\n      return _this;\n    }\n\n    PageComponent.prototype.buildModelNode = function (partId, id, attributes) {\n      throw new Error('Page component does not support buildModelNode.');\n    };\n\n    PageComponent.prototype.buildRenderNode = function (modelNode) {\n      throw new Error('Page component does not support buildRenderNode.');\n    };\n\n    PageComponent.prototype.buildLayoutNode = function (renderNode) {\n      throw new Error('Page component does not support buildLayoutNode.');\n    };\n\n    PageComponent.prototype.buildPageLayoutNode = function () {\n      var pageConfig = this.configService.getConfig().page;\n      return new PageLayoutNode(this.getId(), pageConfig.width, pageConfig.height, pageConfig.paddingTop, pageConfig.paddingBottom, pageConfig.paddingLeft, pageConfig.paddingRight);\n    };\n\n    PageComponent.prototype.buildViewNode = function (layoutNode) {\n      if (layoutNode instanceof PageLayoutNode) {\n        return new PageViewNode(layoutNode);\n      }\n\n      throw new Error('Invalid layout render node.');\n    };\n\n    return PageComponent;\n  }(component_1.Component);\n\n  exports.PageComponent = PageComponent;\n});","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\ndefine([\"require\", \"exports\", \"./node\"], function (require, exports, node_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var PageViewNode =\n  /** @class */\n  function (_super) {\n    __extends(PageViewNode, _super);\n\n    function PageViewNode() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    PageViewNode.prototype.getNodeClass = function () {\n      return 'page';\n    };\n\n    PageViewNode.prototype.isRoot = function () {\n      return false;\n    };\n\n    PageViewNode.prototype.isLeaf = function () {\n      return false;\n    };\n\n    PageViewNode.prototype.getSize = function () {\n      if (this.size === undefined) {\n        this.size = this.getChildren().reduce(function (size, child) {\n          return size + child.getSize();\n        }, 0);\n      }\n\n      return this.size;\n    };\n\n    PageViewNode.prototype.clearOwnCache = function () {\n      this.size = undefined;\n    };\n\n    return PageViewNode;\n  }(node_1.ViewNode);\n\n  exports.PageViewNode = PageViewNode;\n});","define([\"require\", \"exports\"], function (require, exports) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var ComponentRegistry =\n  /** @class */\n  function () {\n    function ComponentRegistry() {\n      this.componentsMap = new Map();\n    }\n\n    ComponentRegistry.prototype.registerComponent = function (componentId, component) {\n      this.componentsMap.set(componentId, component);\n    };\n\n    ComponentRegistry.prototype.getComponent = function (componentId) {\n      return this.componentsMap.get(componentId);\n    };\n\n    return ComponentRegistry;\n  }();\n\n  exports.ComponentRegistry = ComponentRegistry;\n});","define([\"require\", \"exports\"], function (require, exports) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var ConfigService =\n  /** @class */\n  function () {\n    function ConfigService(config, externalConfig) {\n      this.config = config;\n      this.applyExternalConfig(externalConfig);\n    }\n\n    ConfigService.prototype.getConfig = function () {\n      return this.config;\n    };\n\n    ConfigService.prototype.applyExternalConfig = function (externalConfig) {\n      var coreConfig = externalConfig['tw.core'];\n\n      if (coreConfig) {\n        if (coreConfig.page) {\n          this.config.page = coreConfig.page;\n        }\n      }\n    };\n\n    return ConfigService;\n  }();\n\n  exports.ConfigService = ConfigService;\n});","define([\"require\", \"exports\", \"./cursor\"], function (require, exports, cursor_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var CursorService =\n  /** @class */\n  function () {\n    function CursorService(configService) {\n      if (!configService.getConfig().cursor.disable) {\n        this.cursor = new cursor_1.Cursor();\n      }\n    }\n\n    CursorService.prototype.onDidUpdateCursor = function (listener) {\n      if (this.cursor) {\n        this.cursor.onDidUpdateCursor(listener);\n      }\n    };\n\n    CursorService.prototype.hasCursor = function () {\n      return !!this.cursor;\n    };\n\n    CursorService.prototype.setCursorState = function (cursorState) {\n      this.assertCursor();\n      this.cursor.set(cursorState.anchor, cursorState.head, cursorState.leftLock);\n    };\n\n    CursorService.prototype.getCursorState = function () {\n      this.assertCursor();\n      return {\n        anchor: this.cursor.getAnchor(),\n        head: this.cursor.getHead(),\n        leftLock: this.cursor.getLeftLock()\n      };\n    };\n\n    CursorService.prototype.assertCursor = function () {\n      if (!this.cursor) {\n        throw new Error('Cursor is disabled.');\n      }\n    };\n\n    return CursorService;\n  }();\n\n  exports.CursorService = CursorService;\n});","define([\"require\", \"exports\", \"../event/emitter\"], function (require, exports, emitter_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var Cursor =\n  /** @class */\n  function () {\n    function Cursor() {\n      this.didUpdateCursorEventEmitter = new emitter_1.EventEmitter();\n      this.anchor = 0;\n      this.head = 0;\n      this.leftLock = null;\n    }\n\n    Cursor.prototype.onDidUpdateCursor = function (listener) {\n      this.didUpdateCursorEventEmitter.on(listener);\n    };\n\n    Cursor.prototype.set = function (anchor, head, leftLock) {\n      this.anchor = anchor;\n      this.head = head;\n      this.leftLock = leftLock;\n      this.didUpdateCursorEventEmitter.emit({});\n    };\n\n    Cursor.prototype.getAnchor = function () {\n      return this.anchor;\n    };\n\n    Cursor.prototype.getHead = function () {\n      return this.head;\n    };\n\n    Cursor.prototype.getLeftLock = function () {\n      return this.leftLock;\n    };\n\n    return Cursor;\n  }();\n\n  exports.Cursor = Cursor;\n});","define([\"require\", \"exports\", \"./state\"], function (require, exports, state_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var HistoryService =\n  /** @class */\n  function () {\n    function HistoryService(configService, stateService) {\n      this.state = new state_1.HistoryState(configService, stateService);\n    }\n\n    HistoryService.prototype.undo = function () {\n      this.state.undo();\n    };\n\n    HistoryService.prototype.redo = function () {\n      this.state.redo();\n    };\n\n    return HistoryService;\n  }();\n\n  exports.HistoryService = HistoryService;\n});","define([\"require\", \"exports\", \"./action\"], function (require, exports, action_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var HistoryState =\n  /** @class */\n  function () {\n    function HistoryState(configService, stateService) {\n      var _this = this;\n\n      this.configService = configService;\n      this.stateService = stateService;\n      this.actions = [];\n      this.offset = -1;\n\n      this.handleDidApplyTransformation = function (event) {\n        var transformation = event.transformation,\n            appliedTransformation = event.appliedTransformation; // Do not record applied transformation if originated from redo\n\n        if (_this.offset >= 0 && _this.actions[_this.offset].getAppliedTransformations().some(function (appliedTn) {\n          return appliedTn.getOriginalTransformation() === transformation;\n        })) {\n          return;\n        }\n\n        if (_this.offset < 0) {\n          _this.recordAppliedTransformationToNewAction(appliedTransformation);\n\n          return;\n        }\n\n        var currentItem = _this.actions[_this.offset];\n        var now = Date.now();\n\n        if (now - currentItem.getBeganAt() < _this.maxCollapseDuration && now - currentItem.getEndedAt() < _this.collapseThreshold) {\n          _this.recordAppliedTransformationToLastAction(appliedTransformation);\n        } else {\n          _this.recordAppliedTransformationToNewAction(appliedTransformation);\n        }\n      };\n\n      var config = configService.getConfig();\n      this.maxCollapseDuration = config.history.maxCollapseDuration;\n      this.collapseThreshold = config.history.collapseThreshold;\n      stateService.onDidApplyTransformation(this.handleDidApplyTransformation);\n    }\n\n    HistoryState.prototype.undo = function () {\n      var action = this.consumeNextUndoableAction();\n\n      if (!action) {\n        return;\n      }\n\n      var appliedTransformations = action.getAppliedTransformations();\n\n      if (appliedTransformations.length === 0) {\n        return;\n      }\n\n      this.stateService.unapplyTransformations(appliedTransformations);\n    };\n\n    HistoryState.prototype.redo = function () {\n      var action = this.consumeNextRedoableAction();\n\n      if (!action) {\n        return;\n      }\n\n      var transformations = action.getAppliedTransformations().map(function (appliedTransformation) {\n        return appliedTransformation.getOriginalTransformation();\n      });\n      this.stateService.applyTransformations(transformations);\n    };\n\n    HistoryState.prototype.consumeNextUndoableAction = function () {\n      if (this.offset < 0) {\n        return undefined;\n      }\n\n      var action = this.actions[this.offset];\n      this.offset--;\n      return action;\n    };\n\n    HistoryState.prototype.consumeNextRedoableAction = function () {\n      if (this.offset >= this.actions.length - 1) {\n        return undefined;\n      }\n\n      this.offset++;\n      return this.actions[this.offset];\n    };\n\n    HistoryState.prototype.recordAppliedTransformationToNewAction = function (appliedTransformation) {\n      if (appliedTransformation.getOperations().length === 0) {\n        return;\n      }\n\n      if (this.offset < this.actions.length - 1) {\n        this.actions.splice(this.offset + 1, this.actions.length - 1 - this.offset);\n      }\n\n      var action = new action_1.HistoryAction();\n      action.recordAppliedTransformation(appliedTransformation);\n      this.actions.push(action);\n      this.offset++;\n    };\n\n    HistoryState.prototype.recordAppliedTransformationToLastAction = function (appliedTransformation) {\n      var action = this.actions[this.offset];\n\n      if (!action) {\n        throw new Error('Error recording applied transformation, history is empty.');\n      }\n\n      if (this.offset < this.actions.length - 1) {\n        this.actions.splice(this.offset + 1, this.actions.length - 1 - this.offset);\n      }\n\n      action.recordAppliedTransformation(appliedTransformation);\n    };\n\n    return HistoryState;\n  }();\n\n  exports.HistoryState = HistoryState;\n});","define([\"require\", \"exports\"], function (require, exports) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var HistoryAction =\n  /** @class */\n  function () {\n    function HistoryAction() {\n      this.appliedTransformations = [];\n      this.beganAt = Date.now();\n      this.endedAt = this.beganAt;\n    }\n\n    HistoryAction.prototype.getBeganAt = function () {\n      return this.beganAt;\n    };\n\n    HistoryAction.prototype.getEndedAt = function () {\n      return this.endedAt;\n    };\n\n    HistoryAction.prototype.recordAppliedTransformation = function (appliedTransformation) {\n      this.appliedTransformations.push(appliedTransformation);\n      this.endedAt = Date.now();\n    };\n\n    HistoryAction.prototype.getAppliedTransformations = function () {\n      return this.appliedTransformations;\n    };\n\n    return HistoryAction;\n  }();\n\n  exports.HistoryAction = HistoryAction;\n});","define([\"require\", \"exports\", \"../util/platform\"], function (require, exports, platform_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var KeyBindingService =\n  /** @class */\n  function () {\n    function KeyBindingService(configService, commandService, viewService) {\n      var _this = this;\n\n      this.configService = configService;\n      this.commandService = commandService;\n      this.viewService = viewService;\n      this.keyBindings = new Map();\n\n      this.handleDidPressKey = function (event) {\n        var _a;\n\n        var keyBinding = _this.keyBindings.get(event.key);\n\n        if (!keyBinding) {\n          return;\n        }\n\n        (_a = _this.commandService).executeCommand.apply(_a, [keyBinding.command].concat(keyBinding.args));\n      };\n\n      var keyBindingsConfig = this.configService.getConfig().keyBindings;\n      this.bindKeys(keyBindingsConfig.common);\n\n      switch (platform_1.detectPlatform()) {\n        case 'macOS':\n          if (keyBindingsConfig.macos) {\n            this.bindKeys(keyBindingsConfig.macos);\n          }\n\n          break;\n\n        case 'Windows':\n          if (keyBindingsConfig.windows) {\n            this.bindKeys(keyBindingsConfig.windows);\n          }\n\n          break;\n\n        case 'Linux':\n          if (keyBindingsConfig.linux) {\n            this.bindKeys(keyBindingsConfig.linux);\n          }\n\n          break;\n      }\n\n      viewService.onDidPressKey(this.handleDidPressKey);\n    }\n\n    KeyBindingService.prototype.bindKeys = function (config) {\n      for (var key in config) {\n        var binding = config[key];\n        this.keyBindings.set(key, {\n          command: binding.command,\n          args: binding.args || []\n        });\n      }\n    };\n\n    return KeyBindingService;\n  }();\n\n  exports.KeyBindingService = KeyBindingService;\n});","define([\"require\", \"exports\", \"./state\"], function (require, exports, state_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var LayoutService =\n  /** @class */\n  function () {\n    function LayoutService(componentService, renderService) {\n      this.state = new state_1.LayoutState(componentService, renderService);\n    }\n\n    LayoutService.prototype.onDidUpdateLayoutState = function (listener) {\n      this.state.onDidUpdateLayoutState(listener);\n    };\n\n    LayoutService.prototype.getDocNode = function () {\n      return this.state.getDocNode();\n    };\n\n    LayoutService.prototype.resolvePosition = function (offset) {\n      return this.state.getDocNode().resolvePosition(offset);\n    };\n\n    LayoutService.prototype.resolvePageRects = function (from, to) {\n      return this.state.getDocNode().resolvePageRects(from, to);\n    };\n\n    return LayoutService;\n  }();\n\n  exports.LayoutService = LayoutService;\n});","define([\"require\", \"exports\", \"../event/emitter\", \"./flower\", \"./node-joiner\", \"./tree-builder\", \"./utility\"], function (require, exports, emitter_1, flower_1, node_joiner_1, tree_builder_1, utility_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var LayoutState =\n  /** @class */\n  function () {\n    function LayoutState(componentService, renderService) {\n      var _this = this;\n\n      this.componentService = componentService;\n      this.renderService = renderService;\n      this.didUpdateLayoutStateEventEmitter = new emitter_1.EventEmitter();\n\n      this.handleDidUpdateRenderStateEvent = function (event) {\n        var treeBuilder = new tree_builder_1.LayoutTreeBuilder(_this.componentService);\n        var updatedNode = treeBuilder.buildTree(event.node);\n\n        var node = _this.docNode.findDescendant(event.node.getId());\n\n        if (!node) {\n          throw new Error(\"Render node \" + event.node.getId() + \" is not found.\");\n        }\n\n        _this.deduplicateNode(node);\n\n        node.onDidUpdate(updatedNode);\n        var flower = new flower_1.LayoutFlower();\n        var flowedNode = flower.flow(node);\n\n        _this.didUpdateLayoutStateEventEmitter.emit({\n          node: flowedNode\n        });\n      };\n\n      var docRenderNode = renderService.getDocNode();\n      var treeBuilder = new tree_builder_1.LayoutTreeBuilder(componentService);\n      this.docNode = treeBuilder.buildTree(docRenderNode);\n      var flower = new flower_1.LayoutFlower();\n      flower.flow(this.docNode);\n      renderService.onDidUpdateRenderState(this.handleDidUpdateRenderStateEvent);\n    }\n\n    LayoutState.prototype.onDidUpdateLayoutState = function (listener) {\n      this.didUpdateLayoutStateEventEmitter.on(listener);\n    };\n\n    LayoutState.prototype.getDocNode = function () {\n      return this.docNode;\n    };\n\n    LayoutState.prototype.deduplicateNode = function (node) {\n      switch (utility_1.identifyLayoutNodeType(node)) {\n        case 'Inline':\n          this.deduplicateInlineNode(node);\n          break;\n\n        case 'Block':\n          this.deduplicateBlockNode(node);\n          break;\n      }\n    };\n\n    LayoutState.prototype.deduplicateInlineNode = function (node) {\n      var joiner = new node_joiner_1.NodeJoiner();\n      var nextNode;\n      var lineNode = node.getParent();\n\n      while ((nextNode = node.getNextSiblingAllowCrossParent()) && nextNode.getId() === node.getId()) {\n        var nextLineNode = nextNode.getParent();\n        joiner.join(lineNode, nextLineNode);\n      }\n    };\n\n    LayoutState.prototype.deduplicateBlockNode = function (node) {\n      var joiner = new node_joiner_1.NodeJoiner();\n      var nextNode;\n      var pageNode = node.getParent();\n\n      while ((nextNode = node.getNextSiblingAllowCrossParent()) && nextNode.getId() === node.getId()) {\n        var nextPageNode = nextNode.getParent();\n        joiner.join(pageNode, nextPageNode);\n      }\n    };\n\n    return LayoutState;\n  }();\n\n  exports.LayoutState = LayoutState;\n});","define([\"require\", \"exports\", \"../tree/utility\", \"./node-breaker\", \"./node-joiner\", \"./utility\"], function (require, exports, utility_1, node_breaker_1, node_joiner_1, utility_2) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var NodeQueue =\n  /** @class */\n  function () {\n    function NodeQueue() {\n      this.lineNodes = [];\n      this.pageNodes = [];\n    }\n\n    NodeQueue.prototype.queue = function (node) {\n      switch (utility_2.identifyLayoutNodeType(node)) {\n        case 'Doc':\n          this.queueDocNode(node);\n          break;\n\n        case 'Page':\n          this.queuePageNode(node);\n          break;\n\n        case 'Block':\n          this.queueBlockNode(node);\n          break;\n\n        case 'Line':\n          this.queueLineNode(node);\n          break;\n\n        case 'Inline':\n          this.queueInlineNode(node);\n          break;\n\n        case 'Atomic':\n          this.queueAtomicNode(node);\n          break;\n\n        default:\n          throw new Error('Invalid layout node type.');\n      }\n    };\n\n    NodeQueue.prototype.popLineNode = function () {\n      return this.lineNodes.shift();\n    };\n\n    NodeQueue.prototype.popPageNode = function () {\n      return this.pageNodes.shift();\n    };\n\n    NodeQueue.prototype.queueDocNode = function (node) {\n      var _this = this;\n\n      node.getChildren().forEach(function (child) {\n        return _this.queue(child);\n      });\n    };\n\n    NodeQueue.prototype.queuePageNode = function (node) {\n      var _this = this;\n\n      this.pageNodes.push(node);\n      node.getChildren().forEach(function (child) {\n        return _this.queue(child);\n      });\n    };\n\n    NodeQueue.prototype.queueBlockNode = function (node) {\n      var _this = this;\n\n      node.getChildren().forEach(function (child) {\n        return _this.queue(child);\n      });\n    };\n\n    NodeQueue.prototype.queueLineNode = function (node) {\n      this.lineNodes.push(node);\n    };\n\n    NodeQueue.prototype.queueInlineNode = function (node) {\n      this.queue(node.getParent());\n    };\n\n    NodeQueue.prototype.queueAtomicNode = function (node) {\n      this.queue(node.getParent());\n    };\n\n    return NodeQueue;\n  }();\n\n  var LayoutFlower =\n  /** @class */\n  function () {\n    function LayoutFlower() {\n      this.nodeQueue = new NodeQueue();\n      this.nodeJoiner = new node_joiner_1.NodeJoiner();\n      this.nodeBreaker = new node_breaker_1.NodeBreaker();\n      this.ran = false;\n    }\n\n    LayoutFlower.prototype.flow = function (node) {\n      if (this.ran) {\n        throw new Error('Layout flower has already been run.');\n      }\n\n      this.updatedNode = node;\n      this.nodeQueue.queue(node);\n      this.flushLineNodeQueue();\n      this.flushPageNodeQueue();\n      return this.updatedNode;\n    };\n\n    LayoutFlower.prototype.flushLineNodeQueue = function () {\n      var node;\n\n      while (node = this.nodeQueue.popLineNode()) {\n        this.flowLineNode(node);\n      }\n    };\n\n    LayoutFlower.prototype.flushPageNodeQueue = function () {\n      var node;\n\n      while (node = this.nodeQueue.popPageNode()) {\n        this.flowPageNode(node);\n      }\n    };\n\n    LayoutFlower.prototype.flowPageNode = function (node) {\n      if (node.isFlowed()) {\n        return;\n      }\n\n      if (!node.getParent()) {\n        return;\n      }\n\n      if (this.joinNextPageNode(node)) {\n        this.nodeQueue.queue(node);\n        return;\n      }\n\n      var pageNode = node;\n\n      while (pageNode) {\n        this.recordNodeAsUpdated(pageNode);\n        var newPageNode = this.nodeBreaker.break(pageNode);\n\n        if (!newPageNode) {\n          pageNode.markAsFlowed();\n          break;\n        }\n\n        pageNode.getParent().appendChildAfter(newPageNode, pageNode);\n        pageNode.markAsFlowed();\n        pageNode = newPageNode;\n      }\n    };\n\n    LayoutFlower.prototype.flowLineNode = function (node) {\n      if (node.isFlowed()) {\n        return;\n      }\n\n      if (!node.getParent()) {\n        return;\n      }\n\n      if (this.joinNextLineNode(node)) {\n        this.nodeQueue.queue(node);\n        return;\n      }\n\n      var lineNode = node;\n\n      while (lineNode) {\n        this.recordNodeAsUpdated(lineNode);\n        var newLineNode = this.nodeBreaker.break(lineNode);\n\n        if (!newLineNode) {\n          lineNode.markAsFlowed();\n          break;\n        }\n\n        lineNode.getParent().appendChildAfter(newLineNode, lineNode);\n        lineNode.markAsFlowed();\n        lineNode = newLineNode;\n      }\n\n      var parentNode = node.getParent();\n\n      while (parentNode) {\n        if (utility_2.identifyLayoutNodeType(parentNode) === 'Page') {\n          this.nodeQueue.queue(node.getParent().getParent());\n          break;\n        }\n\n        parentNode = parentNode.getParent();\n      }\n    };\n\n    LayoutFlower.prototype.joinNextPageNode = function (node) {\n      var nextNode = node.getNextSibling();\n\n      if (!nextNode) {\n        return false;\n      }\n\n      var nextBlockChild = node.getFirstChild();\n\n      if (!nextBlockChild) {\n        return false;\n      }\n\n      var nextLineNode = nextBlockChild.getFirstChild();\n\n      if (!nextLineNode) {\n        return false;\n      }\n\n      if (node.getContentHeight() + nextLineNode.getHeight() > node.getHeight()) {\n        return false;\n      }\n\n      this.nodeJoiner.join(node, nextNode);\n      return true;\n    };\n\n    LayoutFlower.prototype.joinNextLineNode = function (node) {\n      var nextNode = node.getNextSibling();\n\n      if (!nextNode) {\n        return false;\n      }\n\n      var nextInlineChild = nextNode.getFirstChild();\n\n      if (!nextInlineChild) {\n        return false;\n      }\n\n      var nextAtomicChild = nextInlineChild.getFirstChild();\n\n      if (!nextAtomicChild) {\n        return false;\n      }\n\n      if (node.getContentWidth() + nextAtomicChild.getWidth() > node.getWidth()) {\n        return false;\n      }\n\n      this.nodeJoiner.join(node, nextNode);\n      return true;\n    };\n\n    LayoutFlower.prototype.recordNodeAsUpdated = function (node) {\n      this.updatedNode = utility_1.findCommonLineage(node, this.updatedNode);\n    };\n\n    LayoutFlower.prototype.getNodeLineage = function (node) {\n      var lineage = [];\n      var currentNode = node;\n\n      while (true) {\n        lineage.unshift(currentNode);\n\n        if (currentNode.isRoot()) {\n          return lineage;\n        }\n\n        currentNode = currentNode.getParent();\n      }\n    };\n\n    return LayoutFlower;\n  }();\n\n  exports.LayoutFlower = LayoutFlower;\n});","define([\"require\", \"exports\", \"./utility\"], function (require, exports, utility_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var NodeBreaker =\n  /** @class */\n  function () {\n    function NodeBreaker() {}\n\n    NodeBreaker.prototype.break = function (node) {\n      switch (utility_1.identifyLayoutNodeType(node)) {\n        case 'Page':\n          return this.breakPageNode(node);\n\n        case 'Line':\n          return this.breakLineNode(node);\n\n        default:\n          return undefined;\n      }\n    };\n\n    NodeBreaker.prototype.breakPageNode = function (node) {\n      var height = node.getInnerHeight();\n      var cumulatedHeight = 0;\n      var blockNodes = node.getChildren();\n\n      for (var n = 0; n < blockNodes.length; n++) {\n        var blockNode = blockNodes[n];\n\n        if (cumulatedHeight + (blockNode.getHeight() - blockNode.getPaddingBottom()) > height) {\n          var newPageNode = node.clone();\n\n          for (var _i = 0, _a = node.getChildren().slice(n + 1); _i < _a.length; _i++) {\n            var blockNodeToMove = _a[_i];\n            node.removeChild(blockNodeToMove);\n            newPageNode.appendChild(blockNodeToMove);\n          }\n\n          var lastBlockNode = node.getLastChild();\n\n          if (lastBlockNode) {\n            var newBlockNode = this.breakBlockNode(lastBlockNode, height - cumulatedHeight);\n\n            if (newBlockNode) {\n              newPageNode.insertChild(newBlockNode);\n            }\n\n            if (lastBlockNode.getChildren().length === 0) {\n              node.removeChild(lastBlockNode);\n            }\n          }\n\n          return newPageNode;\n        }\n\n        cumulatedHeight += blockNode.getHeight();\n      }\n\n      return undefined;\n    };\n\n    NodeBreaker.prototype.breakBlockNode = function (node, height) {\n      var cumulatedHeight = 0;\n      var lineNodes = node.getChildren();\n\n      for (var n = 0; n < lineNodes.length; n++) {\n        var lineNode = lineNodes[n];\n\n        if (cumulatedHeight + lineNode.getHeight() > height) {\n          var newBlockNode = node.clone();\n\n          for (var _i = 0, _a = node.getChildren().slice(n); _i < _a.length; _i++) {\n            var lineNodeToMove = _a[_i];\n            node.removeChild(lineNodeToMove);\n            newBlockNode.appendChild(lineNodeToMove);\n          }\n\n          return newBlockNode;\n        }\n\n        cumulatedHeight += lineNode.getHeight();\n      }\n\n      return undefined;\n    };\n\n    NodeBreaker.prototype.breakLineNode = function (node) {\n      var width = node.getInnerWidth();\n      var cumulatedWidth = 0;\n      var inlineNodes = node.getChildren();\n\n      for (var n = 0; n < inlineNodes.length; n++) {\n        var inlineNode = inlineNodes[n];\n\n        if (cumulatedWidth + inlineNode.getTailTrimmedWidth() > width) {\n          var newLineNode = node.clone();\n\n          for (var _i = 0, _a = node.getChildren().slice(n + 1); _i < _a.length; _i++) {\n            var inlineNodeToMove = _a[_i];\n            node.removeChild(inlineNodeToMove);\n            newLineNode.appendChild(inlineNodeToMove);\n          }\n\n          var lastInlineNode = node.getLastChild();\n\n          if (lastInlineNode) {\n            var newInlineNode = this.breakInlineNode(lastInlineNode, width - cumulatedWidth, width);\n\n            if (newInlineNode) {\n              newLineNode.insertChild(newInlineNode);\n            }\n\n            if (lastInlineNode.getChildren().length === 0) {\n              node.removeChild(lastInlineNode);\n            }\n          }\n\n          return newLineNode;\n        }\n\n        cumulatedWidth += inlineNode.getWidth();\n      }\n\n      return undefined;\n    };\n\n    NodeBreaker.prototype.breakInlineNode = function (node, width, lineWidth) {\n      var cumulatedWidth = 0;\n      var atomicNodes = node.getChildren();\n\n      for (var n = 0; n < atomicNodes.length; n++) {\n        var atomicNode = atomicNodes[n];\n\n        if (cumulatedWidth + atomicNode.getTailTrimmedWidth() > width) {\n          var newInlineNode = node.clone();\n\n          for (var _i = 0, _a = node.getChildren().slice(n); _i < _a.length; _i++) {\n            var atomicNodeToMove = _a[_i];\n            node.removeChild(atomicNodeToMove);\n            newInlineNode.appendChild(atomicNodeToMove);\n          }\n\n          var nextAtomicNode = newInlineNode.getFirstChild();\n\n          if (nextAtomicNode) {\n            var newAtomicNode = this.breakAtomicNode(nextAtomicNode, lineWidth);\n\n            if (newAtomicNode) {\n              newInlineNode.appendChildAfter(newAtomicNode, nextAtomicNode);\n            }\n          }\n\n          return newInlineNode;\n        }\n\n        cumulatedWidth += atomicNode.getWidth();\n      }\n\n      return undefined;\n    };\n\n    NodeBreaker.prototype.breakAtomicNode = function (node, width) {\n      if (node.getTailTrimmedWidth() <= width) {\n        return null;\n      }\n\n      return node.breakAtWidth(width);\n    };\n\n    return NodeBreaker;\n  }();\n\n  exports.NodeBreaker = NodeBreaker;\n});","define([\"require\", \"exports\", \"./block-node\", \"./doc-node\"], function (require, exports, block_node_1, doc_node_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var LayoutTreeBuilder =\n  /** @class */\n  function () {\n    function LayoutTreeBuilder(componentService) {\n      this.componentService = componentService;\n      this.ran = false;\n    }\n\n    LayoutTreeBuilder.prototype.buildTree = function (renderNode) {\n      if (this.ran) {\n        throw new Error('Tree builder has already been run.');\n      }\n\n      this.rootRenderNode = renderNode;\n\n      this._buildTree();\n\n      this.ran = true;\n      return this.rootLayoutNode;\n    };\n\n    LayoutTreeBuilder.prototype._buildTree = function () {\n      this.rootLayoutNode = this.buildNode(this.rootRenderNode);\n      this.ran = true;\n    };\n\n    LayoutTreeBuilder.prototype.buildNode = function (renderNode) {\n      var _this = this;\n\n      var component = this.componentService.getComponent(renderNode.getComponentId());\n\n      if (!component) {\n        throw new Error(\"Component \" + renderNode.getComponentId() + \" is not registered.\");\n      }\n\n      var layoutNode = component.buildLayoutNode(renderNode);\n\n      if (!layoutNode) {\n        throw new Error(\"Could not build layout node from render node \" + renderNode.getId() + \".\");\n      }\n\n      if (!renderNode.isLeaf() && !layoutNode.isLeaf()) {\n        var childLayoutNodes = renderNode.getChildren().map(function (childRenderNode) {\n          return _this.buildNode(childRenderNode);\n        });\n\n        if (layoutNode instanceof doc_node_1.DocLayoutNode) {\n          var pageLayoutNode_1 = this.componentService.getPageComponent().buildPageLayoutNode();\n          childLayoutNodes.forEach(function (childLayoutNode) {\n            pageLayoutNode_1.appendChild(childLayoutNode);\n          });\n          layoutNode.appendChild(pageLayoutNode_1);\n        } else if (layoutNode instanceof block_node_1.BlockLayoutNode) {\n          var lineLayoutNode_1 = this.componentService.getLineComponent().buildLineLayoutNode();\n          childLayoutNodes.forEach(function (childLayoutNode) {\n            lineLayoutNode_1.appendChild(childLayoutNode);\n          });\n          layoutNode.appendChild(lineLayoutNode_1);\n        } else {\n          childLayoutNodes.forEach(function (childLayoutNode) {\n            layoutNode.appendChild(childLayoutNode);\n          });\n        }\n      }\n\n      return layoutNode;\n    };\n\n    return LayoutTreeBuilder;\n  }();\n\n  exports.LayoutTreeBuilder = LayoutTreeBuilder;\n});","define([\"require\", \"exports\", \"./state\"], function (require, exports, state_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var ModelService =\n  /** @class */\n  function () {\n    function ModelService(componentService, stateService) {\n      this.state = new state_1.ModelState(componentService, stateService);\n    }\n\n    ModelService.prototype.onDidUpdateModelState = function (listener) {\n      this.state.onDidUpdateModelState(listener);\n    };\n\n    ModelService.prototype.getDocNode = function () {\n      return this.state.getDocNode();\n    };\n\n    ModelService.prototype.toHTML = function (from, to) {\n      var domNode = this.state.getDocNode().toDOM(from, to);\n      return domNode.outerHTML;\n    };\n\n    ModelService.prototype.resolvePosition = function (offset) {\n      return this.state.getDocNode().resolvePosition(offset);\n    };\n\n    return ModelService;\n  }();\n\n  exports.ModelService = ModelService;\n});","define([\"require\", \"exports\", \"../event/emitter\", \"../state/utility\", \"../tree/utility\", \"./parser\"], function (require, exports, emitter_1, utility_1, utility_2, parser_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var ModelState =\n  /** @class */\n  function () {\n    function ModelState(componentService, stateService) {\n      var _this = this;\n\n      this.componentService = componentService;\n      this.stateService = stateService;\n      this.didUpdateModelStateEventEmitter = new emitter_1.EventEmitter();\n\n      this.handleDidUpdateStateEvent = function (event) {\n        var wrappedDepth = _this.findWrappedDepth(_this.stateService.getTokens(), event.afterFrom, event.afterTo);\n\n        var node = _this.findNodeContainingRange(event.beforeFrom, event.beforeTo, wrappedDepth);\n\n        var updatedTokens = _this.findNodeTokenRange(_this.stateService.getTokens(), node.getId(), event.afterFrom, event.afterTo); // TODO: When there is block insertion or deletion, it\n        // results in reparse of the full token state. While this\n        // is unnoticeable for small documents, it gets noticeably\n        // slow as the documents grows large. There is much room\n        // for optimization, by only reparsing the part of the token\n        // state that got updated.\n\n\n        var parser = new parser_1.TokenParser(_this.componentService);\n        var updatedNode = parser.parse(updatedTokens);\n        node.onDidUpdate(updatedNode);\n\n        _this.didUpdateModelStateEventEmitter.emit({\n          node: node\n        });\n      };\n\n      var tokens = stateService.getTokens();\n      var parser = new parser_1.TokenParser(componentService);\n      this.docNode = parser.parse(tokens);\n      stateService.onDidUpdateState(this.handleDidUpdateStateEvent);\n    }\n\n    ModelState.prototype.onDidUpdateModelState = function (listener) {\n      this.didUpdateModelStateEventEmitter.on(listener);\n    };\n\n    ModelState.prototype.getDocNode = function () {\n      return this.docNode;\n    };\n\n    ModelState.prototype.findUpdatedNode = function (tokens, beforeFrom, beforeTo, afterFrom, afterTo) {\n      var beforeFromPosition = this.docNode.resolvePosition(beforeFrom).getLeaf();\n      var beforeToPosition = this.docNode.resolvePosition(beforeTo).getLeaf();\n      var beforeNode = utility_2.findCommonLineage(beforeFromPosition.getNode(), beforeToPosition.getNode());\n      var afterTokenRange = this.findParentNodeOfTokenRange(tokens, afterFrom, afterTo);\n      var afterNodeID = tokens[afterTokenRange[0]].id;\n      var afterNode = this.findNodeInLineageById(beforeFromPosition.getNode(), afterNodeID);\n      var node = utility_2.findCommonLineage(beforeNode, afterNode);\n      var updatedTokens = this.findNodeTokenRange(tokens, node.getId(), afterTokenRange[0], afterTokenRange[1]);\n      var parser = new parser_1.TokenParser(this.componentService);\n      var updatedNode = parser.parse(updatedTokens);\n      return [node, updatedNode];\n    };\n\n    ModelState.prototype.findWrappedDepth = function (tokens, from, to) {\n      var depth = 0;\n      var maxDepth = 0;\n      var position = from;\n      var token;\n\n      while (position < to) {\n        token = tokens[position];\n        position++;\n\n        switch (utility_1.identifyTokenType(token)) {\n          case 'OpenToken':\n            depth--;\n            break;\n\n          case 'CloseToken':\n            depth++;\n            break;\n        }\n\n        maxDepth = Math.max(maxDepth, depth);\n      }\n\n      return maxDepth;\n    };\n\n    ModelState.prototype.findNodeContainingRange = function (from, to, wrappedDepth) {\n      var fromPosition = this.docNode.resolvePosition(from).getLeaf();\n      var toPosition = this.docNode.resolvePosition(to).getLeaf();\n\n      for (var n = 0; n < wrappedDepth; n++) {\n        fromPosition = fromPosition.getParent();\n        toPosition = toPosition.getParent();\n      }\n\n      return utility_2.findCommonLineage(fromPosition.getNode(), toPosition.getNode());\n    };\n\n    ModelState.prototype.findParentNodeOfTokenRange = function (tokens, hintFrom, hintTo) {\n      var depthPeak = 0;\n      var depth = 0;\n      tokens.slice(hintFrom, hintTo).forEach(function (token) {\n        switch (utility_1.identifyTokenType(token)) {\n          case 'OpenToken':\n            depth--;\n            break;\n\n          case 'CloseToken':\n            depth++;\n            break;\n        }\n\n        if (depth > depthPeak) {\n          depthPeak = depth;\n        }\n      });\n      var from = hintFrom;\n      var opensNeeded = depthPeak + 1;\n      var token;\n\n      while (opensNeeded > 0 && from > 0) {\n        from--;\n        token = tokens[from];\n\n        switch (utility_1.identifyTokenType(token)) {\n          case 'OpenToken':\n            opensNeeded--;\n            break;\n\n          case 'CloseToken':\n            opensNeeded++;\n            break;\n        }\n      }\n\n      var to = hintTo;\n      var closesNeeded = depthPeak + 1;\n      var tokensLength = tokens.length;\n\n      while (closesNeeded > 0 && to < tokensLength) {\n        to++;\n        token = tokens[to - 1];\n\n        switch (utility_1.identifyTokenType(token)) {\n          case 'OpenToken':\n            closesNeeded++;\n            break;\n\n          case 'CloseToken':\n            closesNeeded--;\n            break;\n        }\n      }\n\n      return [from, to];\n    };\n\n    ModelState.prototype.findNodeInLineageById = function (node, id) {\n      if (node.getId() === id) {\n        return node;\n      }\n\n      if (node.isRoot()) {\n        throw new Error(\"Node \" + id + \" is not found in lineage.\");\n      }\n\n      return this.findNodeInLineageById(node.getParent(), id);\n    };\n\n    ModelState.prototype.findNodeTokenRange = function (tokens, nodeId, hintFrom, hintTo) {\n      var _a = this.findNodeOpenTokenPositionAndDepth(tokens, nodeId, hintFrom),\n          from = _a[0],\n          depth = _a[1];\n\n      var to = this.findNodeCloseTokenPosition(tokens, hintTo, depth);\n      return tokens.slice(from, to);\n    };\n\n    ModelState.prototype.findNodeOpenTokenPositionAndDepth = function (tokens, nodeId, hintPosition) {\n      var position = hintPosition;\n      var depth = 0;\n      var token;\n\n      while (position >= 0) {\n        position--;\n        token = tokens[position];\n\n        switch (utility_1.identifyTokenType(token)) {\n          case 'OpenToken':\n            depth--;\n\n            if (token.id === nodeId) {\n              return [position, depth];\n            }\n\n            break;\n\n          case 'CloseToken':\n            depth++;\n            break;\n        }\n      }\n\n      return [position, depth];\n    };\n\n    ModelState.prototype.findNodeCloseTokenPosition = function (tokens, hintPosition, depth) {\n      var tokensLength = tokens.length;\n      var position = hintPosition;\n      var currentDepth = depth;\n      var token;\n\n      while (position < tokensLength) {\n        token = tokens[position];\n        position++;\n\n        switch (utility_1.identifyTokenType(token)) {\n          case 'OpenToken':\n            currentDepth--;\n            break;\n\n          case 'CloseToken':\n            currentDepth++;\n\n            if (currentDepth >= 0) {\n              return position;\n            }\n\n            break;\n        }\n      }\n\n      return position;\n    };\n\n    return ModelState;\n  }();\n\n  exports.ModelState = ModelState;\n});","define([\"require\", \"exports\", \"../state/utility\", \"./inline-node\"], function (require, exports, utility_1, inline_node_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  var ParserState;\n\n  (function (ParserState) {\n    ParserState[ParserState[\"NewNode\"] = 0] = \"NewNode\";\n    ParserState[ParserState[\"Content\"] = 1] = \"Content\";\n  })(ParserState || (ParserState = {}));\n\n  var Stack =\n  /** @class */\n  function () {\n    function Stack() {\n      this.objects = [];\n    }\n\n    Stack.prototype.push = function (object) {\n      this.objects.push(object);\n    };\n\n    Stack.prototype.pop = function () {\n      return this.objects.pop();\n    };\n\n    Stack.prototype.peek = function () {\n      return this.objects[this.objects.length - 1];\n    };\n\n    Stack.prototype.getDoc = function () {\n      if (this.objects.length === 0) {\n        throw new Error('Error parsing state.');\n      }\n\n      return this.objects[0];\n    };\n\n    return Stack;\n  }();\n\n  var TokenParser =\n  /** @class */\n  function () {\n    function TokenParser(componentService) {\n      this.componentService = componentService;\n      this.parserState = ParserState.NewNode;\n      this.stack = new Stack();\n      this.contentBuffer = '';\n      this.ran = false;\n    }\n\n    TokenParser.prototype.parse = function (tokens) {\n      if (this.ran) {\n        throw new Error('Parser has already been run.');\n      }\n\n      this.tokens = tokens;\n\n      this._parse();\n\n      this.ran = true;\n      return this.rootNode;\n    };\n\n    TokenParser.prototype._parse = function () {\n      var tokens = this.tokens;\n      this.stack = new Stack();\n      var token;\n\n      for (var n = 0, nn = tokens.length; n < nn; n++) {\n        token = tokens[n];\n\n        try {\n          this.processToken(token);\n        } catch (error) {\n          error.message = \"Error at token \" + n + \": \" + error.message;\n          throw error;\n        }\n      }\n\n      this.ran = true;\n    };\n\n    TokenParser.prototype.processToken = function (token) {\n      switch (this.parserState) {\n        case ParserState.NewNode:\n          switch (utility_1.identifyTokenType(token)) {\n            case 'OpenToken':\n              this.newNode(token);\n              return;\n\n            case 'ContentToken':\n              this.appendToContent(token);\n              return;\n\n            case 'CloseToken':\n              this.closeNode(token);\n              return;\n          }\n\n        case ParserState.Content:\n          switch (utility_1.identifyTokenType(token)) {\n            case 'ContentToken':\n              this.appendToContent(token);\n              return;\n\n            case 'CloseToken':\n              this.closeNode(token);\n              return;\n          }\n\n        default:\n          throw new Error('Unexpected token encountered.');\n      }\n    };\n\n    TokenParser.prototype.newNode = function (token) {\n      var node = this.buildNode(token.componentId, token.partId, token.id, token.attributes);\n      var parentStackObject = this.stack.peek();\n\n      if (parentStackObject) {\n        parentStackObject.node.appendChild(node);\n      }\n\n      this.stack.push({\n        node: node\n      });\n\n      if (!this.rootNode) {\n        this.rootNode = node;\n      }\n    };\n\n    TokenParser.prototype.appendToContent = function (token) {\n      this.contentBuffer += token;\n      this.parserState = ParserState.Content;\n    };\n\n    TokenParser.prototype.closeNode = function (token) {\n      var stackObject = this.stack.pop();\n\n      if (!stackObject) {\n        throw new Error('Unexpected end of tokens encountered.');\n      }\n\n      if (stackObject.node instanceof inline_node_1.InlineModelNode) {\n        var inlineNode = stackObject.node;\n        inlineNode.setContent(this.contentBuffer);\n      }\n\n      this.contentBuffer = '';\n      this.parserState = ParserState.NewNode;\n    };\n\n    TokenParser.prototype.buildNode = function (componentId, partId, id, attributes) {\n      var component = this.componentService.getComponent(componentId);\n\n      if (!component) {\n        throw new Error(\"Component \" + componentId + \" is not registered.\");\n      }\n\n      var node = component.buildModelNode(partId, id, attributes);\n\n      if (!node) {\n        throw new Error(\"Could not build model node from part \" + partId + \", id \" + id + \" and attributes \" + JSON.stringify(attributes) + \".\");\n      }\n\n      return node;\n    };\n\n    return TokenParser;\n  }();\n\n  exports.TokenParser = TokenParser;\n});","define([\"require\", \"exports\", \"./state\"], function (require, exports, state_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var RenderService =\n  /** @class */\n  function () {\n    function RenderService(componentService, modelService) {\n      this.state = new state_1.RenderState(componentService, modelService);\n    }\n\n    RenderService.prototype.onDidUpdateRenderState = function (listener) {\n      this.state.onDidUpdateRenderState(listener);\n    };\n\n    RenderService.prototype.getDocNode = function () {\n      return this.state.getDocNode();\n    };\n\n    RenderService.prototype.getDocSize = function () {\n      return this.state.getDocNode().getSize();\n    };\n\n    RenderService.prototype.convertOffsetToModelOffset = function (offset) {\n      return this.state.getDocNode().convertOffsetToModelOffset(offset);\n    };\n\n    RenderService.prototype.convertModelOffsetToOffset = function (modelOffset) {\n      return this.state.getDocNode().convertModelOffsetToOffset(modelOffset);\n    };\n\n    RenderService.prototype.resolvePosition = function (offset) {\n      return this.state.getDocNode().resolvePosition(offset);\n    };\n\n    RenderService.prototype.getStylesBetween = function (from, to) {\n      var styles = {};\n      var docNode = this.state.getDocNode();\n      this.extractStyle(styles, docNode, from, to);\n      return styles;\n    };\n\n    RenderService.prototype.extractStyle = function (styles, node, from, to) {\n      var _this = this;\n\n      if (from > to) {\n        return;\n      }\n\n      var componentStyles = styles[node.getComponentId()] = styles[node.getComponentId()] || {};\n      var partStyles = componentStyles[node.getPartId()] = componentStyles[node.getPartId()] || [];\n      partStyles.push(node.getStyle());\n      var position = 0;\n\n      if (node.isLeaf()) {\n        return;\n      }\n\n      node.getChildren().forEach(function (child) {\n        var childSize = child.getSize();\n\n        if (0 <= to - position && from - position <= childSize) {\n          var childFrom = Math.max(0, Math.min(childSize, from - position));\n          var childTo = Math.max(0, Math.min(childSize, to - position));\n\n          _this.extractStyle(styles, child, childFrom, childTo);\n        }\n\n        position += childSize;\n      });\n    };\n\n    return RenderService;\n  }();\n\n  exports.RenderService = RenderService;\n});","define([\"require\", \"exports\", \"../event/emitter\", \"./tree-builder\"], function (require, exports, emitter_1, tree_builder_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var RenderState =\n  /** @class */\n  function () {\n    function RenderState(componentService, modelService) {\n      var _this = this;\n\n      this.componentService = componentService;\n      this.modelService = modelService;\n      this.didUpdateRenderStateEventEmitter = new emitter_1.EventEmitter();\n\n      this.handleDidUpdateModelStateEvent = function (event) {\n        var treeBuilder = new tree_builder_1.RenderTreeBuilder(_this.componentService);\n        var updatedNode = treeBuilder.buildTree(event.node);\n\n        var node = _this.docNode.findDescendant(event.node.getId());\n\n        if (!node) {\n          throw new Error(\"Render node \" + event.node.getId() + \" is not found.\");\n        }\n\n        node.onDidUpdate(updatedNode);\n\n        _this.didUpdateRenderStateEventEmitter.emit({\n          node: node\n        });\n      };\n\n      var docModelNode = modelService.getDocNode();\n      var treeBuilder = new tree_builder_1.RenderTreeBuilder(componentService);\n      this.docNode = treeBuilder.buildTree(docModelNode);\n      modelService.onDidUpdateModelState(this.handleDidUpdateModelStateEvent);\n    }\n\n    RenderState.prototype.onDidUpdateRenderState = function (listener) {\n      this.didUpdateRenderStateEventEmitter.on(listener);\n    };\n\n    RenderState.prototype.getDocNode = function () {\n      return this.docNode;\n    };\n\n    return RenderState;\n  }();\n\n  exports.RenderState = RenderState;\n});","define([\"require\", \"exports\"], function (require, exports) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var RenderTreeBuilder =\n  /** @class */\n  function () {\n    function RenderTreeBuilder(componentService) {\n      this.componentService = componentService;\n      this.ran = false;\n    }\n\n    RenderTreeBuilder.prototype.buildTree = function (modelNode) {\n      if (this.ran) {\n        throw new Error('Tree builder has already been run.');\n      }\n\n      this.rootModelNode = modelNode;\n\n      this._buildTree();\n\n      this.ran = true;\n      return this.rootRenderNode;\n    };\n\n    RenderTreeBuilder.prototype._buildTree = function () {\n      this.rootRenderNode = this.buildNode(this.rootModelNode);\n      this.ran = true;\n    };\n\n    RenderTreeBuilder.prototype.buildNode = function (modelNode) {\n      var _this = this;\n\n      var component = this.componentService.getComponent(modelNode.getComponentId());\n\n      if (!component) {\n        throw new Error(\"Component \" + modelNode.getComponentId() + \" is not registered.\");\n      }\n\n      var renderNode = component.buildRenderNode(modelNode);\n\n      if (!renderNode) {\n        throw new Error(\"Could not build render node from model node \" + modelNode.getId() + \".\");\n      }\n\n      if (!modelNode.isLeaf() && !renderNode.isLeaf()) {\n        modelNode.getChildren().forEach(function (childModelNode) {\n          renderNode.appendChild(_this.buildNode(childModelNode));\n        });\n      }\n\n      return renderNode;\n    };\n\n    return RenderTreeBuilder;\n  }();\n\n  exports.RenderTreeBuilder = RenderTreeBuilder;\n});","define([\"require\", \"exports\"], function (require, exports) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var ServiceRegistry =\n  /** @class */\n  function () {\n    function ServiceRegistry() {\n      this.services = {};\n    }\n\n    ServiceRegistry.prototype.registerService = function (key, service) {\n      this.services[key] = service;\n    };\n\n    ServiceRegistry.prototype.getService = function (key) {\n      var service = this.services[key];\n\n      if (!service) {\n        throw new Error(\"Service \" + key + \" is not registered.\");\n      }\n\n      return service;\n    };\n\n    return ServiceRegistry;\n  }();\n\n  exports.ServiceRegistry = ServiceRegistry;\n});","define([\"require\", \"exports\", \"./state\"], function (require, exports, state_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var StateService =\n  /** @class */\n  function () {\n    function StateService(cursorService, initialMarkup) {\n      this.state = new state_1.State(cursorService, initialMarkup);\n    }\n\n    StateService.prototype.onDidApplyTransformation = function (listener) {\n      this.state.onDidApplyTransformation(listener);\n    };\n\n    StateService.prototype.onDidUpdateState = function (listener) {\n      this.state.onDidUpdateState(listener);\n    };\n\n    StateService.prototype.getTokens = function () {\n      return this.state.getTokens();\n    };\n\n    StateService.prototype.applyTransformations = function (transformations) {\n      var appliedTransformations = this.state.applyTransformations(transformations);\n      return appliedTransformations;\n    };\n\n    StateService.prototype.applyTransformation = function (transformation) {\n      var appliedTransformation = this.state.applyTransformations([transformation])[0];\n      return appliedTransformation;\n    };\n\n    StateService.prototype.unapplyTransformations = function (appliedTransformations) {\n      this.state.unapplyTransformations(appliedTransformations);\n    };\n\n    StateService.prototype.unapplyTransformation = function (appliedTransformation) {\n      return this.state.unapplyTransformations([appliedTransformation]);\n    };\n\n    return StateService;\n  }();\n\n  exports.StateService = StateService;\n});","define([\"require\", \"exports\", \"../event/emitter\", \"./tokenizer\", \"./transformation\"], function (require, exports, emitter_1, tokenizer_1, transformation_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var State =\n  /** @class */\n  function () {\n    function State(cursorService, initialMarkup) {\n      this.cursorService = cursorService;\n      this.didApplyTransformationEventEmitter = new emitter_1.EventEmitter();\n      this.didUpdateStateEventEmitter = new emitter_1.EventEmitter();\n      var tokenizer = new tokenizer_1.Tokenizer();\n      this.tokens = tokenizer.tokenize(initialMarkup);\n    }\n\n    State.prototype.onDidApplyTransformation = function (listener) {\n      this.didApplyTransformationEventEmitter.on(listener);\n    };\n\n    State.prototype.onDidUpdateState = function (listener) {\n      this.didUpdateStateEventEmitter.on(listener);\n    };\n\n    State.prototype.getTokens = function () {\n      return this.tokens;\n    };\n\n    State.prototype.applyTransformations = function (transformations) {\n      var _this = this;\n\n      this.assertInitialized();\n      var appliedTransformations = transformations.map(function (transformation) {\n        var appliedTransformation = _this.applyTransformation(transformation);\n\n        _this.didApplyTransformationEventEmitter.emit({\n          transformation: transformation,\n          appliedTransformation: appliedTransformation\n        });\n\n        return appliedTransformation;\n      });\n      var transformedRange = this.findTransformedRange(appliedTransformations);\n\n      if (transformedRange) {\n        this.didUpdateStateEventEmitter.emit({\n          beforeFrom: transformedRange.beforeFrom,\n          beforeTo: transformedRange.beforeTo,\n          afterFrom: transformedRange.afterFrom,\n          afterTo: transformedRange.afterTo\n        });\n      }\n\n      return appliedTransformations;\n    };\n\n    State.prototype.unapplyTransformations = function (appliedTransformations) {\n      var _this = this;\n\n      this.assertInitialized();\n      appliedTransformations.slice().reverse().forEach(function (appliedTransformation) {\n        return _this.unapplyTransformation(appliedTransformation);\n      });\n      var transformedRange = this.findTransformedRange(appliedTransformations);\n\n      if (transformedRange) {\n        this.didUpdateStateEventEmitter.emit({\n          beforeFrom: transformedRange.beforeFrom,\n          beforeTo: transformedRange.beforeTo,\n          afterFrom: transformedRange.afterFrom,\n          afterTo: transformedRange.afterTo\n        });\n      }\n    };\n\n    State.prototype.applyTransformation = function (transformation) {\n      var _this = this;\n\n      var cursorState = this.cursorService.getCursorState();\n      var appliedTransformation = new transformation_1.AppliedTransformation(transformation, cursorState.anchor, cursorState.head, cursorState.leftLock);\n      var operations = transformation.getOperations();\n      var offsetAdjustments = [];\n      operations.forEach(function (unadjustedOperation) {\n        var _a;\n\n        var operation = unadjustedOperation.adjustOffset(offsetAdjustments);\n\n        if (operation instanceof transformation_1.InsertOperation) {\n          (_a = _this.tokens).splice.apply(_a, [operation.getAt(), 0].concat(operation.getTokens()));\n\n          var appliedOperation = new transformation_1.AppliedInsertOperation(operation.getAt(), operation.getTokens());\n          appliedTransformation.addOperation(appliedOperation);\n        } else if (operation instanceof transformation_1.DeleteOperation) {\n          var deletedTokens = _this.tokens.splice(operation.getFrom(), operation.getTo() - operation.getFrom());\n\n          var appliedOperation = new transformation_1.AppliedDeleteOperation(operation.getFrom(), deletedTokens);\n          appliedTransformation.addOperation(appliedOperation);\n        } else {\n          throw new Error('Unknown transformation operation encountered.');\n        }\n\n        offsetAdjustments.push(operation.getOffsetAdjustment());\n      });\n      var cursorAnchor = transformation.getCursorAnchor();\n      var cursorHead = transformation.getCursorHead();\n      this.cursorService.setCursorState({\n        anchor: cursorAnchor === null ? cursorState.anchor : cursorAnchor,\n        head: cursorHead === null ? cursorState.head : cursorHead,\n        leftLock: transformation.getCursorLockLeft()\n      });\n      return appliedTransformation;\n    };\n\n    State.prototype.unapplyTransformation = function (appliedTransformation) {\n      var _this = this;\n\n      appliedTransformation.getOperations().slice().reverse().forEach(function (appliedOperation) {\n        var _a;\n\n        if (appliedOperation instanceof transformation_1.AppliedInsertOperation) {\n          _this.tokens.splice(appliedOperation.getAt(), appliedOperation.getTokens().length);\n        } else if (appliedOperation instanceof transformation_1.AppliedDeleteOperation) {\n          (_a = _this.tokens).splice.apply(_a, [appliedOperation.getAt(), 0].concat(appliedOperation.getTokens()));\n        } else {\n          throw new Error('Unknown applied transformation operation encountered.');\n        }\n      });\n      this.cursorService.setCursorState({\n        anchor: appliedTransformation.getOriginalCursorAnchor(),\n        head: appliedTransformation.getOriginalCursorHead(),\n        leftLock: appliedTransformation.getOriginalCursorLockLeft()\n      });\n    };\n\n    State.prototype.findTransformedRange = function (appliedTransformations) {\n      var beforeFrom = undefined;\n      var beforeTo = undefined;\n      var afterFrom = undefined;\n      var afterTo = undefined;\n      appliedTransformations.forEach(function (appliedTransformation) {\n        var transformedRange = appliedTransformation.getTransformedRange();\n\n        if (transformedRange) {\n          if (beforeFrom === undefined || transformedRange.beforeFrom < beforeFrom) {\n            beforeFrom = transformedRange.beforeFrom;\n          }\n\n          if (beforeTo === undefined || transformedRange.beforeTo > beforeTo) {\n            beforeTo = transformedRange.beforeTo;\n          }\n\n          if (afterFrom === undefined || transformedRange.afterFrom < afterFrom) {\n            afterFrom = transformedRange.afterFrom;\n          }\n\n          if (afterTo === undefined || transformedRange.afterTo < afterTo) {\n            afterTo = transformedRange.afterTo;\n          }\n        }\n      });\n\n      if (beforeFrom === undefined) {\n        return undefined;\n      }\n\n      return {\n        beforeFrom: beforeFrom,\n        beforeTo: beforeTo,\n        afterFrom: afterFrom,\n        afterTo: afterTo\n      };\n    };\n\n    State.prototype.assertInitialized = function () {\n      if (!this.tokens) {\n        throw new Error('State is not initialized.');\n      }\n    };\n\n    return State;\n  }();\n\n  exports.State = State;\n});","var __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\ndefine([\"require\", \"exports\", \"./token\"], function (require, exports, token_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  var TokenizerState;\n\n  (function (TokenizerState) {\n    TokenizerState[TokenizerState[\"NewToken\"] = 0] = \"NewToken\";\n    TokenizerState[TokenizerState[\"NewTag\"] = 1] = \"NewTag\";\n    TokenizerState[TokenizerState[\"Tag\"] = 2] = \"Tag\";\n    TokenizerState[TokenizerState[\"TagAttributes\"] = 3] = \"TagAttributes\";\n    TokenizerState[TokenizerState[\"TagAttributesString\"] = 4] = \"TagAttributesString\";\n    TokenizerState[TokenizerState[\"TagAttributesStringEscape\"] = 5] = \"TagAttributesStringEscape\";\n    TokenizerState[TokenizerState[\"CloseTag\"] = 6] = \"CloseTag\";\n  })(TokenizerState || (TokenizerState = {}));\n\n  var Tokenizer =\n  /** @class */\n  function () {\n    function Tokenizer() {\n      this.tokenizerState = TokenizerState.NewToken;\n      this.tagBuffer = '';\n      this.attributesBuffer = '';\n      this.ran = false;\n    }\n\n    Tokenizer.prototype.tokenize = function (markup) {\n      if (this.ran) {\n        throw new Error('Tokenizer has already been run.');\n      }\n\n      this.markup = markup;\n\n      this._tokenize();\n\n      this.ran = true;\n      return this.tokens;\n    };\n\n    Tokenizer.prototype._tokenize = function () {\n      this.tokens = [];\n      var markup = this.markup;\n      var char;\n\n      for (var n = 0, nn = markup.length; n < nn; n++) {\n        char = markup[n];\n\n        switch (this.tokenizerState) {\n          case TokenizerState.NewToken:\n            if (/</.test(char)) {\n              this.newTag(char);\n              break;\n            }\n\n            this.appendChar(char);\n            break;\n\n          case TokenizerState.NewTag:\n            if (/A-Z/.test(char)) {\n              this.appendCharToTag(char);\n              break;\n            }\n\n            if (/\\//.test(char)) {\n              this.closeTag(char);\n              break;\n            }\n\n          case TokenizerState.Tag:\n            if (/[A-Za-z]/.test(char)) {\n              this.appendCharToTag(char);\n              break;\n            }\n\n            if (/{/.test(char)) {\n              this.newAttributes(char);\n              break;\n            }\n\n          case TokenizerState.TagAttributes:\n            if (/\"/.test(char)) {\n              this.newAttributesString(char);\n              break;\n            }\n\n            if (/>/.test(char)) {\n              this.endTag(char);\n              break;\n            }\n\n            this.appendCharToAttributes(char);\n            break;\n\n          case TokenizerState.TagAttributesString:\n            if (/\"/.test(char)) {\n              this.endAttributesString(char);\n              break;\n            }\n\n            if (/\\\\/.test(char)) {\n              this.escapeNextAttributesStringChar(char);\n              break;\n            }\n\n            this.appendCharToAttributes(char);\n            break;\n\n          case TokenizerState.TagAttributesStringEscape:\n            this.appendCharToAttributes(char);\n            break;\n\n          case TokenizerState.CloseTag:\n            if (/>/.test(char)) {\n              this.endCloseTag(char);\n              break;\n            }\n\n          default:\n            throw new Error(\"Unexpected character \" + char + \" at offset \" + n + \".\");\n        }\n      }\n    };\n\n    Tokenizer.prototype.newTag = function (char) {\n      this.tokenizerState = TokenizerState.NewTag;\n    };\n\n    Tokenizer.prototype.appendChar = function (char) {\n      this.tokens.push(char);\n    };\n\n    Tokenizer.prototype.appendCharToTag = function (char) {\n      this.tagBuffer += char;\n      this.tokenizerState = TokenizerState.Tag;\n    };\n\n    Tokenizer.prototype.newAttributes = function (char) {\n      this.attributesBuffer += char;\n      this.tokenizerState = TokenizerState.TagAttributes;\n    };\n\n    Tokenizer.prototype.appendCharToAttributes = function (char) {\n      this.attributesBuffer += char;\n\n      if (this.tokenizerState === TokenizerState.TagAttributesStringEscape) {\n        this.tokenizerState = TokenizerState.TagAttributesString;\n      }\n    };\n\n    Tokenizer.prototype.newAttributesString = function (char) {\n      this.attributesBuffer += char;\n      this.tokenizerState = TokenizerState.TagAttributesString;\n    };\n\n    Tokenizer.prototype.endTag = function (char) {\n      var _a;\n\n      var id;\n      var attributes;\n\n      try {\n        _a = JSON.parse(this.attributesBuffer), (id = _a.id, _a), attributes = __rest(_a, [\"id\"]);\n      } catch (error) {\n        throw new Error(\"Invalid attributes JSON: \" + this.attributesBuffer + \".\");\n      }\n\n      if (!id) {\n        throw new Error(\"Missing id in attributes JSON: \" + this.attributesBuffer + \".\");\n      }\n\n      if (!this.tagBuffer) {\n        throw new Error('Open tag type cannot be empty.');\n      }\n\n      if (this.tagBuffer === 'Doc') {\n        id = 'doc';\n      }\n\n      var _b = this.tagBuffer.split('.', 1),\n          componentId = _b[0],\n          partId = _b[1];\n\n      if (!partId) {\n        partId = componentId;\n      }\n\n      this.tokens.push({\n        componentId: componentId,\n        partId: partId,\n        id: id,\n        attributes: attributes\n      });\n      this.attributesBuffer = '';\n      this.tagBuffer = '';\n      this.tokenizerState = TokenizerState.NewToken;\n    };\n\n    Tokenizer.prototype.endAttributesString = function (char) {\n      this.attributesBuffer += char;\n      this.tokenizerState = TokenizerState.TagAttributes;\n    };\n\n    Tokenizer.prototype.escapeNextAttributesStringChar = function (char) {\n      this.tokenizerState = TokenizerState.TagAttributesStringEscape;\n    };\n\n    Tokenizer.prototype.closeTag = function (char) {\n      this.tokenizerState = TokenizerState.CloseTag;\n    };\n\n    Tokenizer.prototype.endCloseTag = function (char) {\n      this.tokens.push(token_1.CLOSE_TOKEN);\n      this.tokenizerState = TokenizerState.NewToken;\n    };\n\n    return Tokenizer;\n  }();\n\n  exports.Tokenizer = Tokenizer;\n});","define([\"require\", \"exports\", \"./cursor\", \"./dom-controller\", \"./state\"], function (require, exports, cursor_1, dom_controller_1, state_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var ViewService =\n  /** @class */\n  function () {\n    function ViewService(instanceId, componentService, layoutService, cursorService, renderService, commandService) {\n      this.state = new state_1.ViewState(instanceId, componentService, layoutService);\n      this.domController = new dom_controller_1.DOMController(instanceId, commandService, this);\n      this.cursor = new cursor_1.CursorView(instanceId, cursorService, renderService, layoutService, this);\n    }\n\n    ViewService.prototype.onDidUpdateViewState = function (listener) {\n      this.state.onDidUpdateViewState(listener);\n    };\n\n    ViewService.prototype.onDidFocus = function (listener) {\n      this.domController.onDidFocus(listener);\n    };\n\n    ViewService.prototype.onDidBlur = function (listener) {\n      this.domController.onDidBlur(listener);\n    };\n\n    ViewService.prototype.onDidPressKey = function (listener) {\n      this.domController.onDidPressKey(listener);\n    };\n\n    ViewService.prototype.getDocNode = function () {\n      return this.state.getDocNode();\n    };\n\n    ViewService.prototype.isFocused = function () {\n      return this.domController.isFocused();\n    };\n\n    ViewService.prototype.attach = function (domContainer) {\n      this.state.attach(domContainer);\n      this.cursor.attach();\n      this.domController.attach();\n    };\n\n    ViewService.prototype.requestFocus = function () {\n      this.domController.requestFocus();\n    };\n\n    ViewService.prototype.requestBlur = function () {\n      this.domController.requestBlur();\n    };\n\n    return ViewService;\n  }();\n\n  exports.ViewService = ViewService;\n});","define([\"require\", \"exports\"], function (require, exports) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  var CURSOR_HUE = 213;\n\n  var CursorView =\n  /** @class */\n  function () {\n    function CursorView(instanceId, cursorService, renderService, layoutService, viewService) {\n      var _this = this;\n\n      this.instanceId = instanceId;\n      this.cursorService = cursorService;\n      this.renderService = renderService;\n      this.layoutService = layoutService;\n      this.viewService = viewService;\n      this.blinkInterval = null;\n      this.blinkState = true;\n      this.domSelections = [];\n      this.attached = false;\n\n      this.handleDidUpdateCursorState = function () {\n        _this.updateView();\n      };\n\n      this.handleDidUpdateViewState = function () {\n        _this.updateView();\n      };\n\n      this.handleDidFocus = function () {\n        _this.updateView();\n      };\n\n      this.handleDidBlur = function () {\n        _this.updateView();\n      };\n\n      this.domCaret = document.createElement('div');\n      this.domCaret.className = 'tw--cursor--caret';\n      this.domCaret.setAttribute('data-tw-instance', this.instanceId);\n      this.domCaret.style.position = 'absolute';\n      this.domCaret.style.userSelect = 'none';\n      this.domCaret.style.pointerEvents = 'none';\n      this.domCaret.style.width = '2px';\n      this.domCaret.style.marginLeft = '-1px';\n      cursorService.onDidUpdateCursor(this.handleDidUpdateCursorState);\n      viewService.onDidUpdateViewState(this.handleDidUpdateViewState);\n      viewService.onDidFocus(this.handleDidFocus);\n      viewService.onDidBlur(this.handleDidBlur);\n    }\n\n    CursorView.prototype.attach = function () {\n      if (this.attached) {\n        throw new Error('Already attached to the DOM.');\n      }\n\n      this.attached = true;\n      this.updateView();\n    };\n\n    CursorView.prototype.updateView = function () {\n      var _this = this;\n\n      if (!this.attached) {\n        return;\n      }\n\n      this.clearDOMSelections();\n      var cursorState = this.cursorService.getCursorState();\n      var anchor = this.boundCursorPosition(cursorState.anchor);\n      var head = this.boundCursorPosition(cursorState.head);\n      var from = Math.min(anchor, head);\n      var to = Math.max(anchor, head);\n      var pageRects = this.layoutService.resolvePageRects(from, to);\n      var pageViewNodes = this.viewService.getDocNode().getChildren();\n      var focused = this.viewService.isFocused();\n      var firstPageOffset = -1;\n      var firstLayoutRectOffset = -1;\n      var lastPageOffset = -1;\n      var lastLayoutRectOffset = -1;\n      pageRects.forEach(function (rects, pageOffset) {\n        var pageDOMContentContainer = pageViewNodes[pageOffset].getDOMContentContainer();\n        rects.forEach(function (rect, rectOffset) {\n          if (firstPageOffset < 0) {\n            firstPageOffset = pageOffset;\n            firstLayoutRectOffset = rectOffset;\n          }\n\n          lastPageOffset = pageOffset;\n          lastLayoutRectOffset = rectOffset;\n\n          if (rect.width === 0) {\n            return;\n          }\n\n          var domSelection = _this.buildDOMSelection(rect);\n\n          if (focused) {\n            domSelection.style.background = \"hsla(\" + CURSOR_HUE + \", 100%, 50%, 0.2)\";\n          } else {\n            domSelection.style.background = 'hsla(0, 0%, 0%, 0.08)';\n          }\n\n          pageDOMContentContainer.appendChild(domSelection);\n\n          _this.domSelections.push(domSelection);\n        });\n      });\n      var headPageOffset;\n      var headLeft;\n      var headTop;\n      var headHeight;\n\n      if (head < anchor) {\n        headPageOffset = firstPageOffset;\n        var rect = pageRects[firstPageOffset][firstLayoutRectOffset];\n        headLeft = rect.left;\n        headTop = rect.top;\n        headHeight = rect.height;\n      } else {\n        headPageOffset = lastPageOffset;\n        var rect = pageRects[lastPageOffset][lastLayoutRectOffset];\n        headLeft = rect.left + rect.width;\n        headTop = rect.top;\n        headHeight = rect.height;\n      }\n\n      if (head === anchor) {\n        this.domCaret.style.display = 'block';\n        this.domCaret.style.top = headTop + \"px\";\n        this.domCaret.style.left = headLeft + \"px\";\n        this.domCaret.style.height = headHeight + \"px\";\n\n        if (focused) {\n          this.domCaret.style.background = \"hsla(\" + CURSOR_HUE + \", 100%, 50%, 1)\";\n        } else {\n          this.domCaret.style.background = 'hsla(0, 0%, 0%, 0.5)';\n        }\n\n        var pageDOMContentContainer = pageViewNodes[headPageOffset].getDOMContentContainer();\n\n        if (this.domCaret.parentElement && this.domCaret.parentElement !== pageDOMContentContainer) {\n          this.domCaret.parentElement.removeChild(this.domCaret);\n        }\n\n        if (!this.domCaret.parentElement) {\n          pageDOMContentContainer.appendChild(this.domCaret);\n        }\n\n        this.blinkStop();\n\n        if (focused) {\n          this.blinkStart();\n        }\n      } else {\n        this.domCaret.style.display = 'none';\n        this.blinkStop();\n      }\n    };\n\n    CursorView.prototype.blinkStart = function () {\n      var _this = this;\n\n      if (this.blinkInterval !== null) {\n        return;\n      }\n\n      this.blinkState = true;\n      this.blinkInterval = window.setInterval(function () {\n        _this.blinkState = !_this.blinkState;\n\n        _this.updateDOMBlink();\n      }, 500);\n    };\n\n    CursorView.prototype.blinkStop = function () {\n      if (this.blinkInterval === null) {\n        return;\n      }\n\n      this.domCaret.style.visibility = 'visible';\n      clearInterval(this.blinkInterval);\n      this.blinkInterval = null;\n    };\n\n    CursorView.prototype.updateDOMBlink = function () {\n      if (this.blinkState) {\n        this.domCaret.style.visibility = 'visible';\n      } else {\n        this.domCaret.style.visibility = 'hidden';\n      }\n    };\n\n    CursorView.prototype.clearDOMSelections = function () {\n      this.domSelections.forEach(function (domSelection) {\n        if (domSelection.parentElement) {\n          domSelection.parentElement.removeChild(domSelection);\n        }\n      });\n      this.domSelections = [];\n    };\n\n    CursorView.prototype.buildDOMSelection = function (layoutRect) {\n      var domSelection = document.createElement('div');\n      domSelection.className = 'tw--cursor--selection';\n      domSelection.setAttribute('data-tw-instance', this.instanceId);\n      domSelection.style.position = 'absolute';\n      domSelection.style.top = layoutRect.top - layoutRect.paddingTop + \"px\";\n      domSelection.style.left = layoutRect.left + \"px\";\n      domSelection.style.width = layoutRect.paddingLeft + layoutRect.width + layoutRect.paddingRight + \"px\";\n      domSelection.style.height = layoutRect.paddingTop + layoutRect.height + layoutRect.paddingBottom + \"px\";\n      domSelection.style.userSelect = 'none';\n      domSelection.style.pointerEvents = 'none';\n      return domSelection;\n    };\n\n    CursorView.prototype.boundCursorPosition = function (offset) {\n      return Math.min(Math.max(offset, 0), this.renderService.getDocNode().getSize() - 1);\n    };\n\n    return CursorView;\n  }();\n\n  exports.CursorView = CursorView;\n});","define([\"require\", \"exports\", \"./clipboard-observer\", \"./focus-observer\", \"./keyboard-observer\", \"./pointer-observer\"], function (require, exports, clipboard_observer_1, focus_observer_1, keyboard_observer_1, pointer_observer_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var DOMController =\n  /** @class */\n  function () {\n    function DOMController(instanceId, commandService, viewService) {\n      var _this = this;\n\n      this.instanceId = instanceId;\n      this.commandService = commandService;\n      this.viewService = viewService;\n      this.focused = false;\n      this.composing = false;\n      this.mouseDown = false;\n\n      this.handleDidInsert = function (event) {\n        _this.commandService.executeCommand('tw.state.insert', event.tokens);\n      };\n\n      this.handleCompositionDidStart = function (event) {\n        _this.composing = true;\n      };\n\n      this.handleCompositionDidEnd = function (event) {\n        _this.composing = false;\n      };\n\n      this.handlePointerDidDown = function (event) {\n        if (event.inPage && !_this.focused) {\n          _this.commandService.executeCommand('tw.view.focus');\n        } else if (!event.inPage && _this.focused) {\n          _this.commandService.executeCommand('tw.view.blur');\n        }\n\n        if (event.inPage) {\n          _this.commandService.executeCommand('tw.cursor.move', event.offset);\n        }\n      };\n\n      this.handlePointerDidMove = function (event) {\n        if (event.pointerDown) {\n          _this.commandService.executeCommand('tw.cursor.moveHead', event.offset);\n        }\n      };\n\n      this.handleDidFocus = function (event) {\n        _this.focused = true;\n      };\n\n      this.handleDidBlur = function (event) {\n        _this.focused = false;\n      };\n\n      this.$iframe = this.createIframe();\n      this.$contentEditable = this.createContentEditable();\n      this.keyboardObserver = new keyboard_observer_1.KeyboardObserver(this.$contentEditable);\n      this.keyboardObserver.onDidInsert(this.handleDidInsert);\n      this.keyboardObserver.onCompositionDidStart(this.handleCompositionDidStart);\n      this.keyboardObserver.onCompositionDidEnd(this.handleCompositionDidEnd);\n      this.pointerObserver = new pointer_observer_1.PointerObserver(instanceId, viewService);\n      this.pointerObserver.onPointerDidDown(this.handlePointerDidDown);\n      this.pointerObserver.onPointerDidMove(this.handlePointerDidMove);\n      this.focusObserver = new focus_observer_1.FocusObserver(this.$contentEditable);\n      this.focusObserver.onDidFocus(this.handleDidFocus);\n      this.focusObserver.onDidBlur(this.handleDidBlur);\n      this.clipboardObserver = new clipboard_observer_1.ClipboardObserver(this.$contentEditable);\n    }\n\n    DOMController.prototype.onDidPressKey = function (listener) {\n      this.keyboardObserver.onDidPressKey(listener);\n    };\n\n    DOMController.prototype.onDidFocus = function (listener) {\n      this.focusObserver.onDidFocus(listener);\n    };\n\n    DOMController.prototype.onDidBlur = function (listener) {\n      this.focusObserver.onDidBlur(listener);\n    };\n\n    DOMController.prototype.attach = function () {\n      var _this = this;\n\n      document.body.appendChild(this.$iframe);\n      setTimeout(function () {\n        _this.$iframe.contentDocument.body.appendChild(_this.$contentEditable);\n      });\n    };\n\n    DOMController.prototype.requestFocus = function () {\n      this.$contentEditable.focus();\n    };\n\n    DOMController.prototype.requestBlur = function () {\n      this.$contentEditable.blur();\n    };\n\n    DOMController.prototype.isFocused = function () {\n      return this.focused;\n    };\n\n    DOMController.prototype.isComposing = function () {\n      return this.composing;\n    };\n\n    DOMController.prototype.createIframe = function () {\n      var $iframe = document.createElement('iframe');\n      $iframe.scrolling = 'no';\n      $iframe.src = 'about:blank';\n      $iframe.style.width = '0';\n      $iframe.style.height = '0';\n      $iframe.style.border = 'none';\n      $iframe.style.position = 'fixed';\n      $iframe.style.zIndex = '-1';\n      $iframe.style.opacity = '0';\n      $iframe.style.overflow = 'hidden';\n      $iframe.style.left = '0';\n      $iframe.style.top = '0';\n      return $iframe;\n    };\n\n    DOMController.prototype.createContentEditable = function () {\n      var $contentEditable = document.createElement('div');\n      $contentEditable.contentEditable = 'true';\n      $contentEditable.style.whiteSpace = 'pre';\n      return $contentEditable;\n    };\n\n    return DOMController;\n  }();\n\n  exports.DOMController = DOMController;\n});","define([\"require\", \"exports\", \"../event/emitter\"], function (require, exports, emitter_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var ClipboardObserver =\n  /** @class */\n  function () {\n    function ClipboardObserver($contentEditable) {\n      var _this = this;\n\n      this.$contentEditable = $contentEditable;\n      this.didCopyEventEmitter = new emitter_1.EventEmitter();\n      this.didPasteEventEmitter = new emitter_1.EventEmitter();\n\n      this.handleCopy = function (event) {\n        event.preventDefault();\n\n        _this.didCopyEventEmitter.emit({});\n      };\n\n      this.handlePaste = function (event) {\n        event.preventDefault();\n        var data = event.clipboardData;\n\n        if (!data) {\n          return;\n        }\n\n        _this.didCopyEventEmitter.emit({\n          data: data\n        });\n      };\n\n      $contentEditable.addEventListener('copy', this.handleCopy);\n      $contentEditable.addEventListener('paste', this.handlePaste);\n    }\n\n    ClipboardObserver.prototype.onDidCopy = function (listener) {\n      this.didCopyEventEmitter.on(listener);\n    };\n\n    ClipboardObserver.prototype.onDidPaste = function (listener) {\n      this.didPasteEventEmitter.on(listener);\n    };\n\n    return ClipboardObserver;\n  }();\n\n  exports.ClipboardObserver = ClipboardObserver;\n});","define([\"require\", \"exports\", \"../event/emitter\"], function (require, exports, emitter_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var FocusObserver =\n  /** @class */\n  function () {\n    function FocusObserver($contentEditable) {\n      var _this = this;\n\n      this.$contentEditable = $contentEditable;\n      this.didFocusEventEmitter = new emitter_1.EventEmitter();\n      this.didBlurEventEmitter = new emitter_1.EventEmitter();\n\n      this.handleFocus = function () {\n        _this.didFocusEventEmitter.emit({});\n      };\n\n      this.handleBlur = function () {\n        _this.didBlurEventEmitter.emit({});\n      };\n\n      $contentEditable.addEventListener('focus', this.handleFocus);\n      $contentEditable.addEventListener('blur', this.handleBlur);\n    }\n\n    FocusObserver.prototype.onDidFocus = function (listener) {\n      this.didFocusEventEmitter.on(listener);\n    };\n\n    FocusObserver.prototype.onDidBlur = function (listener) {\n      this.didBlurEventEmitter.on(listener);\n    };\n\n    return FocusObserver;\n  }();\n\n  exports.FocusObserver = FocusObserver;\n});","define([\"require\", \"exports\", \"../event/emitter\", \"../util/platform\"], function (require, exports, emitter_1, platform_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var KeyboardObserver =\n  /** @class */\n  function () {\n    function KeyboardObserver($contentEditable) {\n      var _this = this;\n\n      this.$contentEditable = $contentEditable;\n      this.composing = false;\n      this.didInsertEventEmitter = new emitter_1.EventEmitter();\n      this.didPressKeyEventEmitter = new emitter_1.EventEmitter();\n      this.compositionDidStartEventEmitter = new emitter_1.EventEmitter();\n      this.compositionDidEndEventEmitter = new emitter_1.EventEmitter();\n      this.keyInterpreter = new KeyInterpreter();\n\n      this.handleDidMutate = function () {\n        setTimeout(function () {\n          if (_this.composing) {\n            return;\n          }\n\n          var tokens = _this.parse();\n\n          _this.$contentEditable.innerHTML = '';\n\n          if (tokens.length === 0) {\n            return;\n          }\n\n          _this.didInsertEventEmitter.emit({\n            tokens: tokens\n          });\n        });\n      };\n\n      this.handleKeyDown = function (event) {\n        var key = _this.keyInterpreter.interpretFromKeyboardEvent(event);\n\n        if (!key) {\n          return;\n        }\n\n        if (key.includes('cmd+') || key.includes('win+') || key.includes('meta+') || key.includes('ctrl+') || key.includes('alt+')) {\n          event.preventDefault();\n        }\n\n        _this.didPressKeyEventEmitter.emit({\n          key: key\n        });\n      };\n\n      this.handleCompositionStart = function () {\n        _this.composing = true;\n      };\n\n      this.handleCompositionEnd = function () {\n        _this.composing = true;\n      };\n\n      this.mutationObserver = new MutationObserver(this.handleDidMutate);\n      $contentEditable.addEventListener('keydown', this.handleKeyDown);\n      $contentEditable.addEventListener('compositionstart', this.handleCompositionStart);\n      $contentEditable.addEventListener('compositionend', this.handleCompositionEnd);\n      this.mutationObserver.observe($contentEditable, {\n        subtree: true,\n        characterData: true,\n        childList: true\n      });\n    }\n\n    KeyboardObserver.prototype.onDidInsert = function (listener) {\n      this.didInsertEventEmitter.on(listener);\n    };\n\n    KeyboardObserver.prototype.onDidPressKey = function (listener) {\n      this.didPressKeyEventEmitter.on(listener);\n    };\n\n    KeyboardObserver.prototype.onCompositionDidStart = function (listener) {\n      this.compositionDidStartEventEmitter.on(listener);\n    };\n\n    KeyboardObserver.prototype.onCompositionDidEnd = function (listener) {\n      this.compositionDidEndEventEmitter.on(listener);\n    };\n\n    KeyboardObserver.prototype.parse = function () {\n      var _this = this;\n\n      var tokens = [];\n      this.$contentEditable.childNodes.forEach(function (child) {\n        tokens.push.apply(tokens, _this.parseNode(child));\n      });\n      return tokens;\n    };\n\n    KeyboardObserver.prototype.parseNode = function (node) {\n      var _this = this;\n\n      if (node.nodeValue) {\n        return node.nodeValue.split('');\n      }\n\n      var tokens = [];\n      node.childNodes.forEach(function (childNode) {\n        tokens.push.apply(tokens, _this.parseNode(childNode));\n      });\n      return tokens;\n    };\n\n    return KeyboardObserver;\n  }();\n\n  exports.KeyboardObserver = KeyboardObserver;\n\n  var KeyInterpreter =\n  /** @class */\n  function () {\n    function KeyInterpreter() {}\n\n    KeyInterpreter.prototype.interpretFromKeyboardEvent = function (event) {\n      var key;\n\n      switch (event.key) {\n        case 'Control':\n        case 'Shift':\n        case 'Alt':\n        case 'Meta':\n          return undefined;\n\n        case 'ArrowLeft':\n          key = 'left';\n          break;\n\n        case 'ArrowRight':\n          key = 'right';\n          break;\n\n        case 'ArrowUp':\n          key = 'up';\n          break;\n\n        case 'ArrowDown':\n          key = 'down';\n          break;\n\n        default:\n          key = event.key.toLowerCase();\n      }\n\n      if (event.metaKey) {\n        switch (platform_1.detectPlatform()) {\n          case 'macOS':\n            key = \"cmd+\" + key;\n            break;\n\n          case 'Windows':\n            key = \"win+\" + key;\n            break;\n\n          case 'Linux':\n          default:\n            key = \"meta+\" + key;\n        }\n      }\n\n      if (event.altKey) {\n        key = \"alt+\" + key;\n      }\n\n      if (event.shiftKey) {\n        key = \"shift+\" + key;\n      }\n\n      if (event.ctrlKey) {\n        key = \"ctrl+\" + key;\n      }\n\n      return key;\n    };\n\n    return KeyInterpreter;\n  }();\n});","define([\"require\", \"exports\", \"../event/emitter\"], function (require, exports, emitter_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var PointerObserver =\n  /** @class */\n  function () {\n    function PointerObserver(instanceId, viewService) {\n      var _this = this;\n\n      this.instanceId = instanceId;\n      this.viewService = viewService;\n      this.pointerDown = false;\n      this.pointerDidDownEventEmitter = new emitter_1.EventEmitter();\n      this.pointerDidMoveEventEmitter = new emitter_1.EventEmitter();\n      this.pointerDidUpEventEmitter = new emitter_1.EventEmitter();\n\n      this.handleMouseDown = function (event) {\n        var offset = _this.resolveCoordinates(event.clientX, event.clientY);\n\n        if (offset === null) {\n          return;\n        } // Bypass browser selection\n\n\n        event.preventDefault();\n        _this.pointerDown = true;\n\n        _this.pointerDidDownEventEmitter.emit({\n          inPage: _this.isDOMElementInPage(event.target),\n          offset: offset\n        });\n      };\n\n      this.handleMouseMove = function (event) {\n        var offset = _this.resolveCoordinates(event.clientX, event.clientY);\n\n        if (offset === null) {\n          return;\n        }\n\n        _this.pointerDidMoveEventEmitter.emit({\n          inPage: _this.isDOMElementInPage(event.target),\n          pointerDown: _this.pointerDown,\n          offset: offset\n        });\n      };\n\n      this.handleMouseUp = function () {\n        _this.pointerDown = false;\n\n        _this.pointerDidUpEventEmitter.emit({});\n      };\n\n      window.addEventListener('mousedown', this.handleMouseDown);\n      window.addEventListener('mousemove', this.handleMouseMove);\n      window.addEventListener('mouseup', this.handleMouseUp);\n    }\n\n    PointerObserver.prototype.onPointerDidDown = function (listener) {\n      this.pointerDidDownEventEmitter.on(listener);\n    };\n\n    PointerObserver.prototype.onPointerDidMove = function (listener) {\n      this.pointerDidMoveEventEmitter.on(listener);\n    };\n\n    PointerObserver.prototype.onPointerDidUp = function (listener) {\n      this.pointerDidUpEventEmitter.on(listener);\n    };\n\n    PointerObserver.prototype.resolveCoordinates = function (x, y) {\n      var pageViewNodes = this.viewService.getDocNode().getChildren();\n      var cumulatedOffset = 0;\n\n      for (var _i = 0, pageViewNodes_1 = pageViewNodes; _i < pageViewNodes_1.length; _i++) {\n        var pageViewNode = pageViewNodes_1[_i];\n        var pageLayoutNode = pageViewNode.getLayoutNode();\n        var pageDOMContainer = pageViewNode.getDOMContainer();\n        var pageBoundingClientRect = pageDOMContainer.getBoundingClientRect();\n\n        if (pageBoundingClientRect.left <= x && pageBoundingClientRect.right >= x && pageBoundingClientRect.top <= y && pageBoundingClientRect.bottom >= y) {\n          var pageX = x - pageBoundingClientRect.left;\n          var pageY = y - pageBoundingClientRect.top;\n          return cumulatedOffset + pageLayoutNode.convertCoordinatesToOffset(pageX, pageY);\n        }\n\n        cumulatedOffset += pageLayoutNode.getSize();\n      }\n\n      return null;\n    };\n\n    PointerObserver.prototype.isDOMElementInPage = function (domElement) {\n      var current = domElement;\n\n      while (current) {\n        var instanceId = current.getAttribute('data-tw-instance');\n        var componentId = current.getAttribute('data-tw-component');\n        var partId = current.getAttribute('data-tw-part');\n\n        if (instanceId === this.instanceId && componentId === 'page' && partId === 'page') {\n          return true;\n        }\n\n        current = current.parentElement;\n      }\n\n      return false;\n    };\n\n    return PointerObserver;\n  }();\n\n  exports.PointerObserver = PointerObserver;\n});","define([\"require\", \"exports\", \"../event/emitter\", \"./tree-builder\"], function (require, exports, emitter_1, tree_builder_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var ViewState =\n  /** @class */\n  function () {\n    function ViewState(instanceId, componentService, layoutService) {\n      var _this = this;\n\n      this.instanceId = instanceId;\n      this.componentService = componentService;\n      this.layoutService = layoutService;\n      this.attached = false;\n      this.didUpdateViewStateEventEmitter = new emitter_1.EventEmitter();\n\n      this.handleDidUpdateLayoutStateEvent = function (event) {\n        var treeBuilder = new tree_builder_1.ViewTreeBuilder(_this.instanceId, _this.componentService);\n        var updatedNode = treeBuilder.buildTree(event.node);\n\n        var node = _this.docNode.findDescendant(event.node.getId());\n\n        if (!node) {\n          throw new Error(\"Layout node \" + event.node.getId() + \" is not found.\");\n        }\n\n        node.onDidUpdate(updatedNode);\n\n        _this.didUpdateViewStateEventEmitter.emit({\n          node: node\n        });\n      };\n\n      var docLayoutNode = layoutService.getDocNode();\n      var treeBuilder = new tree_builder_1.ViewTreeBuilder(this.instanceId, componentService);\n      this.docNode = treeBuilder.buildTree(docLayoutNode);\n      layoutService.onDidUpdateLayoutState(this.handleDidUpdateLayoutStateEvent);\n    }\n\n    ViewState.prototype.onDidUpdateViewState = function (listener) {\n      this.didUpdateViewStateEventEmitter.on(listener);\n    };\n\n    ViewState.prototype.getDocNode = function () {\n      return this.docNode;\n    };\n\n    ViewState.prototype.attach = function (domContainer) {\n      if (this.attached) {\n        throw new Error('View is already attached to the DOM.');\n      }\n\n      this.docNode.attach(domContainer);\n      this.attached = true;\n    };\n\n    return ViewState;\n  }();\n\n  exports.ViewState = ViewState;\n});","define([\"require\", \"exports\"], function (require, exports) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var ViewTreeBuilder =\n  /** @class */\n  function () {\n    function ViewTreeBuilder(instanceId, componentService) {\n      this.instanceId = instanceId;\n      this.componentService = componentService;\n      this.ran = false;\n    }\n\n    ViewTreeBuilder.prototype.buildTree = function (layoutNode) {\n      if (this.ran) {\n        throw new Error('Tree builder has already been run.');\n      }\n\n      this.rootLayoutNode = layoutNode;\n\n      this._buildTree();\n\n      this.ran = true;\n      return this.rootViewNode;\n    };\n\n    ViewTreeBuilder.prototype._buildTree = function () {\n      this.rootViewNode = this.buildNode(this.rootLayoutNode);\n      this.ran = true;\n    };\n\n    ViewTreeBuilder.prototype.buildNode = function (layoutNode) {\n      var _this = this;\n\n      var component = this.componentService.getComponent(layoutNode.getComponentId());\n\n      if (!component) {\n        throw new Error(\"Component \" + layoutNode.getComponentId() + \" is not registered.\");\n      }\n\n      var viewNode = component.buildViewNode(layoutNode);\n\n      if (!viewNode) {\n        throw new Error(\"Could not build view node from layout node \" + layoutNode.getId() + \".\");\n      }\n\n      if (!viewNode.isLeaf() && !viewNode.isLeaf()) {\n        var childViewNodes = layoutNode.getChildren().map(function (childLayoutNode) {\n          return _this.buildNode(childLayoutNode);\n        });\n        childViewNodes.forEach(function (childViewNode) {\n          return viewNode.appendChild(childViewNode);\n        });\n      }\n\n      this.applyMetadataToDOMContainer(viewNode);\n      viewNode.onLayoutDidUpdate();\n      return viewNode;\n    };\n\n    ViewTreeBuilder.prototype.applyMetadataToDOMContainer = function (viewNode) {\n      var domContainer = viewNode.getDOMContainer();\n      var componentId = viewNode.getComponentId();\n      var partId = viewNode.getPartId();\n      var id = viewNode.getId();\n      domContainer.className = \"tw--\" + componentId + \"--\" + partId;\n      domContainer.setAttribute('data-tw-instance', this.instanceId);\n      domContainer.setAttribute('data-tw-component', componentId);\n      domContainer.setAttribute('data-tw-part', partId);\n      domContainer.setAttribute('data-tw-id', id);\n    };\n\n    return ViewTreeBuilder;\n  }();\n\n  exports.ViewTreeBuilder = ViewTreeBuilder;\n});","import { Taleweaver } from '@taleweaver/core';\nimport { ITextStyle } from '@taleweaver/core/dist/tw/component/components/text';\nimport React, { useEffect, useMemo, useState } from 'react';\nimport styled from 'styled-components';\n\nconst Wrapper = styled.div`\n    position: sticky;\n    top: 0;\n    padding: 3px 24px;\n    background: white;\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.09);\n    z-index: 10;\n`;\n\nconst Container = styled.div`\n    display: flex;\n    margin: 0 auto;\n    width: 816px;\n`;\n\nconst Group = styled.div`\n    flex: 0 0 auto;\n    display: flex;\n    border-radius: 4px;\n    padding: 0 6px;\n    position: relative;\n    &::before {\n        content: '';\n        position: absolute;\n        top: 9px;\n        bottom: 9px;\n        left: 0;\n        width: 1px;\n        background: rgba(0, 0, 0, 0.15);\n    }\n    &:last-child {\n        &::after {\n            content: '';\n            position: absolute;\n            top: 9px;\n            bottom: 9px;\n            right: 0;\n            width: 1px;\n            background: rgba(0, 0, 0, 0.15);\n        }\n    }\n`;\n\ninterface ItemProps {\n    disabled: boolean;\n    active: boolean;\n}\n\nconst Item = styled.button<ItemProps>`\n    flex: 0 0 auto;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 36px;\n    height: 36px;\n    font-size: 18px;\n    position: relative;\n    color: rgba(0, 0, 0, 0.85);\n    background: transparent;\n    padding: 0;\n    border: none;\n    border-radius: 3px;\n    outline: none;\n    &:after {\n        content: '';\n        position: absolute;\n        bottom: 0;\n        left: 3px;\n        right: 3px;\n        height: 3px;\n    }\n    &:hover,\n    &:focus {\n        background: rgba(0, 0, 0, 0.04);\n    }\n    ${({ disabled }) =>\n        disabled &&\n        `\n        opacity: 0.45;\n        &:hover,\n        &:focus {\n            background: transparent;\n        }\n    `}\n    ${({ active }) =>\n        active &&\n        `\n        color: rgba(255, 0, 0, 1);\n        &:after {\n            background: rgba(255, 0, 0, 1);\n        }\n    `}\n`;\n\ninterface SelectItemProps {\n    disabled: boolean;\n    width: number;\n}\n\nconst SelectItem = styled.select<SelectItemProps>`\n    -webkit-appearance: none;\n    border: none;\n    font-size: 12px;\n    font-weight: 500;\n    width: ${({ width }) => width}px;\n    background: white;\n    border-radius: 3px;\n    padding: 0 9px;\n    outline: none;\n    position: relative;\n    &:hover,\n    &:focus {\n        background: rgba(0, 0, 0, 0.04);\n    }\n    option {\n        color: rgba(0, 0, 0, 0.85);\n    }\n    ${({ disabled }) =>\n        disabled &&\n        `\n        opacity: 0.45;\n        &:hover,\n        &:focus {\n            background: transparent;\n        }\n    `}\n`;\n\ninterface ItemColorLineProps {\n    color: string;\n}\n\nconst ItemColorLine = styled.div<ItemColorLineProps>`\n    position: absolute;\n    bottom: 8px;\n    left: 9px;\n    right: 9px;\n    height: 3px;\n    background: ${({ color }) => color};\n`;\n\ninterface Props {\n    taleweaver: Taleweaver | null;\n}\n\nfunction getTextStyles(taleweaver: Taleweaver): ITextStyle[] {\n    const renderService = taleweaver.getServiceRegistry().getService('render');\n    const cursorService = taleweaver.getServiceRegistry().getService('cursor');\n    const cursorState = cursorService.getCursorState();\n    const styles = renderService.getStylesBetween(\n        Math.min(cursorState.anchor, cursorState.head),\n        Math.max(cursorState.anchor, cursorState.head),\n    );\n    if (!styles.text) {\n        return [];\n    }\n    if (!styles.text.text) {\n        return [];\n    }\n    return styles.text.text as ITextStyle[];\n}\n\nexport default function ToolBar({ taleweaver }: Props) {\n    const [textStyles, setTextStyles] = useState<ITextStyle[]>([]);\n    const updateTextStyle = useMemo(\n        () => (taleweaver: Taleweaver) => {\n            setTextStyles(getTextStyles(taleweaver));\n        },\n        [],\n    );\n    useEffect(() => {\n        if (!taleweaver) {\n            return;\n        }\n        const cursorService = taleweaver.getServiceRegistry().getService('cursor');\n        const renderService = taleweaver.getServiceRegistry().getService('render');\n        cursorService.onDidUpdateCursor(event => updateTextStyle(taleweaver));\n        renderService.onDidUpdateRenderState(event => updateTextStyle(taleweaver));\n        updateTextStyle(taleweaver);\n    }, [taleweaver]);\n    const font = new Set(textStyles.map(s => s.font)).size === 1 ? textStyles[0].font : null;\n    const size = new Set(textStyles.map(s => s.size)).size === 1 ? textStyles[0].size : null;\n    const bold = new Set(textStyles.map(s => s.weight > 400)).size === 1 ? textStyles[0].weight > 400 : false;\n    const italic = new Set(textStyles.map(s => s.italic)).size === 1 ? textStyles[0].italic : false;\n    const underline = new Set(textStyles.map(s => s.underline)).size === 1 ? textStyles[0].underline : false;\n    const strikethrough =\n        new Set(textStyles.map(s => s.strikethrough)).size === 1 ? textStyles[0].strikethrough : false;\n    const color = new Set(textStyles.map(s => s.color)).size === 1 ? textStyles[0].color : null;\n    return (\n        <Wrapper>\n            <Container>\n                <Group>\n                    <SelectItem width={120} value={'Normal'} disabled={false} onChange={event => null}>\n                        <option value=\"\" style={{ display: 'none' }}></option>\n                        <option value=\"Normal\">Normal text</option>\n                        <option value=\"Title\">Title</option>\n                        <option value=\"Subtitle\">Subtitle</option>\n                        <option value=\"Heading 1\">Heading 1</option>\n                        <option value=\"Heading 2\">Heading 2</option>\n                        <option value=\"Heading 3\">Heading 3</option>\n                    </SelectItem>\n                </Group>\n                <Group>\n                    <SelectItem width={120} value={font || ''} disabled={font === null} onChange={event => null}>\n                        <option value=\"\" style={{ display: 'none' }}></option>\n                        <option value=\"sans-serif\">sans-serif</option>\n                    </SelectItem>\n                </Group>\n                <Group>\n                    <SelectItem\n                        width={60}\n                        value={size ? size.toString() : ''}\n                        disabled={size === null}\n                        onChange={event => null}\n                    >\n                        <option value=\"\" style={{ display: 'hidden' }} />\n                        <option value=\"10\">10</option>\n                        <option value=\"12\">12</option>\n                        <option value=\"14\">14</option>\n                        <option value=\"16\">16</option>\n                        <option value=\"18\">18</option>\n                        <option value=\"24\">24</option>\n                        <option value=\"30\">30</option>\n                        <option value=\"36\">36</option>\n                        <option value=\"42\">42</option>\n                    </SelectItem>\n                </Group>\n                <Group>\n                    <Item active={bold} disabled={false} onClick={() => null}>\n                        <i className=\"mdi mdi-format-bold\" />\n                    </Item>\n                    <Item active={italic} disabled={false} onClick={() => null}>\n                        <i className=\"mdi mdi-format-italic\" />\n                    </Item>\n                    <Item active={underline} disabled={false} onClick={() => null}>\n                        <i className=\"mdi mdi-format-underline\" />\n                    </Item>\n                    <Item active={strikethrough} disabled={false} onClick={() => null}>\n                        <i className=\"mdi mdi-format-strikethrough-variant\" />\n                    </Item>\n                    <Item active={false} disabled={color === null} onClick={() => null}>\n                        <i className=\"mdi mdi-format-color-text\" style={{ position: 'relative', top: '-2px' }} />\n                        <ItemColorLine color={color || 'transparent'} />\n                    </Item>\n                </Group>\n            </Container>\n        </Wrapper>\n    );\n}\n","import { IConfig, Taleweaver } from '@taleweaver/core';\nimport React, { useEffect, useRef, useState } from 'react';\nimport styled from 'styled-components';\nimport ToolBar from './ToolBar';\n\nconst Wrapper = styled.div``;\n\nconst EditorWrapper = styled.div`\n    text-align: center;\n    .tw--doc--doc {\n        font-family: 'Source Sans Pro', sans-serif;\n        display: inline-block;\n        padding-bottom: 9px;\n        counter-reset: page-counter;\n    }\n    .tw--page--page {\n        background: rgba(255, 255, 255, 1);\n        margin: 9px auto 0;\n        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.15);\n        position: relative;\n        &::after {\n            counter-increment: page-counter;\n            content: 'Page ' counter(page-counter) '';\n            position: absolute;\n            top: 12px;\n            left: 50%;\n            transform: translateX(-50%);\n            font-size: 10px;\n            font-family: 'Quicksand', sans-serif;\n            font-weight: 500;\n            color: rgba(0, 0, 0, 0.45);\n            pointer-events: none;\n        }\n        *::selection {\n            background: rgba(255, 255, 255, 1);\n        }\n    }\n`;\n\ninterface IProps {\n    initialMarkup: string;\n    config?: IConfig['tw.core'];\n}\n\nexport default function Editor({ initialMarkup, config }: IProps) {\n    const domRef = useRef<HTMLDivElement>(null);\n    const [taleweaver, setTaleweaver] = useState<Taleweaver | null>(null);\n    useEffect(() => {\n        const mergedConfig: IConfig = {};\n        if (config) {\n            mergedConfig['tw.core'] = config;\n        }\n        setTaleweaver(new Taleweaver(initialMarkup, mergedConfig));\n    }, []);\n    useEffect(() => {\n        if (taleweaver && domRef.current) {\n            taleweaver.attach(domRef.current);\n        }\n    }, [taleweaver, domRef.current]);\n    return (\n        <Wrapper key={1}>\n            <ToolBar taleweaver={taleweaver} />\n            <EditorWrapper ref={domRef} />\n        </Wrapper>\n    );\n}\n","import Taleweaver from \"./Editor\";\n\nexport default Taleweaver;\n","export default `\n<doc {\"id\": \"doc\"}>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\", \"weight\": 700}>\n      Once upon a time there lived in a certain village a little country girl, the prettiest creature was ever seen. Her mother was excessively fond of her; and her grandmother doted on her still more. This good woman had made for her a little red riding-hood; which became the girl so extremely well that everybody called her Little Red Riding-Hood.\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\", \"italic\": true}>\n      One day her mother, having made some custards, said to her:\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\", \"color\": \"rgba(255, 0, 0, 1)\"}>\n      \"Go, my dear, and see how thy grandmamma does, for I hear she has been very ill; carry her a custard, and this little pot of butter.\"\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\", \"size\": 24}>\n      Little Red Riding-Hood set out immediately to go to her grandmother, who lived in another village.\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\", \"strikethrough\": true, \"underline\": true}>\n      As she was going through the wood, she met with Gaffer Wolf, who had a very great mind to eat her up, but he dared not, because of some faggot-makers hard by in the forest. He asked her whither she was going. The poor child, who did not know that it was dangerous to stay and hear a wolf talk, said to him:\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      \"I am going to see my grandmamma and carry her a custard and a little pot of butter from my mamma.\"\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      \"Does she live far off?\" said the Wolf.\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      \"Oh! ay,\" answered Little Red Riding-Hood; \"it is beyond that mill you see there, at the first house in the village.\"\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      \"Well,\" said the Wolf, \"and I'll go and see her too. I'll go this way and you go that, and we shall see who will be there soonest.\"\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      The Wolf began to run as fast as he could, taking the nearest way, and the little girl went by that farthest about, diverting herself in gathering nuts, running after butterflies, and making nosegays of such little flowers as she met with. The Wolf was not long before he got to the old woman's house. He knocked at the door--tap, tap.\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      \"Who's there?\"\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      \"Your grandchild, Little Red Riding-Hood,\" replied the Wolf, counterfeiting her voice; \"who has brought you a custard and a little pot of butter sent you by mamma.\"\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      The good grandmother, who was in bed, because she was somewhat ill, cried out\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      \"Pull the bobbin, and the latch will go up.\"\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      The Wolf pulled the bobbin, and the door opened, and then presently he fell upon the good woman and ate her up in a moment, for it was above three days that he had not touched a bit. He then shut the door and went into the grandmother's bed, expecting Little Red Riding- Hood, who came some time afterward and knocked at the door--tap, tap.\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      \"Who's there?\"\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      Little Red Riding-Hood, hearing the big voice of the Wolf, was at first afraid; but believing her grandmother had got a cold and was hoarse, answered:\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      \" 'Tis your grandchild, Little Red Riding-Hood, who has brought you a custard and a little pot of butter mamma sends you.\"\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      The Wolf cried out to her, softening his voice as much as he could:\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      \"Pull the bobbin, and the latch will go up.\"\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      Little Red Riding-Hood pulled the bobbin, and the door opened.\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      The Wolf, seeing her come in, said to her, hiding himself under the bed-clothes:\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      \"Put the custard and the little pot of butter upon the stool, and come and lie down with me.\"\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      Little Red Riding-Hood undressed herself and went into bed, where, being greatly amazed to see how her grandmother looked in her night-clothes, she said to her:\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      \"Grandmamma, what great arms you have got!\"\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      \"That is the better to hug thee, my dear.\"\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      \"Grandmamma, what great legs you have got!\"\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      \"That is to run the better, my child.\"\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      \"Grandmamma, what great ears you have got!\"\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      \"That is to hear the better, my child.\"\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      \"Grandmamma, what great eyes you have got!\"\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      \"It is to see the better, my child.\"\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      \"Grandmamma, what great teeth you have got!\"\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      \"That is to eat thee up.\"\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      And, saying these words, this wicked wolf fell upon Little Red Riding-Hood, and ate her all up.\n    </>\n  </>\n</>\n`\n    .split('\\n')\n    .map(line => line.trim())\n    .join('')\n    .replace(\n        /{{id}}/g,\n        () =>\n            `${Math.random()\n                .toString(36)\n                .substring(2)}`,\n    );\n","import React from 'react';\nimport styled from 'styled-components';\nimport './App.css';\nimport Taleweaver from './Editor';\nimport sampleMarkup from './samples/littleRedRidingHood';\n\nconst Wrapper = styled.div``;\n\nconst Hero = styled.div`\n    text-align: center;\n    padding: 90px 60px 30px;\n`;\n\nconst BrandWrapper = styled.div``;\n\nconst Brand = styled.span`\n    color: rgba(0, 0, 0, 0.65);\n    font-size: 42px;\n    letter-spacing: 0.02em;\n    padding-bottom: 10px;\n    border-bottom: 2px solid rgba(0, 0, 0, 0.65);\n`;\n\nconst Tagline = styled.h1`\n    font-size: 30px;\n    font-weight: 500;\n    color: rgba(0, 0, 0, 0.85);\n    margin: 90px 0 0;\n`;\n\nconst SupportingTagline = styled.h2`\n    font-size: 20px;\n    font-weight: 400;\n    color: rgba(0, 0, 0, 0.85);\n    margin: 30px 0 0;\n`;\n\nconst Links = styled.div`\n    margin-top: 90px;\n`;\n\nconst Link = styled.a`\n    display: inline-block;\n    padding: 15px 60px;\n    outline: none;\n    color: rgba(0, 0, 0, 0.85);\n    text-decoration: none;\n    font-size: 20px;\n    background: transparent;\n    border-radius: 3px;\n    border: 1px solid rgba(0, 0, 0, 0.15);\n    &:hover {\n        color: rgba(0, 0, 0, 1);\n        background: rgba(0, 0, 0, 0.04);\n        border-color: rgba(0, 0, 0, 0.25);\n    }\n`;\n\nconst DemoHintWrapper = styled.div`\n    text-align: center;\n    margin-top: 90px;\n`;\n\nconst DemoHint = styled.span`\n    text-transform: uppercase;\n    font-weight: 500;\n    font-size: 14px;\n    color: rgba(0, 0, 0, 0.65);\n    border-top: 1px solid rgba(0, 0, 0, 0.45);\n    padding-top: 10px;\n    cursor: default;\n`;\n\nclass App extends React.Component {\n    render() {\n        return (\n            <Wrapper>\n                <Hero>\n                    <BrandWrapper>\n                        <Brand>Taleweaver</Brand>\n                    </BrandWrapper>\n                    <Tagline>Word processing in your browser.</Tagline>\n                    <SupportingTagline>\n                        Open source editor delivering true word processing experience.\n                    </SupportingTagline>\n                    <Links>\n                        <Link href=\"https://github.com/yuzhenmi/taleweaver\">GitHub</Link>\n                    </Links>\n                    <DemoHintWrapper>\n                        <DemoHint>&darr; Check it out &darr;</DemoHint>\n                    </DemoHintWrapper>\n                </Hero>\n                <Taleweaver\n                    initialMarkup={sampleMarkup}\n                    config={{\n                        page: {\n                            width: 816,\n                            height: 1056,\n                            paddingTop: 60,\n                            paddingBottom: 60,\n                            paddingLeft: 60,\n                            paddingRight: 60,\n                        },\n                    }}\n                />\n            </Wrapper>\n        );\n    }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}