{"version":3,"sources":["../../../packages/core/dist/tw/util/id.js","../../../packages/core/dist/tw/command/handlers/clipboard.js","../../../packages/core/dist/tw/util/dom.js","../../../packages/core/dist/tw/transform/transformation.js","../../../packages/core/dist/tw/command/handlers/cursor.js","../../../packages/core/dist/tw/command/handlers/history.js","../../../packages/core/dist/tw/model/change/change.js","../../../packages/core/dist/tw/model/change/mutator.js","../../../packages/core/dist/tw/model/change/inserter.js","../../../packages/core/dist/tw/model/change/mapping.js","../../../packages/core/dist/tw/model/fragment.js","../../../packages/core/dist/tw/model/change/remover.js","../../../packages/core/dist/tw/model/change/replace.js","../../../packages/core/dist/tw/command/handlers/state.js","../../../packages/core/dist/tw/command/handlers/view.js","../../../packages/core/dist/tw/event/emitter.js","../../../packages/core/dist/tw/command/registry.js","../../../packages/core/dist/tw/command/service.js","../../../packages/core/dist/tw/tree/node-list.js","../../../packages/core/dist/tw/tree/node.js","../../../packages/core/dist/tw/tree/position.js","../../../packages/core/dist/tw/model/node.js","../../../packages/core/dist/tw/model/root.js","../../../packages/core/dist/tw/render/node.js","../../../packages/core/dist/tw/render/doc.js","../../../packages/core/dist/tw/view/node.js","../../../packages/core/dist/tw/view/doc.js","../../../packages/core/dist/tw/component/component.js","../../../packages/core/dist/tw/component/components/doc.js","../../../packages/core/dist/tw/model/branch.js","../../../packages/core/dist/tw/render/block.js","../../../packages/core/dist/tw/render/text.js","../../../packages/core/dist/tw/text/service.js","../../../packages/core/dist/tw/view/block.js","../../../packages/core/dist/tw/view/text.js","../../../packages/core/dist/tw/component/components/paragraph.js","../../../packages/core/dist/tw/model/leaf.js","../../../packages/core/dist/tw/component/components/text.js","../../../packages/core/dist/tw/view/line.js","../../../packages/core/dist/tw/component/line-component.js","../../../packages/core/dist/tw/component/components/line.js","../../../packages/core/dist/tw/view/page.js","../../../packages/core/dist/tw/component/page-component.js","../../../packages/core/dist/tw/component/components/page.js","../../../packages/core/dist/tw/component/registry.js","../../../packages/core/dist/tw/component/service.js","../../../packages/core/dist/tw/config/service.js","../../../packages/core/dist/tw/cursor/state.js","../../../packages/core/dist/tw/cursor/service.js","../../../packages/core/dist/tw/dom/service.js","../../../packages/core/dist/tw/history/action.js","../../../packages/core/dist/tw/history/state.js","../../../packages/core/dist/tw/history/service.js","../../../packages/core/dist/tw/util/platform.js","../../../packages/core/dist/tw/key-binding/service.js","../../../packages/core/dist/tw/layout/node.js","../../../packages/core/dist/tw/layout/atom.js","../../../packages/core/dist/tw/layout/block.js","../../../packages/core/dist/tw/layout/doc.js","../../../packages/core/dist/tw/layout/line.js","../../../packages/core/dist/tw/layout/page.js","../../../packages/core/dist/tw/layout/text.js","../../../packages/core/dist/tw/layout/word.js","../../../packages/core/dist/tw/layout/engine.js","../../../packages/core/dist/tw/layout/state.js","../../../packages/core/dist/tw/layout/service.js","../../../packages/core/dist/tw/model/state.js","../../../packages/core/dist/tw/model/service.js","../../../packages/core/dist/tw/render/state.js","../../../packages/core/dist/tw/render/service.js","../../../packages/core/dist/tw/service/registry.js","../../../packages/core/dist/tw/transform/service.js","../../../packages/core/dist/tw/view/cursor.js","../../../packages/core/dist/tw/view/clipboard-observer.js","../../../packages/core/dist/tw/view/focus-observer.js","../../../packages/core/dist/tw/view/keyboard-observer.js","../../../packages/core/dist/tw/view/pointer-observer.js","../../../packages/core/dist/tw/view/dom-controller.js","../../../packages/core/dist/tw/view/state.js","../../../packages/core/dist/tw/view/service.js","../../../packages/core/dist/tw/taleweaver.js","Editor/ToolBar.tsx","Editor/Editor.tsx","Editor/index.ts","samples/littleRedRidingHood.ts","App.tsx","serviceWorker.ts","index.tsx"],"names":["Buffer","__webpack_require__","d","__webpack_exports__","generateId","crypto__WEBPACK_IMPORTED_MODULE_0__","crypto__WEBPACK_IMPORTED_MODULE_0___default","n","bytes16","Uint8Array","from","String","fromCharCode","apply","Array","a","randomFillSync","toString","iframe","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","__generator","body","f","y","t","g","_","label","sent","trys","ops","verb","throw","return","Symbol","iterator","this","v","op","TypeError","call","pop","length","push","window","document","createElement","scrolling","src","style","width","height","border","position","zIndex","opacity","overflow","left","top","createHiddenIframe","appendChild","copy","serviceRegistry","cursorService","renderService","modelService","_a","anchor","head","html","iframeDocument","_b","getService","hasCursor","getCursor","toDOM","convertOffsetToModelOffset","Math","min","max","outerHTML","contentDocument","innerHTML","execCommand","paste","__spreadArrays","s","i","il","arguments","r","k","j","jl","Transformation","changes","modelCursorHead","modelCursorAnchor","keepLeftLock","prototype","layoutService","originalCursorModelAnchor","undefined","originalCursorModelHead","changeResults","applyChanges","cursorHead","convertModelOffsetToOffset","boundModelOffset","cursorAnchor","setCursor","resolvePosition","atLineDepth","line","node","lineOffset","offset","setLeftLock","resolveBoundingBoxes","boundingBoxes","reverseChanges","reverseMappings","changeResult","reduce","reverseChange","reverseMapping","map","mapping","reverse","TransformationResult","mappings","_loop_1","change","shift","applyChange","c","getRootSize","transformation","reverseTransformation","cursor_awaiter","cursor_generator","atPreviousLine","leftLock","previousLine","previousCrossParentSibling","size","convertCoordinatesToOffset","atNextLine","nextLine","nextCrossParentSibling","atPreviousWord","atReverseDepth","word","wordOffset","previousWord","atNextWord","whitespaceSize","nextWord","atLineStart","atLineEnd","cursor_move","transformService","modelOffset","applyTransformation","cursor_moveBackward","newModelOffset","newOffset","cursor_moveForward","cursor_moveBackwardByLine","cursor_moveForwardByLine","cursor_moveBackwardByWord","cursor_moveForwardByWord","cursor_moveToLineStart","cursor_moveToLineEnd","cursor_moveToDocStart","cursor_moveToDocEnd","getDocSize","cursor_moveHead","modelAnchor","newModelHead","cursor_moveHeadBackward","cursor_moveHeadForward","cursor_moveHeadBackwardByLine","newHead","cursor_moveHeadForwardByLine","cursor_moveHeadBackwardByWord","cursor_moveHeadForwardByWord","cursor_moveHeadToLineStart","cursor_moveHeadToLineEnd","cursor_moveHeadToDocStart","cursor_moveHeadToDocEnd","cursor_selectAll","newModelAnchor","cursor_selectWord","newAnchor","cursor_selectBlock","block","blockOffset","atBlockDepth","history_awaiter","history_generator","undo","redo","ModelChange","mutator_spreadArrays","Mutator","ran","inProgress","run","Error","joinNodes","node1","node2","leaf","replace","text","children","slice","parent","filter","child","__extends","_extendStatics","b","Object","setPrototypeOf","__proto__","p","hasOwnProperty","__","constructor","create","inserter_Inserter","_super","Inserter","root","fragments","componentService","_this","internalInsertedSize","depth","current","index","defineProperty","get","enumerable","configurable","state","handleText","handleSplit","handleLeave","handleNode","handleEnd","currentFragment","content","insertedSize","splitNode","joinNodeWithNextSibling","joinNodeWithPreviousSibling","component","getComponent","componentId","buildModelNode","partId","id","substring","attributes","util_id","atDepth","indexOf","nextSibling","canJoin","previousSibling","Mapping","oldSize","newSize","mapRender","Fragment","isArray","contentType","remover_extends","remover_Remover","Remover","to","removedFragments","nodeFrom","nodeTo","updateCurrentNode","handleFullNode","handlePartialNode","handleForward","handleEnter","stepUp","removeFrom","nodesToRemove","removeToOffset","at","removeTo","recordRemovedNodes","stepDown","removedText","recordRemovedText","stepForward","parentNode","nodeOffset","childNode","nextNode","nodes","getOffsetToRoot","childNodeToJoin","firstChild","getOffsetToParent","replace_extends","replace_ReplaceChange","ReplaceChange","validateInput","validateFit","remover","inserter","ascending","descending","nn","fragment","fromPosition","state_awaiter","state_generator","state_insert","modelFrom","modelTo","state_deleteBackward","state_deleteForward","state_breakLine","view_awaiter","view_generator","view_focus","requestFocus","view_blur","requestBlur","EventEmitter","listeners","on","listener","dispose","splice","emit","event","forEach","CommandRegistry","commandsMap","Map","registerCommand","commandId","commandHandler","set","getCommandHandler","service_awaiter","service_generator","service_spreadArrays","service_CommandService","CommandService","configService","willExecuteCommandEventEmitter","didExecuteCommandEventEmitter","registry","_i","entries","getConfig","commands","onWillExecuteCommand","onDidExecuteCommand","executeCommand","args","NodeList","findIndex","callbackFn","initialValue","callbackfn","start","end","find","node_Node","Node","internalChildren","siblings","ownIndex","parentPreviousSibling","lastChild","parentNextSibling","findDescendant","Position","depths","reverseDepth","node_extends","node_spreadArrays","node_ModelNode","ModelNode","internalNeedRender","childDidUpdateDisposableMap","didUpdateEventEmitter","handleChildDidUpdate","internalText","onDidUpdate","internalSize","clearNeedRender","replacedContent","ModelPosition","cumulatedOffset","childSize","childPosition","m","root_extends","ModelRoot","render_node_extends","node_RenderNode","RenderNode","modelId","internalNeedLayout","pseudo","internalChildrenModelSize","modelSize","clearNeedLayout","RenderPosition","cumulatedSize","cumulatedModelSize","childModelSize","doc_extends","RenderDoc","view_node_extends","node_ViewNode","ViewNode","domContainer","renderId","layoutId","domService","view_doc_extends","ViewDoc","attached","component_Component","components_doc_extends","ModelDoc","$element","childFrom","childTo","$childElement","doc_RenderDoc","paddingTop","paddingBottom","paddingLeft","paddingRight","doc_ViewDoc","textAlign","cursor","userSelect","domContentContainer","setAttribute","DocComponent","buildRenderNode","pageConfig","page","buildViewNode","branch_extends","ModelBranch","block_extends","RenderBlock","text_extends","RenderText","DEFAULT_FONT","weight","family","letterSpacing","underline","italic","strikethrough","color","BREAKABLE_CHARS","TextService","$canvas","measure","font","fontWithDefault","applyDefaultFont","ctx","getContext","fixFontFamily","measurement","measureText","breakIntoWords","words","char","includes","fontConfigWithDefault","key","fontFamily","view_block_extends","ViewBlock","view_text_extends","ViewText","paragraph_extends","paragraph_spreadArrays","ModelParagraph","RenderParagraph","paragraph_RenderParagraphLineBreak","RenderParagraphLineBreak","paragraphModelId","type","ViewParagraph","lineHeight","ViewParagraphLineBreak","ParagraphComponent","leaf_extends","ModelLeaf","components_text_extends","ModelText","JSON","stringify","$component","innerText","text_RenderText","textService","text_ViewText","display","whiteSpace","fontSize","fontWeight","textDecoration","fontStyle","findOrCreateDOMContentContainer","getAttribute","TextComponent","line_extends","ViewLine","LineComponent","components_line_extends","line_ViewLine","line_LineComponent","page_extends","ViewPage","PageComponent","components_page_extends","page_ViewPage","marginLeft","marginRight","page_PageComponent","ComponentRegistry","componentsMap","registerComponent","registerPageComponent","pageComponent","registerLineComponent","lineComponent","getPageComponent","getLineComponent","service_ComponentService","ComponentService","components","Component","ConfigService","config","externalConfig","applyExternalConfig","coreConfig","__assign","assign","state_CursorState","CursorState","internalCursor","disable","assertCursor","service_CursorService","CursorService","DOMService","getWindow","getDocument","getBody","tagName","createContainer","container","createMutationObserver","callback","MutationObserver","HistoryAction","internalTransformationResults","beganAt","Date","now","internalEndedAt","recordTransformationResult","transformationResult","transformationResults","state_HistoryState","HistoryState","actions","handleDidApplyTransformation","some","tnResult","recordToNewAction","currentItem","maxCollapseDuration","endedAt","collapseThreshold","recordToLastAction","history","onDidApplyTransformation","action","consumeNextUndoableAction","results","consumeNextRedoableAction","service_HistoryService","HistoryService","detectPlatform","navigator","platform","startsWith","key_binding_service_spreadArrays","service_KeyBindingService","KeyBindingService","commandService","viewService","keyBindings","handleDidPressKey","keyBinding","preventDefault","originalKeyboardEvent","command","keyBindingsConfig","bindKeys","common","macos","windows","linux","onDidPressKey","binding","layout_node_extends","node_LayoutNode","LayoutNode","internalNeedView","paddingHorizontal","paddingVertical","clearNeedView","LayoutPosition","atom_extends","LayoutAtom","x","innerWidth","innerHeight","right","bottom","layout_block_extends","LayoutBlock","internalHeight","cumulatedHeight","childHeight","childResults","childFrom_1","childTo_1","childResult","boundingBox","layout_doc_extends","LayoutDoc","layout_line_extends","LayoutLine","internalContentWidth","contentWidth","cumulatedWidth","childWidth","lastWord","left1","left2","box","layout_page_extends","LayoutPage","internalContentHeight","contentHeight","contentX","contentY","layout_text_extends","LayoutText","internalWidth","internalTrimmedWidth","trimmedWidth","word_extends","LayoutWord","trimmedText","lastWidth","width_1","engine_LayoutEngine","LayoutEngine","updateDoc","doc","renderDoc","needLayout","pages","childrenMap","newChildren","updateBlock","buildDoc","reflowPages","blocks","renderBlock","lines","blocks_1","renderChild","updateText","updateAtom","buildBlock","reflowLines","texts","renderText","buildWord","buildText","atoms","renderAtom","buildAtom","newPages","reflowNeeded","currentHeight","nodeChildren","mm","nodeChild","unshift","newPage","newLines","currentWidth","newLine","state_LayoutState","LayoutState","didUpdateLayoutStateEventEmitter","engine","internalDoc","getDoc","onDidUpdateRenderState","handleDidUpdateRenderStateEvent","onDidUpdateLayoutState","update","service_LayoutService","LayoutService","state_ModelState","ModelState","service_ModelService","ModelService","getRoot","fromDOM","domNodes","onDidUpdateModelState","state_RenderState","RenderState","didUpdateRenderStateEventEmitter","modelRoot","updateNode","handleDidUpdateModelState","modelNode","needRender","modelChild","buildNode","service_RenderService","RenderService","getStylesBetween","styles","extractStyle","componentStyles","ServiceRegistry","services","registerService","service","service_TransformService","TransformService","didApplyTransformationEventEmitter","tn","CursorView","instanceId","blinkInterval","blinkState","domSelections","cursorConfig","caretColor","caretInactiveColor","selectionColor","selectionInactiveColor","domCaret","className","pointerEvents","onDidFocus","handleDidFocus","onDidBlur","handleDidBlur","attach","updateView","clearDOMSelections","headPageId","headLeft","headTop","headHeight","rect","docBoxResult","viewDoc","layoutDoc","focused","isFocused","firstPageId","firstBoxOffset","lastPageId","lastBoxOffset","pageBoxResult","pageOffset","boxOffset","domSelection","buildDOMSelection","background","pageDOMContentContainer","parentElement","removeChild","blinkStop","blinkStart","setInterval","updateDOMBlink","visibility","clearInterval","clipboard_observer_ClipboardObserver","ClipboardObserver","$contentEditable","didCopyEventEmitter","didPasteEventEmitter","handleCopy","handlePaste","data","clipboardData","addEventListener","onDidCopy","onDidPaste","focus_observer_FocusObserver","FocusObserver","didFocusEventEmitter","didBlurEventEmitter","handleFocus","handleBlur","keyboard_observer_KeyboardObserver","KeyboardObserver","composing","didInsertEventEmitter","didPressKeyEventEmitter","compositionDidStartEventEmitter","compositionDidEndEventEmitter","keyInterpreter","keyboard_observer_KeyInterpreter","handleDidMutate","setTimeout","handleKeyDown","interpretFromKeyboardEvent","handleCompositionStart","handleCompositionEnd","mutationObserver","observe","subtree","characterData","childList","onDidInsert","onCompositionDidStart","onCompositionDidEnd","KeyInterpreter","toLowerCase","metaKey","altKey","shiftKey","ctrlKey","pointer_observer_PointerObserver","PointerObserver","clickThreshold","consecutiveClickThreshold","lastPointerDown","lastClick","consecutiveClickCount","pointerDidDownEventEmitter","pointerDidMoveEventEmitter","pointerDidUpEventEmitter","pointerDidClickEventEmitter","handleMouseDown","resolveOffset","clientX","clientY","timestamp","consecutive","handleMouseMove","pointerDown","handleMouseUp","clicked","consecutiveCount","onPointerDidDown","onPointerDidMove","onPointerDidUp","onPointerDidClick","viewPage","layoutPage","pageBoundingClientRect","getBoundingClientRect","pageX","pageY","dom_controller_DOMController","DOMController","mouseDown","handleDidInsert","handleCompositionDidStart","handleCompositionDidEnd","handlePointerDidDown","handlePointerDidMove","handlePointerDidClick","getData","$container","$body","querySelector","modelNodes","console","log","createContentEditable","keyboardObserver","pointerObserver","focusObserver","clipboardObserver","focus","blur","isComposing","contentEditable","state_ViewState","ViewState","didUpdateViewStateEventEmitter","handleDidUpdateLayoutStateEvent","onDidUpdateViewState","reattachDoc","layoutNode","renderNode","needView","renderChildrenMap","layoutChild","buildPageNode","buildLineNode","join","applyMetadataToDOMContainer","viewNode","service_ViewService","ViewService","domController","taleweaver_Taleweaver","Taleweaver","buildBaseConfig","historyService","keyBindingService","getServiceRegistry","tw.clipboard.copy","tw.clipboard.paste","tw.cursor.move","tw.cursor.moveBackwardByLine","tw.cursor.moveForwardByLine","tw.cursor.moveBackward","tw.cursor.moveForward","tw.cursor.moveBackwardByWord","tw.cursor.moveForwardByWord","tw.cursor.moveToLineStart","tw.cursor.moveToLineEnd","tw.cursor.moveToDocStart","tw.cursor.moveToDocEnd","tw.cursor.moveHead","tw.cursor.moveHeadBackwardByLine","tw.cursor.moveHeadForwardByLine","tw.cursor.moveHeadBackward","tw.cursor.moveHeadForward","tw.cursor.moveHeadBackwardByWord","tw.cursor.moveHeadForwardByWord","tw.cursor.moveHeadToLineStart","tw.cursor.moveHeadToLineEnd","tw.cursor.moveHeadToDocStart","tw.cursor.moveHeadToDocEnd","tw.cursor.selectAll","tw.cursor.selectWord","tw.cursor.selectBlock","tw.history.undo","tw.history.redo","tw.state.insert","tw.state.deleteBackward","tw.state.deleteForward","tw.state.breakLine","tw.view.focus","tw.view.blur","paragraph","up","down","shift+left","shift+right","shift+up","shift+down","backspace","delete","enter","alt+left","alt+right","shift+alt+left","shift+alt+right","cmd+left","cmd+right","cmd+up","cmd+down","shift+cmd+left","shift+cmd+right","shift+cmd+up","shift+cmd+down","cmd+a","cmd+z","shift+cmd+z","ctrl+left","ctrl+right","ctrl+shift+left","ctrl+shift+right","home","ctrl+home","ctrl+end","shift+home","shift+end","ctrl+shift+home","ctrl+shift+end","ctrl+a","ctrl+z","ctrl+shift+z","Wrapper","styled","div","_templateObject","Container","_templateObject2","Group","_templateObject3","Item","button","_templateObject4","_ref","disabled","_ref2","active","SelectItem","select","_templateObject5","_ref3","_ref4","ItemColorLine","_templateObject6","_ref5","getTextStyles","taleweaver","_cursorService$getCur","getTextStylesByRange","ToolBar","_ref6","_useState","useState","_useState2","slicedToArray","textStyles","setTextStyles","updateTextStyle","useMemo","useEffect","Set","bold","react_default","onChange","onClick","Editor_templateObject","EditorWrapper","Editor_templateObject2","initialMarkup","domRef","useRef","setTaleweaver","mergedConfig","Editor_Wrapper","ref","littleRedRidingHood","split","trim","concat","random","App_templateObject","Hero","App_templateObject2","BrandWrapper","App_templateObject3","Brand","span","App_templateObject4","Tagline","h1","App_templateObject5","SupportingTagline","h2","App_templateObject6","Links","_templateObject7","Link","_templateObject8","DemoHintWrapper","_templateObject9","DemoHint","_templateObject10","App","App_Wrapper","href","src_Editor","sampleMarkup","React","Boolean","location","hostname","match","ReactDOM","render","src_App_0","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.df06c3f2.chunk.js","sourcesContent":["import crypto from 'crypto';\nvar bytes16 = new Uint8Array(16);\n\nfunction generateRandomBytes16() {\n  return crypto.randomFillSync(bytes16);\n}\n\nexport function generateId() {\n  return Buffer.from(String.fromCharCode.apply(String, Array.from(generateRandomBytes16()))).toString('base64');\n}","var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nimport { createHiddenIframe, isDOMAvailable } from '../../util/dom';\nvar iframe;\n\nif (isDOMAvailable()) {\n  iframe = createHiddenIframe();\n  document.body.appendChild(iframe);\n}\n\nexport var copy = function copy(serviceRegistry) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var cursorService, renderService, modelService, _a, anchor, head, html, iframeDocument;\n\n    return __generator(this, function (_b) {\n      if (!iframe) {\n        return [2\n        /*return*/\n        ];\n      }\n\n      cursorService = serviceRegistry.getService('cursor');\n      renderService = serviceRegistry.getService('render');\n      modelService = serviceRegistry.getService('model');\n\n      if (!cursorService.hasCursor()) {\n        return [2\n        /*return*/\n        ];\n      }\n\n      _a = cursorService.getCursor(), anchor = _a.anchor, head = _a.head;\n\n      if (anchor === head) {\n        return [2\n        /*return*/\n        ];\n      }\n\n      html = modelService.toDOM(renderService.convertOffsetToModelOffset(Math.min(anchor, head)), renderService.convertOffsetToModelOffset(Math.max(anchor, head))).outerHTML;\n      iframeDocument = iframe.contentDocument;\n\n      if (!iframeDocument) {\n        return [2\n        /*return*/\n        ];\n      }\n\n      iframeDocument.body.innerHTML = html;\n      iframeDocument.execCommand('selectAll');\n      iframeDocument.execCommand('copy');\n      iframeDocument.body.innerHTML = '';\n      return [2\n      /*return*/\n      ];\n    });\n  });\n};\nexport var paste = function paste(serviceRegistry) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    return __generator(this, function (_a) {\n      return [2\n      /*return*/\n      ];\n    });\n  });\n};","export function isDOMAvailable() {\n  return typeof window !== 'undefined';\n}\nexport function createHiddenIframe() {\n  var iframe = document.createElement('iframe');\n  iframe.scrolling = 'no';\n  iframe.src = 'about:blank';\n  iframe.style.width = '0';\n  iframe.style.height = '0';\n  iframe.style.border = 'none';\n  iframe.style.position = 'fixed';\n  iframe.style.zIndex = '-1';\n  iframe.style.opacity = '0';\n  iframe.style.overflow = 'hidden';\n  iframe.style.left = '-1000000px';\n  iframe.style.top = '-1000000px';\n  return iframe;\n}","var __spreadArrays = this && this.__spreadArrays || function () {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) {\n    s += arguments[i].length;\n  }\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) {\n    for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) {\n      r[k] = a[j];\n    }\n  }\n\n  return r;\n};\n\nvar Transformation =\n/** @class */\nfunction () {\n  function Transformation(changes, modelCursorHead, modelCursorAnchor, keepLeftLock) {\n    if (keepLeftLock === void 0) {\n      keepLeftLock = false;\n    }\n\n    this.changes = changes;\n    this.modelCursorHead = modelCursorHead;\n    this.modelCursorAnchor = modelCursorAnchor;\n    this.keepLeftLock = keepLeftLock;\n  }\n\n  Transformation.prototype.apply = function (modelService, cursorService, renderService, layoutService) {\n    var originalCursorModelAnchor = undefined;\n    var originalCursorModelHead = undefined;\n\n    if (cursorService.hasCursor()) {\n      var _a = cursorService.getCursor(),\n          anchor = _a.anchor,\n          head = _a.head;\n\n      originalCursorModelAnchor = renderService.convertOffsetToModelOffset(anchor);\n      originalCursorModelHead = renderService.convertOffsetToModelOffset(head);\n    }\n\n    var changeResults = this.applyChanges(modelService);\n\n    if (cursorService.hasCursor()) {\n      if (this.modelCursorHead !== undefined) {\n        var cursorHead = renderService.convertModelOffsetToOffset(this.boundModelOffset(this.modelCursorHead, modelService));\n        var cursorAnchor = cursorHead;\n\n        if (this.modelCursorAnchor !== undefined) {\n          cursorAnchor = renderService.convertModelOffsetToOffset(this.boundModelOffset(this.modelCursorAnchor, modelService));\n        }\n\n        cursorService.setCursor(cursorAnchor, cursorHead);\n      }\n\n      if (!this.keepLeftLock) {\n        var _b = layoutService.resolvePosition(cursorService.getCursor().head).atLineDepth(),\n            line = _b.node,\n            lineOffset = _b.offset;\n\n        cursorService.setLeftLock(line.resolveBoundingBoxes(lineOffset, lineOffset).boundingBoxes[0].left);\n      }\n    }\n\n    var reverseChanges = [];\n    var reverseMappings = [];\n\n    for (var n = changeResults.length - 1; n >= 0; n--) {\n      var changeResult = changeResults[n];\n      reverseChanges.push(reverseMappings.reduce(function (reverseChange, reverseMapping) {\n        return reverseChange.map(reverseMapping);\n      }, changeResult.reverseChange));\n      reverseMappings.push(changeResult.mapping.reverse());\n    }\n\n    return new TransformationResult(this, changeResults, new Transformation(reverseChanges, originalCursorModelHead, originalCursorModelAnchor, this.keepLeftLock));\n  };\n\n  Transformation.prototype.applyChanges = function (modelService) {\n    var changeResults = [];\n    var mappings = [];\n\n    var changes = __spreadArrays(this.changes);\n\n    var _loop_1 = function _loop_1() {\n      var change = changes.shift();\n      var changeResult = modelService.applyChange(change);\n      var mapping = changeResult.mapping;\n      mappings.push(mapping);\n      changes = changes.map(function (c) {\n        return c.map(mapping);\n      });\n      changeResults.push(changeResult);\n    };\n\n    while (changes.length > 0) {\n      _loop_1();\n    }\n\n    return changeResults;\n  };\n\n  Transformation.prototype.boundModelOffset = function (offset, modelService) {\n    return Math.max(0, Math.min(modelService.getRootSize() - 1, offset));\n  };\n\n  return Transformation;\n}();\n\nexport { Transformation };\n\nvar TransformationResult =\n/** @class */\nfunction () {\n  function TransformationResult(transformation, changeResults, reverseTransformation) {\n    this.transformation = transformation;\n    this.changeResults = changeResults;\n    this.reverseTransformation = reverseTransformation;\n  }\n\n  return TransformationResult;\n}();\n\nexport { TransformationResult };","var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nimport { Transformation } from '../../transform/transformation';\n\nfunction atPreviousLine(offset, leftLock, layoutService) {\n  var _a = layoutService.resolvePosition(offset).atLineDepth(),\n      line = _a.node,\n      lineOffset = _a.offset;\n\n  var previousLine = line.previousCrossParentSibling;\n\n  if (!previousLine) {\n    return offset - lineOffset;\n  }\n\n  return offset - lineOffset - previousLine.size + previousLine.convertCoordinatesToOffset(leftLock, 0);\n}\n\nfunction atNextLine(offset, leftLock, layoutService) {\n  var _a = layoutService.resolvePosition(offset).atLineDepth(),\n      line = _a.node,\n      lineOffset = _a.offset;\n\n  var nextLine = line.nextCrossParentSibling;\n\n  if (!nextLine) {\n    return offset - lineOffset + line.size - 1;\n  }\n\n  return offset - lineOffset + line.size + nextLine.convertCoordinatesToOffset(leftLock, 0);\n}\n\nfunction atPreviousWord(offset, layoutService) {\n  var _a = layoutService.resolvePosition(offset).atReverseDepth(0),\n      word = _a.node,\n      wordOffset = _a.offset;\n\n  if (wordOffset > 0) {\n    return offset - wordOffset;\n  }\n\n  var previousWord = word.previousCrossParentSibling;\n\n  if (!previousWord) {\n    return offset;\n  }\n\n  return offset - previousWord.size;\n}\n\nfunction atNextWord(offset, layoutService) {\n  var _a = layoutService.resolvePosition(offset).atReverseDepth(0),\n      word = _a.node,\n      wordOffset = _a.offset;\n\n  if (wordOffset < word.size - 1) {\n    return offset - wordOffset + word.size - word.whitespaceSize;\n  }\n\n  var nextWord = word.nextCrossParentSibling;\n\n  if (!nextWord) {\n    return offset;\n  }\n\n  return offset - wordOffset + word.size + nextWord.size - nextWord.whitespaceSize;\n}\n\nfunction atLineStart(offset, layoutService) {\n  var lineOffset = layoutService.resolvePosition(offset).atLineDepth().offset;\n\n  if (lineOffset === 0) {\n    return offset;\n  }\n\n  return offset - lineOffset;\n}\n\nfunction atLineEnd(offset, layoutService) {\n  var _a = layoutService.resolvePosition(offset).atLineDepth(),\n      line = _a.node,\n      lineOffset = _a.offset;\n\n  if (lineOffset >= line.size - 1) {\n    return offset;\n  }\n\n  return offset - lineOffset + line.size - 1;\n}\n\nexport var move = function move(serviceRegistry, offset) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var transformService, renderService, modelOffset;\n    return __generator(this, function (_a) {\n      transformService = serviceRegistry.getService('transform');\n      renderService = serviceRegistry.getService('render');\n      modelOffset = renderService.convertOffsetToModelOffset(offset);\n      transformService.applyTransformation(new Transformation([], modelOffset));\n      return [2\n      /*return*/\n      ];\n    });\n  });\n};\nexport var moveBackward = function moveBackward(serviceRegistry) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var transformService, cursorService, renderService, _a, anchor, head, newModelOffset, newOffset;\n\n    return __generator(this, function (_b) {\n      transformService = serviceRegistry.getService('transform');\n      cursorService = serviceRegistry.getService('cursor');\n      renderService = serviceRegistry.getService('render');\n      _a = cursorService.getCursor(), anchor = _a.anchor, head = _a.head;\n\n      if (anchor === head) {\n        newModelOffset = renderService.convertOffsetToModelOffset(anchor) - 1;\n      } else {\n        newOffset = Math.min(anchor, head);\n        newModelOffset = renderService.convertOffsetToModelOffset(newOffset);\n      }\n\n      transformService.applyTransformation(new Transformation([], newModelOffset));\n      return [2\n      /*return*/\n      ];\n    });\n  });\n};\nexport var moveForward = function moveForward(serviceRegistry) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var transformService, cursorService, renderService, _a, anchor, head, newModelOffset, newOffset;\n\n    return __generator(this, function (_b) {\n      transformService = serviceRegistry.getService('transform');\n      cursorService = serviceRegistry.getService('cursor');\n      renderService = serviceRegistry.getService('render');\n      _a = cursorService.getCursor(), anchor = _a.anchor, head = _a.head;\n\n      if (anchor === head) {\n        newModelOffset = renderService.convertOffsetToModelOffset(anchor) + 1;\n      } else {\n        newOffset = Math.max(anchor, head);\n        newModelOffset = renderService.convertOffsetToModelOffset(newOffset);\n      }\n\n      transformService.applyTransformation(new Transformation([], newModelOffset));\n      return [2\n      /*return*/\n      ];\n    });\n  });\n};\nexport var moveBackwardByLine = function moveBackwardByLine(serviceRegistry) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var transformService, cursorService, layoutService, _a, anchor, head, leftLock, offset, newOffset, renderService, newModelOffset;\n\n    return __generator(this, function (_b) {\n      transformService = serviceRegistry.getService('transform');\n      cursorService = serviceRegistry.getService('cursor');\n      layoutService = serviceRegistry.getService('layout');\n\n      if (!cursorService.hasCursor()) {\n        return [2\n        /*return*/\n        ];\n      }\n\n      _a = cursorService.getCursor(), anchor = _a.anchor, head = _a.head, leftLock = _a.leftLock;\n      offset = Math.min(anchor, head);\n      newOffset = atPreviousLine(offset, leftLock, layoutService);\n      renderService = serviceRegistry.getService('render');\n      newModelOffset = renderService.convertOffsetToModelOffset(newOffset);\n      transformService.applyTransformation(new Transformation([], newModelOffset, newModelOffset, true));\n      return [2\n      /*return*/\n      ];\n    });\n  });\n};\nexport var moveForwardByLine = function moveForwardByLine(serviceRegistry) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var transformService, cursorService, layoutService, _a, anchor, head, leftLock, offset, newOffset, renderService, newModelOffset;\n\n    return __generator(this, function (_b) {\n      transformService = serviceRegistry.getService('transform');\n      cursorService = serviceRegistry.getService('cursor');\n      layoutService = serviceRegistry.getService('layout');\n\n      if (!cursorService.hasCursor()) {\n        return [2\n        /*return*/\n        ];\n      }\n\n      _a = cursorService.getCursor(), anchor = _a.anchor, head = _a.head, leftLock = _a.leftLock;\n      offset = Math.max(anchor, head);\n      newOffset = atNextLine(offset, leftLock, layoutService);\n      renderService = serviceRegistry.getService('render');\n      newModelOffset = renderService.convertOffsetToModelOffset(newOffset);\n      transformService.applyTransformation(new Transformation([], newModelOffset, newModelOffset, true));\n      return [2\n      /*return*/\n      ];\n    });\n  });\n};\nexport var moveBackwardByWord = function moveBackwardByWord(serviceRegistry) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var transformService, cursorService, layoutService, _a, anchor, head, offset, newOffset, renderService, newModelOffset;\n\n    return __generator(this, function (_b) {\n      transformService = serviceRegistry.getService('transform');\n      cursorService = serviceRegistry.getService('cursor');\n      layoutService = serviceRegistry.getService('layout');\n\n      if (!cursorService.hasCursor()) {\n        return [2\n        /*return*/\n        ];\n      }\n\n      _a = cursorService.getCursor(), anchor = _a.anchor, head = _a.head;\n      offset = Math.min(anchor, head);\n      newOffset = atPreviousWord(offset, layoutService);\n      renderService = serviceRegistry.getService('render');\n      newModelOffset = renderService.convertOffsetToModelOffset(newOffset);\n      transformService.applyTransformation(new Transformation([], newModelOffset));\n      return [2\n      /*return*/\n      ];\n    });\n  });\n};\nexport var moveForwardByWord = function moveForwardByWord(serviceRegistry) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var transformService, cursorService, layoutService, _a, anchor, head, offset, newOffset, renderService, newModelOffset;\n\n    return __generator(this, function (_b) {\n      transformService = serviceRegistry.getService('transform');\n      cursorService = serviceRegistry.getService('cursor');\n      layoutService = serviceRegistry.getService('layout');\n\n      if (!cursorService.hasCursor()) {\n        return [2\n        /*return*/\n        ];\n      }\n\n      _a = cursorService.getCursor(), anchor = _a.anchor, head = _a.head;\n      offset = Math.max(anchor, head);\n      newOffset = atNextWord(offset, layoutService);\n      renderService = serviceRegistry.getService('render');\n      newModelOffset = renderService.convertOffsetToModelOffset(newOffset);\n      transformService.applyTransformation(new Transformation([], newModelOffset));\n      return [2\n      /*return*/\n      ];\n    });\n  });\n};\nexport var moveToLineStart = function moveToLineStart(serviceRegistry) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var transformService, cursorService, layoutService, _a, anchor, head, offset, newOffset, renderService, newModelOffset;\n\n    return __generator(this, function (_b) {\n      transformService = serviceRegistry.getService('transform');\n      cursorService = serviceRegistry.getService('cursor');\n      layoutService = serviceRegistry.getService('layout');\n\n      if (!cursorService.hasCursor()) {\n        return [2\n        /*return*/\n        ];\n      }\n\n      _a = cursorService.getCursor(), anchor = _a.anchor, head = _a.head;\n      offset = Math.min(anchor, head);\n      newOffset = atLineStart(offset, layoutService);\n      renderService = serviceRegistry.getService('render');\n      newModelOffset = renderService.convertOffsetToModelOffset(newOffset);\n      transformService.applyTransformation(new Transformation([], newModelOffset));\n      return [2\n      /*return*/\n      ];\n    });\n  });\n};\nexport var moveToLineEnd = function moveToLineEnd(serviceRegistry) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var transformService, cursorService, layoutService, _a, anchor, head, offset, newOffset, renderService, newModelOffset;\n\n    return __generator(this, function (_b) {\n      transformService = serviceRegistry.getService('transform');\n      cursorService = serviceRegistry.getService('cursor');\n      layoutService = serviceRegistry.getService('layout');\n\n      if (!cursorService.hasCursor()) {\n        return [2\n        /*return*/\n        ];\n      }\n\n      _a = cursorService.getCursor(), anchor = _a.anchor, head = _a.head;\n      offset = Math.max(anchor, head);\n      newOffset = atLineEnd(offset, layoutService);\n      renderService = serviceRegistry.getService('render');\n      newModelOffset = renderService.convertOffsetToModelOffset(newOffset);\n      transformService.applyTransformation(new Transformation([], newModelOffset));\n      return [2\n      /*return*/\n      ];\n    });\n  });\n};\nexport var moveToDocStart = function moveToDocStart(serviceRegistry) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var transformService, renderService, newOffset, newModelOffset;\n    return __generator(this, function (_a) {\n      transformService = serviceRegistry.getService('transform');\n      renderService = serviceRegistry.getService('render');\n      newOffset = 0;\n      newModelOffset = renderService.convertOffsetToModelOffset(newOffset);\n      transformService.applyTransformation(new Transformation([], newModelOffset));\n      return [2\n      /*return*/\n      ];\n    });\n  });\n};\nexport var moveToDocEnd = function moveToDocEnd(serviceRegistry) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var transformService, renderService, newOffset, newModelOffset;\n    return __generator(this, function (_a) {\n      transformService = serviceRegistry.getService('transform');\n      renderService = serviceRegistry.getService('render');\n      newOffset = renderService.getDocSize() - 1;\n      newModelOffset = renderService.convertOffsetToModelOffset(newOffset);\n      transformService.applyTransformation(new Transformation([], newModelOffset));\n      return [2\n      /*return*/\n      ];\n    });\n  });\n};\nexport var moveHead = function moveHead(serviceRegistry, offset) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var transformService, cursorService, renderService, anchor, modelAnchor, newModelHead;\n    return __generator(this, function (_a) {\n      transformService = serviceRegistry.getService('transform');\n      cursorService = serviceRegistry.getService('cursor');\n      renderService = serviceRegistry.getService('render');\n      anchor = cursorService.getCursor().anchor;\n      modelAnchor = renderService.convertOffsetToModelOffset(anchor);\n      newModelHead = renderService.convertOffsetToModelOffset(offset);\n      transformService.applyTransformation(new Transformation([], newModelHead, modelAnchor));\n      return [2\n      /*return*/\n      ];\n    });\n  });\n};\nexport var moveHeadBackward = function moveHeadBackward(serviceRegistry) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var transformService, cursorService, renderService, _a, anchor, head, modelAnchor, newModelHead;\n\n    return __generator(this, function (_b) {\n      transformService = serviceRegistry.getService('transform');\n      cursorService = serviceRegistry.getService('cursor');\n      renderService = serviceRegistry.getService('render');\n      _a = cursorService.getCursor(), anchor = _a.anchor, head = _a.head;\n      modelAnchor = renderService.convertOffsetToModelOffset(anchor);\n      newModelHead = renderService.convertOffsetToModelOffset(head - 1);\n      transformService.applyTransformation(new Transformation([], newModelHead, modelAnchor));\n      return [2\n      /*return*/\n      ];\n    });\n  });\n};\nexport var moveHeadForward = function moveHeadForward(serviceRegistry) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var transformService, cursorService, renderService, _a, anchor, head, modelAnchor, newModelHead;\n\n    return __generator(this, function (_b) {\n      transformService = serviceRegistry.getService('transform');\n      cursorService = serviceRegistry.getService('cursor');\n      renderService = serviceRegistry.getService('render');\n      _a = cursorService.getCursor(), anchor = _a.anchor, head = _a.head;\n      modelAnchor = renderService.convertOffsetToModelOffset(anchor);\n      newModelHead = renderService.convertOffsetToModelOffset(head + 1);\n      transformService.applyTransformation(new Transformation([], newModelHead, modelAnchor));\n      return [2\n      /*return*/\n      ];\n    });\n  });\n};\nexport var moveHeadBackwardByLine = function moveHeadBackwardByLine(serviceRegistry) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var transformService, cursorService, renderService, layoutService, _a, anchor, head, leftLock, newHead, modelAnchor, newModelHead;\n\n    return __generator(this, function (_b) {\n      transformService = serviceRegistry.getService('transform');\n      cursorService = serviceRegistry.getService('cursor');\n      renderService = serviceRegistry.getService('render');\n      layoutService = serviceRegistry.getService('layout');\n\n      if (!cursorService.hasCursor()) {\n        return [2\n        /*return*/\n        ];\n      }\n\n      _a = cursorService.getCursor(), anchor = _a.anchor, head = _a.head, leftLock = _a.leftLock;\n      newHead = atPreviousLine(head, leftLock, layoutService);\n      modelAnchor = renderService.convertOffsetToModelOffset(anchor);\n      newModelHead = renderService.convertOffsetToModelOffset(newHead);\n      transformService.applyTransformation(new Transformation([], newModelHead, modelAnchor));\n      return [2\n      /*return*/\n      ];\n    });\n  });\n};\nexport var moveHeadForwardByLine = function moveHeadForwardByLine(serviceRegistry) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var transformService, cursorService, renderService, layoutService, _a, anchor, head, leftLock, newHead, modelAnchor, newModelHead;\n\n    return __generator(this, function (_b) {\n      transformService = serviceRegistry.getService('transform');\n      cursorService = serviceRegistry.getService('cursor');\n      renderService = serviceRegistry.getService('render');\n      layoutService = serviceRegistry.getService('layout');\n\n      if (!cursorService.hasCursor()) {\n        return [2\n        /*return*/\n        ];\n      }\n\n      _a = cursorService.getCursor(), anchor = _a.anchor, head = _a.head, leftLock = _a.leftLock;\n      newHead = atNextLine(head, leftLock, layoutService);\n      modelAnchor = renderService.convertOffsetToModelOffset(anchor);\n      newModelHead = renderService.convertOffsetToModelOffset(newHead);\n      transformService.applyTransformation(new Transformation([], newModelHead, modelAnchor));\n      return [2\n      /*return*/\n      ];\n    });\n  });\n};\nexport var moveHeadBackwardByWord = function moveHeadBackwardByWord(serviceRegistry) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var transformService, cursorService, renderService, layoutService, _a, anchor, head, newHead, modelAnchor, newModelHead;\n\n    return __generator(this, function (_b) {\n      transformService = serviceRegistry.getService('transform');\n      cursorService = serviceRegistry.getService('cursor');\n      renderService = serviceRegistry.getService('render');\n      layoutService = serviceRegistry.getService('layout');\n\n      if (!cursorService.hasCursor()) {\n        return [2\n        /*return*/\n        ];\n      }\n\n      _a = cursorService.getCursor(), anchor = _a.anchor, head = _a.head;\n      newHead = atPreviousWord(head, layoutService);\n      modelAnchor = renderService.convertOffsetToModelOffset(anchor);\n      newModelHead = renderService.convertOffsetToModelOffset(newHead);\n      transformService.applyTransformation(new Transformation([], newModelHead, modelAnchor));\n      return [2\n      /*return*/\n      ];\n    });\n  });\n};\nexport var moveHeadForwardByWord = function moveHeadForwardByWord(serviceRegistry) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var transformService, cursorService, renderService, layoutService, _a, anchor, head, newHead, modelAnchor, newModelHead;\n\n    return __generator(this, function (_b) {\n      transformService = serviceRegistry.getService('transform');\n      cursorService = serviceRegistry.getService('cursor');\n      renderService = serviceRegistry.getService('render');\n      layoutService = serviceRegistry.getService('layout');\n\n      if (!cursorService.hasCursor()) {\n        return [2\n        /*return*/\n        ];\n      }\n\n      _a = cursorService.getCursor(), anchor = _a.anchor, head = _a.head;\n      newHead = atNextWord(head, layoutService);\n      modelAnchor = renderService.convertOffsetToModelOffset(anchor);\n      newModelHead = renderService.convertOffsetToModelOffset(newHead);\n      transformService.applyTransformation(new Transformation([], newModelHead, modelAnchor));\n      return [2\n      /*return*/\n      ];\n    });\n  });\n};\nexport var moveHeadToLineStart = function moveHeadToLineStart(serviceRegistry) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var transformService, cursorService, renderService, layoutService, _a, anchor, head, newHead, modelAnchor, newModelHead;\n\n    return __generator(this, function (_b) {\n      transformService = serviceRegistry.getService('transform');\n      cursorService = serviceRegistry.getService('cursor');\n      renderService = serviceRegistry.getService('render');\n      layoutService = serviceRegistry.getService('layout');\n\n      if (!cursorService.hasCursor()) {\n        return [2\n        /*return*/\n        ];\n      }\n\n      _a = cursorService.getCursor(), anchor = _a.anchor, head = _a.head;\n      newHead = atLineStart(head, layoutService);\n      modelAnchor = renderService.convertOffsetToModelOffset(anchor);\n      newModelHead = renderService.convertOffsetToModelOffset(newHead);\n      transformService.applyTransformation(new Transformation([], newModelHead, modelAnchor));\n      return [2\n      /*return*/\n      ];\n    });\n  });\n};\nexport var moveHeadToLineEnd = function moveHeadToLineEnd(serviceRegistry) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var transformService, cursorService, renderService, layoutService, _a, anchor, head, newHead, modelAnchor, newModelHead;\n\n    return __generator(this, function (_b) {\n      transformService = serviceRegistry.getService('transform');\n      cursorService = serviceRegistry.getService('cursor');\n      renderService = serviceRegistry.getService('render');\n      layoutService = serviceRegistry.getService('layout');\n\n      if (!cursorService.hasCursor()) {\n        return [2\n        /*return*/\n        ];\n      }\n\n      _a = cursorService.getCursor(), anchor = _a.anchor, head = _a.head;\n      newHead = atLineEnd(head, layoutService);\n      modelAnchor = renderService.convertOffsetToModelOffset(anchor);\n      newModelHead = renderService.convertOffsetToModelOffset(newHead);\n      transformService.applyTransformation(new Transformation([], newModelHead, modelAnchor));\n      return [2\n      /*return*/\n      ];\n    });\n  });\n};\nexport var moveHeadToDocStart = function moveHeadToDocStart(serviceRegistry) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var transformService, cursorService, renderService, anchor, newHead, modelAnchor, newModelHead;\n    return __generator(this, function (_a) {\n      transformService = serviceRegistry.getService('transform');\n      cursorService = serviceRegistry.getService('cursor');\n      renderService = serviceRegistry.getService('render');\n      anchor = cursorService.getCursor().anchor;\n      newHead = 0;\n      modelAnchor = renderService.convertOffsetToModelOffset(anchor);\n      newModelHead = renderService.convertOffsetToModelOffset(newHead);\n      transformService.applyTransformation(new Transformation([], newModelHead, modelAnchor));\n      return [2\n      /*return*/\n      ];\n    });\n  });\n};\nexport var moveHeadToDocEnd = function moveHeadToDocEnd(serviceRegistry) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var transformService, cursorService, renderService, anchor, newHead, modelAnchor, newModelHead;\n    return __generator(this, function (_a) {\n      transformService = serviceRegistry.getService('transform');\n      cursorService = serviceRegistry.getService('cursor');\n      renderService = serviceRegistry.getService('render');\n      anchor = cursorService.getCursor().anchor;\n      newHead = renderService.getDocSize() - 1;\n      modelAnchor = renderService.convertOffsetToModelOffset(anchor);\n      newModelHead = renderService.convertOffsetToModelOffset(newHead);\n      transformService.applyTransformation(new Transformation([], newModelHead, modelAnchor));\n      return [2\n      /*return*/\n      ];\n    });\n  });\n};\nexport var selectAll = function selectAll(serviceRegistry) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var transformService, cursorService, renderService, newAnchor, newHead, newModelAnchor, newModelHead;\n    return __generator(this, function (_a) {\n      transformService = serviceRegistry.getService('transform');\n      cursorService = serviceRegistry.getService('cursor');\n      renderService = serviceRegistry.getService('render');\n\n      if (!cursorService.hasCursor()) {\n        return [2\n        /*return*/\n        ];\n      }\n\n      newAnchor = 0;\n      newHead = renderService.getDocSize() - 1;\n      newModelAnchor = renderService.convertOffsetToModelOffset(newAnchor);\n      newModelHead = renderService.convertOffsetToModelOffset(newHead);\n      transformService.applyTransformation(new Transformation([], newModelHead, newModelAnchor));\n      return [2\n      /*return*/\n      ];\n    });\n  });\n};\nexport var selectWord = function selectWord(serviceRegistry, offset) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var transformService, cursorService, renderService, layoutService, _a, word, wordOffset, previousWord, newHead, newAnchor, newModelHead, newModelAnchor;\n\n    return __generator(this, function (_b) {\n      transformService = serviceRegistry.getService('transform');\n      cursorService = serviceRegistry.getService('cursor');\n      renderService = serviceRegistry.getService('render');\n      layoutService = serviceRegistry.getService('layout');\n\n      if (!cursorService.hasCursor()) {\n        return [2\n        /*return*/\n        ];\n      }\n\n      _a = layoutService.resolvePosition(offset).atReverseDepth(0), word = _a.node, wordOffset = _a.offset;\n\n      if (word.size - word.whitespaceSize === 0) {\n        previousWord = word.previousCrossParentSibling;\n\n        if (!previousWord) {\n          return [2\n          /*return*/\n          ];\n        }\n\n        word = previousWord;\n        wordOffset += word.size;\n      }\n\n      newHead = offset - wordOffset + word.size - word.whitespaceSize;\n      newAnchor = offset - wordOffset;\n      newModelHead = renderService.convertOffsetToModelOffset(newHead);\n      newModelAnchor = renderService.convertOffsetToModelOffset(newAnchor);\n      transformService.applyTransformation(new Transformation([], newModelHead, newModelAnchor));\n      return [2\n      /*return*/\n      ];\n    });\n  });\n};\nexport var selectBlock = function selectBlock(serviceRegistry, offset) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var transformService, cursorService, renderService, layoutService, _a, block, blockOffset, newHead, newAnchor, newModelHead, newModelAnchor;\n\n    return __generator(this, function (_b) {\n      transformService = serviceRegistry.getService('transform');\n      cursorService = serviceRegistry.getService('cursor');\n      renderService = serviceRegistry.getService('render');\n      layoutService = serviceRegistry.getService('layout');\n\n      if (!cursorService.hasCursor()) {\n        return [2\n        /*return*/\n        ];\n      }\n\n      _a = layoutService.resolvePosition(offset).atBlockDepth(), block = _a.node, blockOffset = _a.offset;\n      newHead = offset - blockOffset + block.size - 1;\n      newAnchor = offset - blockOffset;\n      newModelHead = renderService.convertOffsetToModelOffset(newHead);\n      newModelAnchor = renderService.convertOffsetToModelOffset(newAnchor);\n      transformService.applyTransformation(new Transformation([], newModelHead, newModelAnchor));\n      return [2\n      /*return*/\n      ];\n    });\n  });\n};","var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nexport var undo = function undo(serviceRegistry) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    return __generator(this, function (_a) {\n      serviceRegistry.getService('history').undo();\n      return [2\n      /*return*/\n      ];\n    });\n  });\n};\nexport var redo = function redo(serviceRegistry) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    return __generator(this, function (_a) {\n      serviceRegistry.getService('history').redo();\n      return [2\n      /*return*/\n      ];\n    });\n  });\n};","var ModelChange =\n/** @class */\nfunction () {\n  function ModelChange() {}\n\n  return ModelChange;\n}();\n\nexport { ModelChange };","var __spreadArrays = this && this.__spreadArrays || function () {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) {\n    s += arguments[i].length;\n  }\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) {\n    for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) {\n      r[k] = a[j];\n    }\n  }\n\n  return r;\n};\n\nvar Mutator =\n/** @class */\nfunction () {\n  function Mutator() {\n    this.ran = false;\n    this.inProgress = false;\n  }\n\n  Mutator.prototype.run = function () {\n    if (this.ran) {\n      throw new Error('Already ran.');\n    }\n\n    this.inProgress = true;\n\n    while (this.inProgress) {\n      this.next();\n    }\n\n    this.ran = true;\n  };\n\n  Mutator.prototype.joinNodes = function (node1, node2) {\n    if (node1.leaf) {\n      node1.replace(0, node1.text.length, node1.text + node2.text);\n    } else {\n      node1.replace(0, node1.children.length, __spreadArrays(node1.children.slice(), node2.children.slice()));\n    }\n\n    var parent = node1.parent;\n    parent.replace(0, parent.children.length, parent.children.filter(function (child) {\n      return child !== node2;\n    }));\n  };\n\n  return Mutator;\n}();\n\nexport { Mutator };","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { generateId } from '../../util/id';\nimport { Mutator } from './mutator';\n\nvar Inserter =\n/** @class */\nfunction (_super) {\n  __extends(Inserter, _super);\n\n  function Inserter(root, offset, fragments, componentService) {\n    var _this = _super.call(this) || this;\n\n    _this.root = root;\n    _this.fragments = fragments;\n    _this.componentService = componentService;\n    _this.internalInsertedSize = 0;\n    _this.depth = root.resolvePosition(offset).depth;\n    _this.current = {\n      offset: offset,\n      index: 0\n    };\n    return _this;\n  }\n\n  Object.defineProperty(Inserter.prototype, \"insertedSize\", {\n    get: function get() {\n      return this.internalInsertedSize;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  Inserter.prototype.next = function () {\n    switch (this.state) {\n      case 'text':\n        this.handleText();\n        break;\n\n      case 'split':\n        this.handleSplit();\n        break;\n\n      case 'leave':\n        this.handleLeave();\n        break;\n\n      case 'node':\n        this.handleNode();\n        break;\n\n      case 'end':\n        this.handleEnd();\n        break;\n    }\n  };\n\n  Inserter.prototype.handleText = function () {\n    var position = this.root.resolvePosition(this.current.offset);\n\n    var _a = position.atReverseDepth(0),\n        node = _a.node,\n        index = _a.index;\n\n    var currentFragment = this.currentFragment;\n    var content = currentFragment.content;\n    node.replace(index, index, content);\n    this.current = {\n      offset: this.current.offset + currentFragment.size,\n      index: this.current.index + 1\n    };\n    this.internalInsertedSize += currentFragment.size;\n  };\n\n  Inserter.prototype.handleSplit = function () {\n    var position = this.root.resolvePosition(this.current.offset);\n\n    var _a = position.atReverseDepth(this.currentFragment.depth - 1),\n        node = _a.node,\n        offset = _a.offset;\n\n    var insertedSize = this.splitNode(node, offset);\n    this.current = {\n      offset: this.current.offset + insertedSize / 2,\n      index: this.current.index\n    };\n    this.internalInsertedSize += insertedSize;\n  };\n\n  Inserter.prototype.handleLeave = function () {\n    this.current = {\n      offset: this.current.offset + 1,\n      index: this.current.index\n    };\n  };\n\n  Inserter.prototype.handleNode = function () {\n    var position = this.root.resolvePosition(this.current.offset);\n\n    var _a = position.atReverseDepth(0),\n        node = _a.node,\n        index = _a.index;\n\n    var currentFragment = this.currentFragment;\n    var content = currentFragment.content;\n    node.replace(index, index, content);\n\n    if (content.length > 0) {\n      this.joinNodeWithNextSibling(content[content.length - 1]);\n      this.joinNodeWithPreviousSibling(content[0]);\n    }\n\n    this.current = {\n      offset: this.current.offset + currentFragment.size,\n      index: this.current.index + 1\n    };\n    this.internalInsertedSize += currentFragment.size;\n  };\n\n  Inserter.prototype.handleEnd = function () {\n    this.inProgress = false;\n  };\n\n  Object.defineProperty(Inserter.prototype, \"state\", {\n    get: function get() {\n      if (!this.currentFragment) {\n        return 'end';\n      }\n\n      var position = this.root.resolvePosition(this.current.offset);\n\n      if (position.depth > this.depth - this.currentFragment.depth) {\n        return 'split';\n      }\n\n      if (position.depth < this.depth - this.currentFragment.depth) {\n        return 'leave';\n      }\n\n      if (this.currentFragment.depth === 0) {\n        return 'text';\n      }\n\n      return 'node';\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Inserter.prototype, \"currentFragment\", {\n    get: function get() {\n      if (this.current.index >= this.fragments.length) {\n        return null;\n      }\n\n      return this.fragments[this.current.index];\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  Inserter.prototype.splitNode = function (node, offset) {\n    var insertedSize = 0;\n    var component = this.componentService.getComponent(node.componentId);\n    var position = node.resolvePosition(offset);\n    var node1;\n    var node2;\n\n    if (position.depth === 1) {\n      node1 = component.buildModelNode(node.partId, node.id, node.text.substring(0, offset - 1), node.attributes, []);\n      node2 = component.buildModelNode(node.partId, generateId(), node.text.substring(offset - 1), node.attributes, []);\n    } else {\n      if (position.atDepth(1).offset !== 0) {\n        insertedSize += this.splitNode(position.atDepth(1).node, position.atDepth(1).offset);\n      }\n\n      position = node.resolvePosition(offset + insertedSize / 2);\n      node1 = component.buildModelNode(node.partId, node.id, '', node.attributes, node.children.slice(0, position.atDepth(0).index));\n      node2 = component.buildModelNode(node.partId, generateId(), '', node.attributes, node.children.slice(position.atDepth(0).index));\n    }\n\n    var parent = node.parent;\n    var index = parent.children.indexOf(node);\n    parent.replace(index, index + 1, [node1, node2]);\n    insertedSize += 2;\n    return insertedSize;\n  };\n\n  Inserter.prototype.joinNodeWithNextSibling = function (node) {\n    var nextSibling = node.nextSibling;\n\n    if (!nextSibling) {\n      return;\n    }\n\n    if (!node.canJoin(nextSibling)) {\n      return;\n    }\n\n    this.joinNodes(node, nextSibling);\n  };\n\n  Inserter.prototype.joinNodeWithPreviousSibling = function (node) {\n    var previousSibling = node.previousSibling;\n\n    if (!previousSibling) {\n      return;\n    }\n\n    if (!previousSibling.canJoin(node)) {\n      return;\n    }\n\n    this.joinNodes(previousSibling, node);\n  };\n\n  return Inserter;\n}(Mutator);\n\nexport { Inserter };","var Mapping =\n/** @class */\nfunction () {\n  function Mapping(from, oldSize, newSize) {\n    this.from = from;\n    this.oldSize = oldSize;\n    this.newSize = newSize;\n  }\n\n  Mapping.prototype.map = function (offset) {\n    if (offset <= this.from) {\n      return offset;\n    }\n\n    if (offset >= this.from + this.oldSize) {\n      return offset - this.oldSize + this.newSize;\n    }\n\n    throw new Error('Offset no longer exists.');\n  };\n\n  Mapping.prototype.mapRender = function (offset, renderService) {\n    var modelOffset = renderService.convertOffsetToModelOffset(offset);\n    var newModelOffset = this.map(modelOffset);\n    return renderService.convertModelOffsetToOffset(newModelOffset);\n  };\n\n  Mapping.prototype.reverse = function () {\n    return new Mapping(this.from, this.newSize, this.oldSize);\n  };\n\n  return Mapping;\n}();\n\nexport { Mapping };","var Fragment =\n/** @class */\nfunction () {\n  function Fragment(content, depth) {\n    this.content = content;\n    this.depth = depth;\n\n    if (Array.isArray(content)) {\n      if (depth <= 0) {\n        throw new Error('Fragment of nodes must have depth greater than zero.');\n      }\n\n      this.contentType = 'nodes';\n      this.size = content.reduce(function (size, node) {\n        return size + node.size;\n      }, 0);\n    } else {\n      if (depth !== 0) {\n        throw new Error('Fragment of text must have depth of zero.');\n      }\n\n      this.contentType = 'text';\n      this.size = content.length;\n    }\n  }\n\n  return Fragment;\n}();\n\nexport { Fragment };","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { Fragment } from '../fragment';\nimport { Mutator } from './mutator';\n\nvar Remover =\n/** @class */\nfunction (_super) {\n  __extends(Remover, _super);\n\n  function Remover(root, from, to) {\n    var _this = _super.call(this) || this;\n\n    _this.root = root;\n    _this.from = from;\n    _this.to = to;\n    _this.removedFragments = [];\n    var position = root.resolvePosition(from);\n    var node = position.atReverseDepth(0).node;\n    _this.current = {\n      offset: from,\n      node: node,\n      nodeFrom: -1,\n      nodeTo: -1\n    };\n\n    _this.updateCurrentNode(node);\n\n    return _this;\n  }\n\n  Remover.prototype.next = function () {\n    switch (this.state) {\n      case 'fullNode':\n        this.handleFullNode();\n        break;\n\n      case 'partialNode':\n        this.handlePartialNode();\n        break;\n\n      case 'text':\n        this.handleText();\n        break;\n\n      case 'forward':\n        this.handleForward();\n        break;\n\n      case 'enter':\n        this.handleEnter();\n        break;\n\n      case 'end':\n        this.handleEnd();\n        break;\n    }\n  };\n\n  Remover.prototype.handleFullNode = function () {\n    this.stepUp();\n  };\n\n  Remover.prototype.handlePartialNode = function () {\n    var position = this.current.node.resolvePosition(this.current.offset - this.current.nodeFrom);\n\n    if (position.depth === 1) {\n      var removeFrom = position.atDepth(0).index;\n      var nodesToRemove = [];\n      var removeToOffset = Math.min(this.to - this.current.nodeFrom, this.current.node.size);\n      var offset = position.atDepth(0).offset;\n      var node = this.current.node.children.at(removeFrom);\n\n      while (node && offset + node.size <= removeToOffset) {\n        nodesToRemove.push(node);\n        offset += node.size;\n        node = node.nextSibling;\n      }\n\n      var removeTo = removeFrom + nodesToRemove.length;\n      this.recordRemovedNodes(nodesToRemove, position.depth);\n      this.current.node.replace(removeFrom, removeTo, []);\n\n      if (node) {\n        this.joinNodeWithPreviousSibling(node);\n      }\n    }\n\n    this.stepDown();\n  };\n\n  Remover.prototype.handleText = function () {\n    var removeFrom = this.current.offset - this.current.nodeFrom - 1;\n    var removeTo = Math.min(this.to - this.current.nodeFrom - 1, this.current.node.size - 2);\n    var removedText = this.current.node.replace(removeFrom, removeTo, '');\n    this.recordRemovedText(removedText);\n  };\n\n  Remover.prototype.handleForward = function () {\n    this.stepForward();\n  };\n\n  Remover.prototype.handleEnter = function () {\n    this.current.offset++;\n  };\n\n  Remover.prototype.handleEnd = function () {\n    this.inProgress = false;\n  };\n\n  Remover.prototype.stepUp = function () {\n    var parentNode = this.current.node.parent;\n    this.updateCurrentNode(parentNode);\n  };\n\n  Remover.prototype.stepDown = function () {\n    var nodeOffset = this.current.offset - this.current.nodeFrom;\n    var position = this.current.node.resolvePosition(nodeOffset);\n    var childNode = this.current.node.children.at(position.atDepth(0).index);\n    this.updateCurrentNode(childNode);\n  };\n\n  Remover.prototype.stepForward = function () {\n    var nextNode = this.current.node.nextSibling;\n\n    if (nextNode) {\n      this.updateCurrentNode(nextNode);\n      this.current.offset = this.current.nodeFrom;\n    } else {\n      var parentNode = this.current.node.parent;\n      this.current.offset = this.current.nodeTo;\n      this.updateCurrentNode(parentNode);\n    }\n  };\n\n  Object.defineProperty(Remover.prototype, \"state\", {\n    get: function get() {\n      if (this.current.offset >= this.to) {\n        return 'end';\n      }\n\n      if (this.current.nodeTo - this.current.offset === 1) {\n        return 'forward';\n      }\n\n      if (this.current.offset === this.current.nodeFrom && this.current.nodeTo <= this.to) {\n        return 'fullNode';\n      }\n\n      if (this.current.offset === this.current.nodeFrom) {\n        return 'enter';\n      }\n\n      if (this.current.node.leaf) {\n        return 'text';\n      }\n\n      return 'partialNode';\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  Remover.prototype.recordRemovedNodes = function (nodes, depth) {\n    this.removedFragments.push(new Fragment(nodes, depth));\n    var size = nodes.reduce(function (size, node) {\n      return size + node.size;\n    }, 0);\n    this.current.nodeTo -= size;\n    this.to -= size;\n  };\n\n  Remover.prototype.recordRemovedText = function (text) {\n    this.removedFragments.push(new Fragment(text, 0));\n    this.current.nodeTo -= text.length;\n    this.to -= text.length;\n  };\n\n  Remover.prototype.joinNodeWithPreviousSibling = function (node) {\n    var previousSibling = node.previousSibling;\n\n    if (!previousSibling) {\n      if (node.parent) {\n        this.joinNodeWithPreviousSibling(node.parent);\n      }\n\n      return;\n    }\n\n    var nodeOffset = this.getOffsetToRoot(node);\n\n    if (this.current.offset >= nodeOffset - 1) {\n      if (this.current.offset > nodeOffset) {\n        this.current.offset--;\n      }\n\n      this.current.offset--;\n    }\n\n    this.to -= 2;\n    var childNodeToJoin = node.firstChild;\n    this.joinNodes(previousSibling, node);\n\n    if (childNodeToJoin) {\n      this.joinNodeWithPreviousSibling(childNodeToJoin);\n    }\n\n    if (this.current.node === node) {\n      this.updateCurrentNode(previousSibling);\n    }\n  };\n\n  Remover.prototype.updateCurrentNode = function (node) {\n    this.current.node = node;\n    this.current.nodeFrom = this.getOffsetToRoot(node);\n    this.current.nodeTo = this.current.nodeFrom + node.size;\n  };\n\n  Remover.prototype.getOffsetToRoot = function (node) {\n    var offset = 0;\n    var n = node;\n\n    while (n.parent) {\n      offset += this.getOffsetToParent(n);\n      n = n.parent;\n    }\n\n    return offset;\n  };\n\n  Remover.prototype.getOffsetToParent = function (node) {\n    var offset = 1;\n    var previousSibling = node.previousSibling;\n\n    while (previousSibling) {\n      offset += previousSibling.size;\n      previousSibling = previousSibling.previousSibling;\n    }\n\n    return offset;\n  };\n\n  return Remover;\n}(Mutator);\n\nexport { Remover };","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { ModelChange } from './change';\nimport { Inserter } from './inserter';\nimport { Mapping } from './mapping';\nimport { Remover } from './remover';\n\nvar ReplaceChange =\n/** @class */\nfunction (_super) {\n  __extends(ReplaceChange, _super);\n\n  function ReplaceChange(from, to, fragments) {\n    var _this = _super.call(this) || this;\n\n    _this.from = from;\n    _this.to = to;\n    _this.fragments = fragments;\n\n    _this.validateInput();\n\n    return _this;\n  }\n\n  ReplaceChange.prototype.map = function (mapping) {\n    var from = mapping.map(this.from);\n    var to = mapping.map(this.to);\n    return new ReplaceChange(from, to, this.fragments);\n  };\n\n  ReplaceChange.prototype.apply = function (root, componentService) {\n    this.validateFit(root);\n    var remover = new Remover(root, this.from, this.to);\n    remover.run();\n    var inserter = new Inserter(root, this.from, this.fragments, componentService);\n    inserter.run();\n    return {\n      change: this,\n      reverseChange: new ReplaceChange(this.from, this.from + inserter.insertedSize, remover.removedFragments),\n      mapping: new Mapping(this.from, this.to - this.from, inserter.insertedSize)\n    };\n  };\n\n  ReplaceChange.prototype.validateInput = function () {\n    // Validate range is valid\n    if (this.from > this.to) {\n      throw new Error('Range is invalid.');\n    } // Validate fragments depths are valid\n\n\n    if (this.fragments.length > 0) {\n      var ascending = true;\n      var descending = false;\n      var depth = this.fragments[0].depth;\n\n      for (var n = 1, nn = this.fragments.length; n < nn; n++) {\n        var fragment = this.fragments[n];\n\n        if (fragment.depth > depth) {\n          if (!ascending) {\n            throw new Error('Fragments have invalid depths.');\n          }\n        } else if (fragment.depth < depth) {\n          if (ascending) {\n            ascending = false;\n            descending = true;\n          }\n\n          if (!descending) {\n            throw new Error('Fragments have invalid depths.');\n          }\n        }\n\n        depth = fragment.depth;\n      }\n    }\n  };\n\n  ReplaceChange.prototype.validateFit = function (root) {\n    // Fragments depths must be less than depth at from position\n    var fromPosition = root.resolvePosition(this.from);\n    var maxFragmentDepth = Math.max.apply(Math, this.fragments.map(function (fragment) {\n      return fragment.depth;\n    }));\n\n    if (maxFragmentDepth >= fromPosition.depth) {\n      throw new Error('Fragments do not fit in range.');\n    }\n  };\n\n  return ReplaceChange;\n}(ModelChange);\n\nexport { ReplaceChange };","var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nimport { ReplaceChange } from '../../model/change/replace';\nimport { Fragment } from '../../model/fragment';\nimport { Transformation } from '../../transform/transformation';\nexport var insert = function insert(serviceRegistry, content) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var transformService, cursorService, renderService, _a, anchor, head, from, to, modelFrom, modelTo, newModelOffset;\n\n    return __generator(this, function (_b) {\n      transformService = serviceRegistry.getService('transform');\n      cursorService = serviceRegistry.getService('cursor');\n      renderService = serviceRegistry.getService('render');\n\n      if (!cursorService.hasCursor()) {\n        return [2\n        /*return*/\n        ];\n      }\n\n      _a = cursorService.getCursor(), anchor = _a.anchor, head = _a.head;\n      from = Math.min(anchor, head);\n      to = Math.max(anchor, head);\n      modelFrom = renderService.convertOffsetToModelOffset(from);\n      modelTo = renderService.convertOffsetToModelOffset(to);\n      newModelOffset = modelFrom + content.length;\n      transformService.applyTransformation(new Transformation([new ReplaceChange(modelFrom, modelTo, [new Fragment(content, 0)])], newModelOffset));\n      return [2\n      /*return*/\n      ];\n    });\n  });\n};\nexport var deleteBackward = function deleteBackward(serviceRegistry) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var transformService, cursorService, renderService, _a, anchor, head, from, to, modelFrom, modelTo;\n\n    return __generator(this, function (_b) {\n      transformService = serviceRegistry.getService('transform');\n      cursorService = serviceRegistry.getService('cursor');\n      renderService = serviceRegistry.getService('render');\n\n      if (!cursorService.hasCursor()) {\n        return [2\n        /*return*/\n        ];\n      }\n\n      _a = cursorService.getCursor(), anchor = _a.anchor, head = _a.head;\n\n      if (anchor === head) {\n        if (head === 0) {\n          return [2\n          /*return*/\n          ];\n        }\n\n        from = head - 1;\n        to = head;\n      } else {\n        from = Math.min(anchor, head);\n        to = Math.max(anchor, head);\n      }\n\n      modelFrom = renderService.convertOffsetToModelOffset(from);\n      modelTo = renderService.convertOffsetToModelOffset(to);\n      transformService.applyTransformation(new Transformation([new ReplaceChange(modelFrom, modelTo, [])], modelFrom));\n      return [2\n      /*return*/\n      ];\n    });\n  });\n};\nexport var deleteForward = function deleteForward(serviceRegistry) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var transformService, cursorService, renderService, _a, anchor, head, from, to, modelFrom, modelTo;\n\n    return __generator(this, function (_b) {\n      transformService = serviceRegistry.getService('transform');\n      cursorService = serviceRegistry.getService('cursor');\n      renderService = serviceRegistry.getService('render');\n\n      if (!cursorService.hasCursor()) {\n        return [2\n        /*return*/\n        ];\n      }\n\n      _a = cursorService.getCursor(), anchor = _a.anchor, head = _a.head;\n\n      if (anchor === head) {\n        if (head >= renderService.getDocSize() - 1) {\n          return [2\n          /*return*/\n          ];\n        }\n\n        from = head;\n        to = head + 1;\n      } else {\n        from = Math.min(anchor, head);\n        to = Math.max(anchor, head);\n      }\n\n      modelFrom = renderService.convertOffsetToModelOffset(from);\n      modelTo = renderService.convertOffsetToModelOffset(to);\n      transformService.applyTransformation(new Transformation([new ReplaceChange(modelFrom, modelTo, [])], modelFrom));\n      return [2\n      /*return*/\n      ];\n    });\n  });\n};\nexport var breakLine = function breakLine(serviceRegistry) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var transformService, cursorService, renderService, _a, anchor, head, from, to, modelFrom, modelTo, newModelOffset;\n\n    return __generator(this, function (_b) {\n      transformService = serviceRegistry.getService('transform');\n      cursorService = serviceRegistry.getService('cursor');\n      renderService = serviceRegistry.getService('render');\n\n      if (!cursorService.hasCursor()) {\n        return [2\n        /*return*/\n        ];\n      }\n\n      _a = cursorService.getCursor(), anchor = _a.anchor, head = _a.head;\n      from = Math.min(anchor, head);\n      to = Math.max(anchor, head);\n      modelFrom = renderService.convertOffsetToModelOffset(from);\n      modelTo = renderService.convertOffsetToModelOffset(to);\n      newModelOffset = modelFrom + 4;\n      transformService.applyTransformation(new Transformation([new ReplaceChange(modelFrom, modelTo, [new Fragment([], 2)])], newModelOffset));\n      return [2\n      /*return*/\n      ];\n    });\n  });\n};","var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nexport var focus = function focus(serviceRegistry) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    return __generator(this, function (_a) {\n      serviceRegistry.getService('view').requestFocus();\n      return [2\n      /*return*/\n      ];\n    });\n  });\n};\nexport var blur = function blur(serviceRegistry) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    return __generator(this, function (_a) {\n      serviceRegistry.getService('view').requestBlur();\n      return [2\n      /*return*/\n      ];\n    });\n  });\n};","var EventEmitter =\n/** @class */\nfunction () {\n  function EventEmitter() {\n    this.listeners = [];\n  }\n\n  EventEmitter.prototype.on = function (listener) {\n    var _this = this;\n\n    this.listeners.push(listener);\n    return {\n      dispose: function dispose() {\n        var index = _this.listeners.indexOf(listener);\n\n        if (index < 0) {\n          return;\n        }\n\n        _this.listeners.splice(index, 1);\n      }\n    };\n  };\n\n  EventEmitter.prototype.emit = function (event) {\n    this.listeners.forEach(function (listener) {\n      return listener(event);\n    });\n  };\n\n  return EventEmitter;\n}();\n\nexport { EventEmitter };","var CommandRegistry =\n/** @class */\nfunction () {\n  function CommandRegistry() {\n    this.commandsMap = new Map();\n  }\n\n  CommandRegistry.prototype.registerCommand = function (commandId, commandHandler) {\n    this.commandsMap.set(commandId, commandHandler);\n  };\n\n  CommandRegistry.prototype.getCommandHandler = function (commandId) {\n    return this.commandsMap.get(commandId);\n  };\n\n  return CommandRegistry;\n}();\n\nexport { CommandRegistry };","var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nvar __spreadArrays = this && this.__spreadArrays || function () {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) {\n    s += arguments[i].length;\n  }\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) {\n    for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) {\n      r[k] = a[j];\n    }\n  }\n\n  return r;\n};\n\nimport { EventEmitter } from '../event/emitter';\nimport { CommandRegistry } from './registry';\n\nvar CommandService =\n/** @class */\nfunction () {\n  function CommandService(configService, serviceRegistry) {\n    this.serviceRegistry = serviceRegistry;\n    this.willExecuteCommandEventEmitter = new EventEmitter();\n    this.didExecuteCommandEventEmitter = new EventEmitter();\n    this.registry = new CommandRegistry();\n\n    for (var _i = 0, _a = Object.entries(configService.getConfig().commands); _i < _a.length; _i++) {\n      var _b = _a[_i],\n          commandId = _b[0],\n          commandHandler = _b[1];\n      this.registry.registerCommand(commandId, commandHandler);\n    }\n  }\n\n  CommandService.prototype.onWillExecuteCommand = function (listener) {\n    return this.willExecuteCommandEventEmitter.on(listener);\n  };\n\n  CommandService.prototype.onDidExecuteCommand = function (listener) {\n    return this.didExecuteCommandEventEmitter.on(listener);\n  };\n\n  CommandService.prototype.executeCommand = function (commandId) {\n    var args = [];\n\n    for (var _i = 1; _i < arguments.length; _i++) {\n      args[_i - 1] = arguments[_i];\n    }\n\n    return __awaiter(this, void 0, void 0, function () {\n      var commandHandler;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            commandHandler = this.registry.getCommandHandler(commandId);\n\n            if (!commandHandler) {\n              return [2\n              /*return*/\n              ];\n            }\n\n            this.willExecuteCommandEventEmitter.emit({\n              commandId: commandId,\n              args: args\n            });\n            return [4\n            /*yield*/\n            , commandHandler.apply(void 0, __spreadArrays([this.serviceRegistry], args))];\n\n          case 1:\n            _a.sent();\n\n            this.didExecuteCommandEventEmitter.emit({\n              commandId: commandId,\n              args: args\n            });\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  return CommandService;\n}();\n\nexport { CommandService };","var NodeList =\n/** @class */\nfunction () {\n  function NodeList(nodes) {\n    if (nodes === void 0) {\n      nodes = [];\n    }\n\n    this.nodes = nodes;\n  }\n\n  Object.defineProperty(NodeList.prototype, \"length\", {\n    get: function get() {\n      return this.nodes.length;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  NodeList.prototype.at = function (index) {\n    if (index < 0 || index >= this.nodes.length) {\n      throw new Error(\"Index \" + index + \" is out of range.\");\n    }\n\n    return this.nodes[index];\n  };\n\n  NodeList.prototype.indexOf = function (node) {\n    return this.nodes.findIndex(function (n) {\n      return n.id === node.id;\n    });\n  };\n\n  NodeList.prototype.forEach = function (callbackFn) {\n    return this.nodes.forEach(callbackFn);\n  };\n\n  NodeList.prototype.map = function (callbackFn) {\n    return this.nodes.map(callbackFn);\n  };\n\n  NodeList.prototype.reduce = function (callbackFn, initialValue) {\n    return this.nodes.reduce(callbackFn, initialValue);\n  };\n\n  NodeList.prototype.filter = function (callbackfn) {\n    return this.nodes.filter(callbackfn);\n  };\n\n  NodeList.prototype.slice = function (start, end) {\n    return this.nodes.slice(start, end);\n  };\n\n  NodeList.prototype.find = function (callbackFn) {\n    return this.nodes.find(callbackFn);\n  };\n\n  return NodeList;\n}();\n\nexport { NodeList };","import { NodeList } from './node-list';\n\nvar Node =\n/** @class */\nfunction () {\n  function Node(id) {\n    this.id = id;\n    this.parent = null;\n    this.internalChildren = new NodeList();\n  }\n\n  Object.defineProperty(Node.prototype, \"children\", {\n    get: function get() {\n      return this.internalChildren;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Node.prototype, \"firstChild\", {\n    get: function get() {\n      if (this.children.length === 0) {\n        return null;\n      }\n\n      return this.children.at(0);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Node.prototype, \"lastChild\", {\n    get: function get() {\n      if (this.children.length === 0) {\n        return null;\n      }\n\n      return this.children.at(this.children.length - 1);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Node.prototype, \"previousSibling\", {\n    get: function get() {\n      if (!this.parent) {\n        return null;\n      }\n\n      var siblings = this.parent.children;\n      var ownIndex = siblings.indexOf(this);\n\n      if (ownIndex < 0) {\n        throw new Error('Node is not a child of parent.');\n      }\n\n      if (ownIndex === 0) {\n        return null;\n      }\n\n      return siblings.at(ownIndex - 1);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Node.prototype, \"nextSibling\", {\n    get: function get() {\n      if (!this.parent) {\n        return null;\n      }\n\n      var siblings = this.parent.children;\n      var ownIndex = siblings.indexOf(this);\n\n      if (ownIndex < 0) {\n        throw new Error('Node is not a child of parent.');\n      }\n\n      if (ownIndex === siblings.length - 1) {\n        return null;\n      }\n\n      return siblings.at(ownIndex + 1);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Node.prototype, \"previousCrossParentSibling\", {\n    get: function get() {\n      var previousSibling = this.previousSibling;\n\n      if (previousSibling) {\n        return previousSibling;\n      }\n\n      var parent = this.parent;\n\n      if (!parent || parent.root) {\n        return null;\n      }\n\n      var parentPreviousSibling = parent.previousCrossParentSibling;\n\n      if (!parentPreviousSibling) {\n        return null;\n      }\n\n      return parentPreviousSibling.lastChild;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Node.prototype, \"nextCrossParentSibling\", {\n    get: function get() {\n      var nextSibling = this.nextSibling;\n\n      if (nextSibling) {\n        return nextSibling;\n      }\n\n      var parent = this.parent;\n\n      if (!parent || parent.root) {\n        return null;\n      }\n\n      var parentNextSibling = parent.nextCrossParentSibling;\n\n      if (!parentNextSibling) {\n        return null;\n      }\n\n      return parentNextSibling.firstChild;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  Node.prototype.findDescendant = function (id) {\n    if (this.id === id) {\n      return this;\n    }\n\n    if (this.leaf) {\n      return null;\n    }\n\n    for (var n = 0, nn = this.children.length; n < nn; n++) {\n      var child = this.children.at(n);\n      var result = child.findDescendant(id);\n\n      if (result) {\n        return result;\n      }\n    }\n\n    return null;\n  };\n\n  return Node;\n}();\n\nexport { Node };","var Position =\n/** @class */\nfunction () {\n  function Position(depths) {\n    this.depths = depths;\n  }\n\n  Object.defineProperty(Position.prototype, \"depth\", {\n    get: function get() {\n      return this.depths.length;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  Position.prototype.atDepth = function (depth) {\n    if (depth < 0 || depth >= this.depths.length) {\n      throw new Error('Depth out of range.');\n    }\n\n    return this.depths[depth];\n  };\n\n  Position.prototype.atReverseDepth = function (reverseDepth) {\n    if (reverseDepth < 0 || reverseDepth >= this.depths.length) {\n      throw new Error('Reverse depth out of range.');\n    }\n\n    return this.depths[this.depth - reverseDepth - 1];\n  };\n\n  return Position;\n}();\n\nexport { Position };","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __spreadArrays = this && this.__spreadArrays || function () {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) {\n    s += arguments[i].length;\n  }\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) {\n    for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) {\n      r[k] = a[j];\n    }\n  }\n\n  return r;\n};\n\nimport { EventEmitter } from '../event/emitter';\nimport { Node } from '../tree/node';\nimport { NodeList } from '../tree/node-list';\nimport { Position } from '../tree/position';\n\nvar ModelNode =\n/** @class */\nfunction (_super) {\n  __extends(ModelNode, _super);\n\n  function ModelNode(componentId, id, text, attributes, children) {\n    var _this = _super.call(this, id) || this;\n\n    _this.componentId = componentId;\n    _this.attributes = attributes;\n    _this.internalNeedRender = true;\n    _this.childDidUpdateDisposableMap = new Map();\n    _this.didUpdateEventEmitter = new EventEmitter();\n\n    _this.handleChildDidUpdate = function () {\n      _this.didUpdateEventEmitter.emit({});\n    };\n\n    _this.internalText = text;\n    _this.internalChildren = new NodeList(children);\n    children.forEach(function (child) {\n      child.parent = _this;\n\n      _this.childDidUpdateDisposableMap.set(child.id, child.onDidUpdate(_this.handleChildDidUpdate));\n    });\n\n    _this.onDidUpdate(function () {\n      _this.internalSize = undefined;\n      _this.internalNeedRender = true;\n    });\n\n    return _this;\n  }\n\n  Object.defineProperty(ModelNode.prototype, \"text\", {\n    get: function get() {\n      return this.internalText;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ModelNode.prototype, \"size\", {\n    get: function get() {\n      if (this.internalSize === undefined) {\n        if (this.leaf) {\n          this.internalSize = 2 + this.text.length;\n        } else {\n          this.internalSize = this.children.reduce(function (size, child) {\n            return size + child.size;\n          }, 2);\n        }\n      }\n\n      return this.internalSize;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ModelNode.prototype, \"needRender\", {\n    get: function get() {\n      return this.internalNeedRender;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  ModelNode.prototype.canJoin = function (node) {\n    return false;\n  };\n\n  ModelNode.prototype.clearNeedRender = function () {\n    this.internalNeedRender = false;\n  };\n\n  ModelNode.prototype.replace = function (from, to, content) {\n    var _this = this;\n\n    if (from > to) {\n      throw new Error('Range is invalid.');\n    }\n\n    if (this.leaf) {\n      if (typeof content !== 'string') {\n        throw new Error('Leaf node content must be string.');\n      }\n\n      if (from < 0 || to > this.text.length) {\n        throw new Error('Range is invalid.');\n      }\n    } else {\n      if (typeof content === 'string') {\n        throw new Error('Non-leaf node content must not be string.');\n      }\n\n      if (from < 0 || to > this.children.length) {\n        throw new Error('Range is invalid.');\n      }\n    }\n\n    var replacedContent;\n\n    if (typeof content === 'string') {\n      replacedContent = this.internalText.substring(from, to);\n      this.internalText = this.internalText.slice(0, from) + content + this.internalText.slice(to);\n    } else {\n      replacedContent = this.children.slice(from, to);\n      this.internalChildren = new NodeList(__spreadArrays(this.children.slice(0, from), content, this.children.slice(to)));\n      var removedNodes = this.children.slice(from, to);\n      removedNodes.forEach(function (node) {\n        var _a;\n\n        return (_a = _this.childDidUpdateDisposableMap.get(node.id)) === null || _a === void 0 ? void 0 : _a.dispose();\n      });\n      content.forEach(function (node) {\n        node.parent = _this;\n\n        _this.childDidUpdateDisposableMap.set(node.id, node.onDidUpdate(_this.handleChildDidUpdate));\n      });\n    }\n\n    this.didUpdateEventEmitter.emit({});\n    return replacedContent;\n  };\n\n  ModelNode.prototype.resolvePosition = function (offset) {\n    if (offset < 0 || offset >= this.size) {\n      throw new Error(\"Offset \" + offset + \" is out of range.\");\n    }\n\n    if (offset === 0) {\n      return new ModelPosition([{\n        node: this,\n        offset: offset,\n        index: -1\n      }]);\n    }\n\n    if (this.leaf) {\n      return new ModelPosition([{\n        node: this,\n        offset: offset,\n        index: offset - 1\n      }]);\n    }\n\n    var cumulatedOffset = 1;\n\n    for (var n = 0, nn = this.children.length; n < nn; n++) {\n      if (cumulatedOffset === offset) {\n        return new ModelPosition([{\n          node: this,\n          offset: offset,\n          index: n\n        }]);\n      }\n\n      var child = this.children.at(n);\n      var childSize = child.size;\n\n      if (cumulatedOffset + childSize > offset) {\n        var childPosition = child.resolvePosition(offset - cumulatedOffset);\n        var depths = [{\n          node: this,\n          offset: offset,\n          index: n\n        }];\n\n        for (var m = 0; m < childPosition.depth; m++) {\n          depths.push(childPosition.atDepth(m));\n        }\n\n        return new ModelPosition(depths);\n      }\n\n      cumulatedOffset += childSize;\n    }\n\n    return new ModelPosition([{\n      node: this,\n      offset: offset,\n      index: this.children.length\n    }]);\n  };\n\n  ModelNode.prototype.onDidUpdate = function (listener) {\n    return this.didUpdateEventEmitter.on(listener);\n  };\n\n  return ModelNode;\n}(Node);\n\nexport { ModelNode };\n\nvar ModelPosition =\n/** @class */\nfunction (_super) {\n  __extends(ModelPosition, _super);\n\n  function ModelPosition() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  return ModelPosition;\n}(Position);\n\nexport { ModelPosition };","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { ModelNode } from './node';\n\nvar ModelRoot =\n/** @class */\nfunction (_super) {\n  __extends(ModelRoot, _super);\n\n  function ModelRoot(componentId, id, attributes, children) {\n    var _this = _super.call(this, componentId, id, '', attributes, children) || this;\n\n    if (children.length === 0) {\n      throw new Error('Doc node must have children.');\n    }\n\n    return _this;\n  }\n\n  Object.defineProperty(ModelRoot.prototype, \"root\", {\n    get: function get() {\n      return true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ModelRoot.prototype, \"leaf\", {\n    get: function get() {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return ModelRoot;\n}(ModelNode);\n\nexport { ModelRoot };","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { Node } from '../tree/node';\nimport { NodeList } from '../tree/node-list';\nimport { Position } from '../tree/position';\nimport { generateId } from '../util/id';\n\nvar RenderNode =\n/** @class */\nfunction (_super) {\n  __extends(RenderNode, _super);\n\n  function RenderNode(componentId, modelId, text, attributes, children) {\n    var _this = _super.call(this, generateId()) || this;\n\n    _this.componentId = componentId;\n    _this.modelId = modelId;\n    _this.text = text;\n    _this.attributes = attributes;\n    _this.internalNeedLayout = true;\n    _this.internalChildren = new NodeList(children);\n    children.forEach(function (child) {\n      child.parent = _this;\n    });\n    return _this;\n  }\n\n  Object.defineProperty(RenderNode.prototype, \"size\", {\n    get: function get() {\n      if (this.internalSize === undefined) {\n        if (this.leaf) {\n          this.internalSize = this.text.length;\n        } else {\n          this.internalSize = this.children.reduce(function (size, child) {\n            return size + child.size;\n          }, 0);\n        }\n      }\n\n      return this.internalSize;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderNode.prototype, \"modelSize\", {\n    get: function get() {\n      if (this.pseudo) {\n        return 0;\n      }\n\n      if (this.internalChildrenModelSize === undefined) {\n        this.internalChildrenModelSize = this.children.reduce(function (size, childNode) {\n          return size + childNode.modelSize;\n        }, 0);\n      }\n\n      return this.internalChildrenModelSize + 2 + this.text.length;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderNode.prototype, \"needLayout\", {\n    get: function get() {\n      return this.internalNeedLayout;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  RenderNode.prototype.clearNeedLayout = function () {\n    this.internalNeedLayout = false;\n  };\n\n  RenderNode.prototype.resolvePosition = function (offset) {\n    if (offset < 0 || offset >= this.size) {\n      throw new Error(\"Offset \" + offset + \" is out of range.\");\n    }\n\n    if (this.leaf) {\n      return new RenderPosition([{\n        node: this,\n        offset: offset,\n        index: offset\n      }]);\n    }\n\n    var cumulatedOffset = 0;\n\n    for (var n = 0, nn = this.children.length; n < nn; n++) {\n      var child = this.children.at(n);\n      var childSize = child.size;\n\n      if (cumulatedOffset + childSize > offset) {\n        var childPosition = child.resolvePosition(offset - cumulatedOffset);\n        var depths = [{\n          node: this,\n          offset: offset,\n          index: n\n        }];\n\n        for (var m = 0; m < childPosition.depth; m++) {\n          depths.push(childPosition.atDepth(m));\n        }\n\n        return new RenderPosition(depths);\n      }\n\n      cumulatedOffset += childSize;\n    }\n\n    throw new Error('Offset cannot be resolved.');\n  };\n\n  RenderNode.prototype.convertOffsetToModelOffset = function (offset) {\n    if (offset < 0 || offset >= this.size) {\n      throw new Error('Offset is out of range.');\n    }\n\n    var cumulatedSize = 0;\n    var cumulatedModelSize = this.pseudo ? 0 : 1;\n\n    if (this.leaf) {\n      return cumulatedModelSize + offset;\n    }\n\n    for (var n = 0, nn = this.children.length; n < nn; n++) {\n      var child = this.children.at(n);\n      var childSize = child.size;\n\n      if (cumulatedSize + childSize > offset) {\n        return cumulatedModelSize + child.convertOffsetToModelOffset(offset - cumulatedSize);\n      }\n\n      cumulatedSize += childSize;\n      cumulatedModelSize += child.modelSize;\n    }\n\n    throw new Error(\"Offset \" + offset + \" is out of range.\");\n  };\n\n  RenderNode.prototype.convertModelOffsetToOffset = function (modelOffset) {\n    if (modelOffset < 0 || modelOffset >= this.modelSize) {\n      throw new Error('Model offset is out of range.');\n    }\n\n    var cumulatedModelSize = this.pseudo ? 0 : 1;\n    var cumulatedSize = 0;\n\n    if (modelOffset <= cumulatedModelSize) {\n      return 0;\n    }\n\n    if (this.leaf) {\n      return modelOffset - cumulatedModelSize;\n    }\n\n    for (var n = 0, nn = this.children.length; n < nn; n++) {\n      var child = this.children.at(n);\n      var childModelSize = child.modelSize;\n\n      if (cumulatedModelSize + childModelSize > modelOffset) {\n        return cumulatedSize + child.convertModelOffsetToOffset(modelOffset - cumulatedModelSize);\n      }\n\n      cumulatedModelSize += childModelSize;\n      cumulatedSize += child.size;\n    }\n\n    throw new Error(\"Model offset \" + modelOffset + \" is out of range.\");\n  };\n\n  return RenderNode;\n}(Node);\n\nexport { RenderNode };\n\nvar RenderPosition =\n/** @class */\nfunction (_super) {\n  __extends(RenderPosition, _super);\n\n  function RenderPosition() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  return RenderPosition;\n}(Position);\n\nexport { RenderPosition };","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { RenderNode } from './node';\n\nvar RenderDoc =\n/** @class */\nfunction (_super) {\n  __extends(RenderDoc, _super);\n\n  function RenderDoc(componentId, modelId, attributes, children) {\n    return _super.call(this, componentId, modelId, '', attributes, children) || this;\n  }\n\n  Object.defineProperty(RenderDoc.prototype, \"type\", {\n    get: function get() {\n      return 'doc';\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderDoc.prototype, \"root\", {\n    get: function get() {\n      return true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderDoc.prototype, \"leaf\", {\n    get: function get() {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return RenderDoc;\n}(RenderNode);\n\nexport { RenderDoc };","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { Node } from '../tree/node';\nimport { NodeList } from '../tree/node-list';\n\nvar ViewNode =\n/** @class */\nfunction (_super) {\n  __extends(ViewNode, _super);\n\n  function ViewNode(domContainer, componentId, renderId, layoutId, text, style, children, domService) {\n    var _this = _super.call(this, layoutId) || this;\n\n    _this.domContainer = domContainer;\n    _this.componentId = componentId;\n    _this.renderId = renderId;\n    _this.layoutId = layoutId;\n    _this.text = text;\n    _this.style = style;\n    _this.domService = domService;\n    _this.internalChildren = new NodeList(children);\n    children.forEach(function (child) {\n      child.parent = _this;\n    });\n    return _this;\n  }\n\n  Object.defineProperty(ViewNode.prototype, \"size\", {\n    get: function get() {\n      if (this.internalSize === undefined) {\n        if (this.leaf) {\n          this.internalSize = this.text.length;\n        } else {\n          this.internalSize = this.children.reduce(function (size, child) {\n            return size + child.size;\n          }, 0);\n        }\n      }\n\n      return this.internalSize;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return ViewNode;\n}(Node);\n\nexport { ViewNode };","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { ViewNode } from './node';\n\nvar ViewDoc =\n/** @class */\nfunction (_super) {\n  __extends(ViewDoc, _super);\n\n  function ViewDoc(domContainer, componentId, renderId, layoutId, style, children, domService) {\n    var _this = _super.call(this, domContainer, componentId, renderId, layoutId, '', style, children, domService) || this;\n\n    _this.attached = false;\n    return _this;\n  }\n\n  Object.defineProperty(ViewDoc.prototype, \"type\", {\n    get: function get() {\n      return 'doc';\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ViewDoc.prototype, \"root\", {\n    get: function get() {\n      return true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ViewDoc.prototype, \"leaf\", {\n    get: function get() {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return ViewDoc;\n}(ViewNode);\n\nexport { ViewDoc };","var Component =\n/** @class */\nfunction () {\n  function Component(id, serviceRegistry) {\n    this.id = id;\n    this.serviceRegistry = serviceRegistry;\n  }\n\n  return Component;\n}();\n\nexport { Component };","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { ModelRoot } from '../../model/root';\nimport { RenderDoc as AbstractRenderDoc } from '../../render/doc';\nimport { ViewDoc as AbstractViewDoc } from '../../view/doc';\nimport { Component } from '../component';\n\nvar ModelDoc =\n/** @class */\nfunction (_super) {\n  __extends(ModelDoc, _super);\n\n  function ModelDoc() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Object.defineProperty(ModelDoc.prototype, \"partId\", {\n    get: function get() {\n      return 'doc';\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  ModelDoc.prototype.toDOM = function (from, to) {\n    var $element = document.createElement('div');\n    var offset = 1;\n    var children = this.children;\n\n    for (var n = 0, nn = children.length; n < nn && offset < to; n++) {\n      var child = children.at(n);\n      var childSize = child.size;\n      var childFrom = Math.max(0, from - offset);\n      var childTo = Math.min(childFrom + childSize, to - offset);\n      offset += childSize;\n\n      if (childFrom > childSize || childTo < 0) {\n        continue;\n      }\n\n      var $childElement = child.toDOM(childFrom, childTo);\n      $element.appendChild($childElement);\n    }\n\n    return $element;\n  };\n\n  return ModelDoc;\n}(ModelRoot);\n\nexport { ModelDoc };\n\nvar RenderDoc =\n/** @class */\nfunction (_super) {\n  __extends(RenderDoc, _super);\n\n  function RenderDoc(componentId, modelId, attributes, children, width, height, paddingTop, paddingBottom, paddingLeft, paddingRight) {\n    var _this = _super.call(this, componentId, modelId, attributes, children) || this;\n\n    _this.width = width;\n    _this.height = height;\n    _this.paddingTop = paddingTop;\n    _this.paddingBottom = paddingBottom;\n    _this.paddingLeft = paddingLeft;\n    _this.paddingRight = paddingRight;\n    return _this;\n  }\n\n  Object.defineProperty(RenderDoc.prototype, \"partId\", {\n    get: function get() {\n      return 'doc';\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderDoc.prototype, \"pseudo\", {\n    get: function get() {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderDoc.prototype, \"style\", {\n    get: function get() {\n      return {};\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return RenderDoc;\n}(AbstractRenderDoc);\n\nexport { RenderDoc };\n\nvar ViewDoc =\n/** @class */\nfunction (_super) {\n  __extends(ViewDoc, _super);\n\n  function ViewDoc(domContainer, componentId, renderId, layoutId, style, children, domService) {\n    var _this = _super.call(this, domContainer, componentId, renderId, layoutId, style, children, domService) || this;\n\n    _this.domContainer.style.textAlign = 'left';\n    _this.domContainer.style.cursor = 'text';\n    _this.domContainer.style.userSelect = 'none';\n    _this.domContainer.innerHTML = '';\n    var domContentContainer = domService.createElement('div');\n    domContentContainer.setAttribute('data-tw-role', 'content-container');\n    children.map(function (child) {\n      return domContentContainer.appendChild(child.domContainer);\n    });\n\n    _this.domContainer.appendChild(domContentContainer);\n\n    return _this;\n  }\n\n  Object.defineProperty(ViewDoc.prototype, \"partId\", {\n    get: function get() {\n      return 'doc';\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return ViewDoc;\n}(AbstractViewDoc);\n\nexport { ViewDoc };\n\nvar DocComponent =\n/** @class */\nfunction (_super) {\n  __extends(DocComponent, _super);\n\n  function DocComponent() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  DocComponent.prototype.buildModelNode = function (partId, id, text, attributes, children) {\n    return new ModelDoc(this.id, id, attributes, children);\n  };\n\n  DocComponent.prototype.buildRenderNode = function (partId, modelId, text, attributes, children) {\n    var configService = this.serviceRegistry.getService('config');\n\n    switch (partId) {\n      case 'doc':\n        var pageConfig = configService.getConfig().page;\n        return new RenderDoc(this.id, modelId, attributes, children, pageConfig.width, pageConfig.height, pageConfig.paddingTop, pageConfig.paddingBottom, pageConfig.paddingLeft, pageConfig.paddingRight);\n\n      default:\n        throw new Error('Invalid part ID.');\n    }\n  };\n\n  DocComponent.prototype.buildViewNode = function (domContainer, partId, renderId, layoutId, text, style, children, width, height, paddingTop, paddingBottom, paddingLeft, paddingRight) {\n    var domService = this.serviceRegistry.getService('dom');\n\n    switch (partId) {\n      case 'doc':\n        return new ViewDoc(domContainer, this.id, renderId, layoutId, style, children, domService);\n\n      default:\n        throw new Error('Invalid part ID.');\n    }\n  };\n\n  return DocComponent;\n}(Component);\n\nexport { DocComponent };","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { ModelNode } from './node';\n\nvar ModelBranch =\n/** @class */\nfunction (_super) {\n  __extends(ModelBranch, _super);\n\n  function ModelBranch(componentId, id, attributes, children) {\n    var _this = _super.call(this, componentId, id, '', attributes, children) || this;\n\n    if (children.length === 0) {\n      throw new Error('Branch node must have children.');\n    }\n\n    return _this;\n  }\n\n  Object.defineProperty(ModelBranch.prototype, \"root\", {\n    get: function get() {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ModelBranch.prototype, \"leaf\", {\n    get: function get() {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return ModelBranch;\n}(ModelNode);\n\nexport { ModelBranch };","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { RenderNode } from './node';\n\nvar RenderBlock =\n/** @class */\nfunction (_super) {\n  __extends(RenderBlock, _super);\n\n  function RenderBlock(componentId, modelId, attributes, children) {\n    return _super.call(this, componentId, modelId, '', attributes, children) || this;\n  }\n\n  Object.defineProperty(RenderBlock.prototype, \"type\", {\n    get: function get() {\n      return 'block';\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderBlock.prototype, \"root\", {\n    get: function get() {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderBlock.prototype, \"leaf\", {\n    get: function get() {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return RenderBlock;\n}(RenderNode);\n\nexport { RenderBlock };","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { RenderNode } from './node';\n\nvar RenderText =\n/** @class */\nfunction (_super) {\n  __extends(RenderText, _super);\n\n  function RenderText(componentId, modelId, text, attributes) {\n    return _super.call(this, componentId, modelId, text, attributes, []) || this;\n  }\n\n  Object.defineProperty(RenderText.prototype, \"type\", {\n    get: function get() {\n      return 'text';\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderText.prototype, \"root\", {\n    get: function get() {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderText.prototype, \"leaf\", {\n    get: function get() {\n      return true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return RenderText;\n}(RenderNode);\n\nexport { RenderText };","export var DEFAULT_FONT = {\n  weight: 400,\n  size: 16,\n  family: 'sans-serif',\n  letterSpacing: 0,\n  underline: false,\n  italic: false,\n  strikethrough: false,\n  color: 'black'\n};\nexport var BREAKABLE_CHARS = [' ', '\\n', '\\t'];\n\nvar TextService =\n/** @class */\nfunction () {\n  function TextService(domService) {\n    this.$canvas = domService.createElement('canvas');\n  }\n\n  TextService.prototype.measure = function (text, font) {\n    var fontWithDefault = this.applyDefaultFont(font);\n    var ctx = this.$canvas.getContext('2d');\n    var weight = fontWithDefault.weight;\n    var size = fontWithDefault.size;\n    var family = this.fixFontFamily(fontWithDefault.family);\n    var letterSpacing = fontWithDefault.letterSpacing;\n    ctx.font = weight + \" \" + size + \"px \" + family;\n    var measurement = ctx.measureText(text);\n    var width = letterSpacing === 0 || text.length <= 1 ? measurement.width : measurement.width + (text.length - 1) * letterSpacing;\n    return {\n      width: width,\n      height: size\n    };\n  };\n\n  TextService.prototype.breakIntoWords = function (text) {\n    var words = [];\n    var word = '';\n\n    for (var n = 0, nn = text.length; n < nn; n++) {\n      var char = text[n];\n      word += char;\n\n      if (BREAKABLE_CHARS.includes(char)) {\n        words.push({\n          text: word,\n          whitespaceSize: 1\n        });\n        word = '';\n      }\n    }\n\n    if (word.length > 0) {\n      words.push({\n        text: word,\n        whitespaceSize: 0\n      });\n    }\n\n    return words;\n  };\n\n  TextService.prototype.applyDefaultFont = function (font) {\n    var fontConfigWithDefault = {};\n\n    for (var key in DEFAULT_FONT) {\n      if (key in font && font[key] !== undefined) {\n        fontConfigWithDefault[key] = font[key];\n      } else {\n        fontConfigWithDefault[key] = DEFAULT_FONT[key];\n      }\n    }\n\n    return fontConfigWithDefault;\n  };\n\n  TextService.prototype.fixFontFamily = function (fontFamily) {\n    if (fontFamily.indexOf(' ') >= 0) {\n      return \"'\" + fontFamily + \"'\";\n    }\n\n    return fontFamily;\n  };\n\n  return TextService;\n}();\n\nexport { TextService };","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { ViewNode } from './node';\n\nvar ViewBlock =\n/** @class */\nfunction (_super) {\n  __extends(ViewBlock, _super);\n\n  function ViewBlock(domContainer, componentId, renderId, layoutId, style, children, domService) {\n    return _super.call(this, domContainer, componentId, renderId, layoutId, '', style, children, domService) || this;\n  }\n\n  Object.defineProperty(ViewBlock.prototype, \"type\", {\n    get: function get() {\n      return 'block';\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ViewBlock.prototype, \"root\", {\n    get: function get() {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ViewBlock.prototype, \"leaf\", {\n    get: function get() {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return ViewBlock;\n}(ViewNode);\n\nexport { ViewBlock };","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { ViewNode } from './node';\n\nvar ViewText =\n/** @class */\nfunction (_super) {\n  __extends(ViewText, _super);\n\n  function ViewText(domContainer, componentId, renderId, layoutId, text, style, domService) {\n    return _super.call(this, domContainer, componentId, renderId, layoutId, text, style, [], domService) || this;\n  }\n\n  Object.defineProperty(ViewText.prototype, \"type\", {\n    get: function get() {\n      return 'text';\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ViewText.prototype, \"root\", {\n    get: function get() {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ViewText.prototype, \"leaf\", {\n    get: function get() {\n      return true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return ViewText;\n}(ViewNode);\n\nexport { ViewText };","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __spreadArrays = this && this.__spreadArrays || function () {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) {\n    s += arguments[i].length;\n  }\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) {\n    for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) {\n      r[k] = a[j];\n    }\n  }\n\n  return r;\n};\n\nimport { ModelBranch } from '../../model/branch';\nimport { RenderBlock } from '../../render/block';\nimport { RenderText } from '../../render/text';\nimport { DEFAULT_FONT } from '../../text/service';\nimport { ViewBlock } from '../../view/block';\nimport { ViewText } from '../../view/text';\nimport { Component } from '../component';\n\nvar ModelParagraph =\n/** @class */\nfunction (_super) {\n  __extends(ModelParagraph, _super);\n\n  function ModelParagraph() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Object.defineProperty(ModelParagraph.prototype, \"partId\", {\n    get: function get() {\n      return 'paragraph';\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  ModelParagraph.prototype.toDOM = function (from, to) {\n    var $element = document.createElement('p');\n    var offset = 1;\n    var children = this.children;\n\n    for (var n = 0, nn = children.length; n < nn && offset < to; n++) {\n      var childNode = children.at(n);\n      var childSize = childNode.size;\n      var childFrom = Math.max(0, from - offset);\n      var childTo = Math.min(childFrom + childSize, to - offset);\n      offset += childSize;\n\n      if (childFrom > childSize || childTo < 0) {\n        continue;\n      }\n\n      var $childElement = childNode.toDOM(childFrom, childTo);\n      $element.appendChild($childElement);\n    }\n\n    return $element;\n  };\n\n  return ModelParagraph;\n}(ModelBranch);\n\nexport { ModelParagraph };\n\nvar RenderParagraph =\n/** @class */\nfunction (_super) {\n  __extends(RenderParagraph, _super);\n\n  function RenderParagraph(componentId, modelId, attributes, children) {\n    return _super.call(this, componentId, modelId, attributes, __spreadArrays(children, [new RenderParagraphLineBreak(componentId, modelId)])) || this;\n  }\n\n  Object.defineProperty(RenderParagraph.prototype, \"partId\", {\n    get: function get() {\n      return 'paragraph';\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderParagraph.prototype, \"pseudo\", {\n    get: function get() {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderParagraph.prototype, \"paddingTop\", {\n    get: function get() {\n      return 0;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderParagraph.prototype, \"paddingBottom\", {\n    get: function get() {\n      return 12;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderParagraph.prototype, \"paddingLeft\", {\n    get: function get() {\n      return 0;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderParagraph.prototype, \"paddingRight\", {\n    get: function get() {\n      return 0;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderParagraph.prototype, \"style\", {\n    get: function get() {\n      return {};\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  RenderParagraph.prototype.convertOffsetToModelOffset = function (offset) {\n    if (this.size === 1) {\n      return this.resolvePosition(0).depth;\n    }\n\n    if (offset === this.size - 1) {\n      return _super.prototype.convertOffsetToModelOffset.call(this, offset - 1) + 1;\n    }\n\n    return _super.prototype.convertOffsetToModelOffset.call(this, offset);\n  };\n\n  RenderParagraph.prototype.convertModelOffsetToOffset = function (modelOffset) {\n    if (modelOffset <= this.resolvePosition(0).depth) {\n      return 0;\n    }\n\n    if (_super.prototype.convertModelOffsetToOffset.call(this, modelOffset - 1) + 1 >= this.size - 1) {\n      return this.size - 1;\n    }\n\n    return _super.prototype.convertModelOffsetToOffset.call(this, modelOffset);\n  };\n\n  return RenderParagraph;\n}(RenderBlock);\n\nexport { RenderParagraph };\n\nvar RenderParagraphLineBreak =\n/** @class */\nfunction (_super) {\n  __extends(RenderParagraphLineBreak, _super);\n\n  function RenderParagraphLineBreak(componentId, paragraphModelId) {\n    var _this = _super.call(this, componentId, paragraphModelId + \".line-break\", ' ', null) || this;\n\n    _this.componentId = componentId;\n    _this.paragraphModelId = paragraphModelId;\n    return _this;\n  }\n\n  Object.defineProperty(RenderParagraphLineBreak.prototype, \"partId\", {\n    get: function get() {\n      return 'line-break';\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderParagraphLineBreak.prototype, \"pseudo\", {\n    get: function get() {\n      return true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderParagraphLineBreak.prototype, \"paddingTop\", {\n    get: function get() {\n      return 0;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderParagraphLineBreak.prototype, \"paddingBottom\", {\n    get: function get() {\n      return 0;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderParagraphLineBreak.prototype, \"paddingLeft\", {\n    get: function get() {\n      return 0;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderParagraphLineBreak.prototype, \"paddingRight\", {\n    get: function get() {\n      return 0;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderParagraphLineBreak.prototype, \"style\", {\n    get: function get() {\n      return null;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderParagraphLineBreak.prototype, \"font\", {\n    get: function get() {\n      var node = this.previousSibling;\n\n      while (node) {\n        if (node.type === 'text') {\n          return node.font;\n        }\n\n        node = node.previousSibling;\n      }\n\n      return DEFAULT_FONT;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return RenderParagraphLineBreak;\n}(RenderText);\n\nexport { RenderParagraphLineBreak };\n\nvar ViewParagraph =\n/** @class */\nfunction (_super) {\n  __extends(ViewParagraph, _super);\n\n  function ViewParagraph(domContainer, componentId, renderId, layoutId, style, children, width, height, paddingTop, paddingBottom, paddingLeft, paddingRight, domService) {\n    var _this = _super.call(this, domContainer, componentId, renderId, layoutId, style, children, domService) || this;\n\n    _this.domContainer.style.width = width + \"px\";\n    _this.domContainer.style.height = height + \"px\";\n    _this.domContainer.style.paddingTop = paddingTop + \"px\";\n    _this.domContainer.style.paddingBottom = paddingBottom + \"px\";\n    _this.domContainer.style.paddingLeft = paddingLeft + \"px\";\n    _this.domContainer.style.paddingRight = paddingRight + \"px\";\n    _this.domContainer.style.lineHeight = '1em';\n    _this.domContainer.innerHTML = '';\n    children.map(function (child) {\n      return _this.domContainer.appendChild(child.domContainer);\n    });\n    return _this;\n  }\n\n  Object.defineProperty(ViewParagraph.prototype, \"partId\", {\n    get: function get() {\n      return 'paragraph';\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ViewParagraph.prototype, \"domContentContainer\", {\n    get: function get() {\n      return this.domContainer;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return ViewParagraph;\n}(ViewBlock);\n\nexport { ViewParagraph };\n\nvar ViewParagraphLineBreak =\n/** @class */\nfunction (_super) {\n  __extends(ViewParagraphLineBreak, _super);\n\n  function ViewParagraphLineBreak(domContainer, componentId, renderId, layoutId, domService) {\n    return _super.call(this, domContainer, componentId, renderId, layoutId, ' ', null, domService) || this;\n  }\n\n  Object.defineProperty(ViewParagraphLineBreak.prototype, \"partId\", {\n    get: function get() {\n      return 'line-break';\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ViewParagraphLineBreak.prototype, \"domContentContainer\", {\n    get: function get() {\n      return this.domContainer;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return ViewParagraphLineBreak;\n}(ViewText);\n\nexport { ViewParagraphLineBreak };\n\nvar ParagraphComponent =\n/** @class */\nfunction (_super) {\n  __extends(ParagraphComponent, _super);\n\n  function ParagraphComponent() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  ParagraphComponent.prototype.buildModelNode = function (partId, id, text, attributes, children) {\n    return new ModelParagraph(this.id, id, attributes, children);\n  };\n\n  ParagraphComponent.prototype.buildRenderNode = function (partId, modelId, text, attributes, children) {\n    switch (partId) {\n      case 'paragraph':\n        return new RenderParagraph(this.id, modelId, attributes, children);\n\n      default:\n        throw new Error('Invalid part ID.');\n    }\n  };\n\n  ParagraphComponent.prototype.buildViewNode = function (domContainer, partId, renderId, layoutId, text, style, children, width, height, paddingTop, paddingBottom, paddingLeft, paddingRight) {\n    var domService = this.serviceRegistry.getService('dom');\n\n    switch (partId) {\n      case 'paragraph':\n        return new ViewParagraph(domContainer, this.id, renderId, layoutId, style, children, width, height, paddingTop, paddingBottom, paddingLeft, paddingRight, domService);\n\n      case 'line-break':\n        return new ViewParagraphLineBreak(domContainer, this.id, renderId, layoutId, domService);\n\n      default:\n        throw new Error('Invalid part ID.');\n    }\n  };\n\n  return ParagraphComponent;\n}(Component);\n\nexport { ParagraphComponent };","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { ModelNode } from './node';\n\nvar ModelLeaf =\n/** @class */\nfunction (_super) {\n  __extends(ModelLeaf, _super);\n\n  function ModelLeaf(componentId, id, text, attributes) {\n    return _super.call(this, componentId, id, text, attributes, []) || this;\n  }\n\n  Object.defineProperty(ModelLeaf.prototype, \"root\", {\n    get: function get() {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ModelLeaf.prototype, \"leaf\", {\n    get: function get() {\n      return true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return ModelLeaf;\n}(ModelNode);\n\nexport { ModelLeaf };","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { ModelLeaf } from '../../model/leaf';\nimport { RenderText as AbstractRenderText } from '../../render/text';\nimport { ViewText as AbstractViewText } from '../../view/text';\nimport { Component } from '../component';\n\nvar ModelText =\n/** @class */\nfunction (_super) {\n  __extends(ModelText, _super);\n\n  function ModelText() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Object.defineProperty(ModelText.prototype, \"partId\", {\n    get: function get() {\n      return 'text';\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  ModelText.prototype.canJoin = function (node) {\n    if (this.componentId !== node.componentId) {\n      return false;\n    }\n\n    if (this.partId !== node.partId) {\n      return false;\n    }\n\n    if (JSON.stringify(this.attributes) !== JSON.stringify(node.attributes)) {\n      return false;\n    }\n\n    return true;\n  };\n\n  ModelText.prototype.toDOM = function (from, to) {\n    var $component = document.createElement('span');\n    $component.innerText = this.text.substring(from - 1, to - 1);\n    return $component;\n  };\n\n  return ModelText;\n}(ModelLeaf);\n\nexport { ModelText };\n\nvar RenderText =\n/** @class */\nfunction (_super) {\n  __extends(RenderText, _super);\n\n  function RenderText(componentId, modelId, textService, text, attributes) {\n    var _this = _super.call(this, componentId, modelId, text, attributes) || this;\n\n    _this.textService = textService;\n    return _this;\n  }\n\n  Object.defineProperty(RenderText.prototype, \"partId\", {\n    get: function get() {\n      return 'text';\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderText.prototype, \"pseudo\", {\n    get: function get() {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderText.prototype, \"paddingTop\", {\n    get: function get() {\n      return 0;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderText.prototype, \"paddingBottom\", {\n    get: function get() {\n      return 0;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderText.prototype, \"paddingLeft\", {\n    get: function get() {\n      return 0;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderText.prototype, \"paddingRight\", {\n    get: function get() {\n      return 0;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderText.prototype, \"style\", {\n    get: function get() {\n      return this.textService.applyDefaultFont(this.attributes);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderText.prototype, \"font\", {\n    get: function get() {\n      return this.style;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return RenderText;\n}(AbstractRenderText);\n\nexport { RenderText };\n\nvar ViewText =\n/** @class */\nfunction (_super) {\n  __extends(ViewText, _super);\n\n  function ViewText(domContainer, componentId, renderId, layoutId, text, style, width, height, paddingTop, paddingBottom, paddingLeft, paddingRight, domService) {\n    var _this = _super.call(this, domContainer, componentId, renderId, layoutId, text, style, domService) || this;\n\n    _this.domContainer.style.display = 'inline-block';\n    _this.domContainer.style.whiteSpace = 'pre';\n    _this.domContainer.style.lineHeight = '1em';\n    _this.domContainer.style.width = width + \"px\";\n    _this.domContainer.style.height = height + \"px\";\n    _this.domContainer.style.paddingTop = paddingTop + \"px\";\n    _this.domContainer.style.paddingBottom = paddingBottom + \"px\";\n    _this.domContainer.style.paddingLeft = paddingLeft + \"px\";\n    _this.domContainer.style.paddingRight = paddingRight + \"px\";\n    _this.domContainer.style.fontFamily = style.family;\n    _this.domContainer.style.fontSize = style.size + \"px\";\n    _this.domContainer.style.letterSpacing = style.letterSpacing + \"px\";\n    _this.domContainer.style.fontWeight = \"\" + style.weight;\n    _this.domContainer.style.color = style.color;\n    _this.domContainer.style.textDecoration = style.underline ? 'underline' : '';\n    _this.domContainer.style.fontStyle = style.italic ? 'italic' : '';\n    _this.domContainer.innerHTML = '';\n\n    var domContentContainer = _this.findOrCreateDOMContentContainer();\n\n    domContentContainer.setAttribute('data-tw-role', 'content-container');\n    domContentContainer.style.textDecoration = style.strikethrough ? 'line-through' : '';\n    domContentContainer.innerHTML = text;\n\n    _this.domContainer.appendChild(domContentContainer);\n\n    return _this;\n  }\n\n  Object.defineProperty(ViewText.prototype, \"partId\", {\n    get: function get() {\n      return 'text';\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  ViewText.prototype.findOrCreateDOMContentContainer = function () {\n    for (var n = 0, nn = this.domContainer.children.length; n < nn; n++) {\n      var child = this.domContainer.children[n];\n\n      if (child.getAttribute('data-tw-role') === 'content-container') {\n        return child;\n      }\n    }\n\n    return this.domService.createElement('span');\n  };\n\n  return ViewText;\n}(AbstractViewText);\n\nexport { ViewText };\n\nvar TextComponent =\n/** @class */\nfunction (_super) {\n  __extends(TextComponent, _super);\n\n  function TextComponent() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  TextComponent.prototype.buildModelNode = function (partId, id, text, attributes, children) {\n    return new ModelText(this.id, id, text, attributes);\n  };\n\n  TextComponent.prototype.buildRenderNode = function (partId, modelId, text, attributes, children) {\n    var textService = this.serviceRegistry.getService('text');\n\n    switch (partId) {\n      case 'text':\n        return new RenderText(this.id, modelId, textService, text, attributes);\n\n      default:\n        throw new Error('Invalid part ID.');\n    }\n  };\n\n  TextComponent.prototype.buildViewNode = function (domContainer, partId, renderId, layoutId, text, style, children, width, height, paddingTop, paddingBottom, paddingLeft, paddingRight) {\n    var domService = this.serviceRegistry.getService('dom');\n\n    switch (partId) {\n      case 'text':\n        return new ViewText(domContainer, this.id, renderId, layoutId, text, style, width, height, paddingTop, paddingBottom, paddingLeft, paddingRight, domService);\n\n      default:\n        throw new Error('Invalid part ID.');\n    }\n  };\n\n  return TextComponent;\n}(Component);\n\nexport { TextComponent };","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { ViewNode } from './node';\n\nvar ViewLine =\n/** @class */\nfunction (_super) {\n  __extends(ViewLine, _super);\n\n  function ViewLine(domContainer, componentId, layoutId, children, domService) {\n    var _this = _super.call(this, domContainer, componentId, null, layoutId, '', null, children, domService) || this;\n\n    _this.layoutId = layoutId;\n    return _this;\n  }\n\n  Object.defineProperty(ViewLine.prototype, \"type\", {\n    get: function get() {\n      return 'line';\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ViewLine.prototype, \"root\", {\n    get: function get() {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ViewLine.prototype, \"leaf\", {\n    get: function get() {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return ViewLine;\n}(ViewNode);\n\nexport { ViewLine };","var LineComponent =\n/** @class */\nfunction () {\n  function LineComponent(id, serviceRegistry) {\n    this.id = id;\n    this.serviceRegistry = serviceRegistry;\n  }\n\n  return LineComponent;\n}();\n\nexport { LineComponent };","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { ViewLine as AbstractViewLine } from '../../view/line';\nimport { LineComponent as AbstractLineComponent } from '../line-component';\n\nvar ViewLine =\n/** @class */\nfunction (_super) {\n  __extends(ViewLine, _super);\n\n  function ViewLine(domContainer, componentId, layoutId, children, width, height, paddingTop, paddingBottom, paddingLeft, paddingRight, domService) {\n    var _this = _super.call(this, domContainer, componentId, layoutId, children, domService) || this;\n\n    _this.width = width;\n    _this.height = height;\n    _this.paddingTop = paddingTop;\n    _this.paddingBottom = paddingBottom;\n    _this.paddingLeft = paddingLeft;\n    _this.paddingRight = paddingRight;\n    _this.domContainer.style.width = width + \"px\";\n    _this.domContainer.style.height = height + \"px\";\n    _this.domContainer.style.paddingTop = paddingTop + \"px\";\n    _this.domContainer.style.paddingBottom = paddingBottom + \"px\";\n    _this.domContainer.style.paddingLeft = paddingLeft + \"px\";\n    _this.domContainer.style.paddingRight = paddingRight + \"px\";\n    _this.domContainer.innerHTML = '';\n    children.map(function (child) {\n      return _this.domContainer.appendChild(child.domContainer);\n    });\n    return _this;\n  }\n\n  Object.defineProperty(ViewLine.prototype, \"partId\", {\n    get: function get() {\n      return 'line';\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ViewLine.prototype, \"domContentContainer\", {\n    get: function get() {\n      return this.domContainer;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return ViewLine;\n}(AbstractViewLine);\n\nexport { ViewLine };\n\nvar LineComponent =\n/** @class */\nfunction (_super) {\n  __extends(LineComponent, _super);\n\n  function LineComponent() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  LineComponent.prototype.buildViewNode = function (domContainer, layoutId, children, width, height, paddingTop, paddingBottom, paddingLeft, paddingRight) {\n    var domService = this.serviceRegistry.getService('dom');\n    return new ViewLine(domContainer, this.id, layoutId, children, width, height, paddingTop, paddingBottom, paddingLeft, paddingRight, domService);\n  };\n\n  return LineComponent;\n}(AbstractLineComponent);\n\nexport { LineComponent };","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { ViewNode } from './node';\n\nvar ViewPage =\n/** @class */\nfunction (_super) {\n  __extends(ViewPage, _super);\n\n  function ViewPage(domContainer, componentId, layoutId, children, domService) {\n    var _this = _super.call(this, domContainer, componentId, null, layoutId, '', null, children, domService) || this;\n\n    _this.layoutId = layoutId;\n    return _this;\n  }\n\n  Object.defineProperty(ViewPage.prototype, \"type\", {\n    get: function get() {\n      return 'page';\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ViewPage.prototype, \"root\", {\n    get: function get() {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ViewPage.prototype, \"leaf\", {\n    get: function get() {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return ViewPage;\n}(ViewNode);\n\nexport { ViewPage };","var PageComponent =\n/** @class */\nfunction () {\n  function PageComponent(id, serviceRegistry) {\n    this.id = id;\n    this.serviceRegistry = serviceRegistry;\n  }\n\n  return PageComponent;\n}();\n\nexport { PageComponent };","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { ViewPage as AbstractViewPage } from '../../view/page';\nimport { PageComponent as AbstractPageComponent } from '../page-component';\n\nvar ViewPage =\n/** @class */\nfunction (_super) {\n  __extends(ViewPage, _super);\n\n  function ViewPage(domContainer, componentId, layoutId, children, width, height, paddingTop, paddingBottom, paddingLeft, paddingRight, domService) {\n    var _this = _super.call(this, domContainer, componentId, layoutId, children, domService) || this;\n\n    _this.domContainer.style.position = 'relative';\n    _this.domContainer.style.marginLeft = 'auto';\n    _this.domContainer.style.marginRight = 'auto';\n    _this.domContainer.style.width = width + \"px\";\n    _this.domContainer.style.height = height + \"px\";\n    _this.domContainer.style.paddingTop = paddingTop + \"px\";\n    _this.domContainer.style.paddingBottom = paddingBottom + \"px\";\n    _this.domContainer.style.paddingLeft = paddingLeft + \"px\";\n    _this.domContainer.style.paddingRight = paddingRight + \"px\";\n    _this.domContainer.innerHTML = '';\n    _this.domContentContainer = _this.findOrCreateDOMContentContainer();\n\n    _this.domContentContainer.setAttribute('data-tw-role', 'content-container');\n\n    children.map(function (child) {\n      return _this.domContentContainer.appendChild(child.domContainer);\n    });\n\n    _this.domContainer.appendChild(_this.domContentContainer);\n\n    return _this;\n  }\n\n  Object.defineProperty(ViewPage.prototype, \"partId\", {\n    get: function get() {\n      return 'page';\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  ViewPage.prototype.findOrCreateDOMContentContainer = function () {\n    for (var n = 0, nn = this.domContainer.children.length; n < nn; n++) {\n      var child = this.domContainer.children[n];\n\n      if (child.getAttribute('data-tw-role') === 'content-container') {\n        return child;\n      }\n    }\n\n    return this.domService.createElement('div');\n  };\n\n  return ViewPage;\n}(AbstractViewPage);\n\nexport { ViewPage };\n\nvar PageComponent =\n/** @class */\nfunction (_super) {\n  __extends(PageComponent, _super);\n\n  function PageComponent() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  PageComponent.prototype.buildViewNode = function (domContainer, layoutId, children, width, height, paddingTop, paddingBottom, paddingLeft, paddingRight) {\n    var domService = this.serviceRegistry.getService('dom');\n    return new ViewPage(domContainer, this.id, layoutId, children, width, height, paddingTop, paddingBottom, paddingLeft, paddingRight, domService);\n  };\n\n  return PageComponent;\n}(AbstractPageComponent);\n\nexport { PageComponent };","var ComponentRegistry =\n/** @class */\nfunction () {\n  function ComponentRegistry() {\n    this.componentsMap = new Map();\n  }\n\n  ComponentRegistry.prototype.registerComponent = function (componentId, component) {\n    this.componentsMap.set(componentId, component);\n  };\n\n  ComponentRegistry.prototype.registerPageComponent = function (pageComponent) {\n    this.pageComponent = pageComponent;\n  };\n\n  ComponentRegistry.prototype.registerLineComponent = function (lineComponent) {\n    this.lineComponent = lineComponent;\n  };\n\n  ComponentRegistry.prototype.getComponent = function (componentId) {\n    var component = this.componentsMap.get(componentId);\n\n    if (!component) {\n      throw new Error(\"Component \" + componentId + \" is not registered.\");\n    }\n\n    return component;\n  };\n\n  ComponentRegistry.prototype.getPageComponent = function () {\n    if (!this.pageComponent) {\n      throw new Error('Page component is not registered.');\n    }\n\n    return this.pageComponent;\n  };\n\n  ComponentRegistry.prototype.getLineComponent = function () {\n    if (!this.lineComponent) {\n      throw new Error('Line component is not registered.');\n    }\n\n    return this.lineComponent;\n  };\n\n  return ComponentRegistry;\n}();\n\nexport { ComponentRegistry };","import { LineComponent } from './components/line';\nimport { PageComponent } from './components/page';\nimport { ComponentRegistry } from './registry';\n\nvar ComponentService =\n/** @class */\nfunction () {\n  function ComponentService(configService, serviceRegistry) {\n    this.configService = configService;\n    this.serviceRegistry = serviceRegistry;\n    this.registry = new ComponentRegistry();\n\n    for (var _i = 0, _a = Object.entries(configService.getConfig().components); _i < _a.length; _i++) {\n      var _b = _a[_i],\n          componentId = _b[0],\n          Component = _b[1];\n      this.registry.registerComponent(componentId, new Component(componentId, serviceRegistry));\n    }\n\n    this.registry.registerPageComponent(new PageComponent('page', serviceRegistry));\n    this.registry.registerLineComponent(new LineComponent('line', serviceRegistry));\n  }\n\n  ComponentService.prototype.getComponent = function (componentId) {\n    return this.registry.getComponent(componentId);\n  };\n\n  ComponentService.prototype.getPageComponent = function () {\n    return this.registry.getPageComponent();\n  };\n\n  ComponentService.prototype.getLineComponent = function () {\n    return this.registry.getLineComponent();\n  };\n\n  return ComponentService;\n}();\n\nexport { ComponentService };","var ConfigService =\n/** @class */\nfunction () {\n  function ConfigService(config, externalConfig) {\n    this.config = config;\n    this.applyExternalConfig(externalConfig);\n  }\n\n  ConfigService.prototype.getConfig = function () {\n    return this.config;\n  };\n\n  ConfigService.prototype.applyExternalConfig = function (externalConfig) {\n    var coreConfig = externalConfig['tw.core'];\n\n    if (coreConfig) {\n      if (coreConfig.page) {\n        this.config.page = coreConfig.page;\n      }\n    }\n  };\n\n  return ConfigService;\n}();\n\nexport { ConfigService };","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport { EventEmitter } from '../event/emitter';\n\nvar CursorState =\n/** @class */\nfunction () {\n  function CursorState(configService, renderService, modelService) {\n    this.renderService = renderService;\n    this.modelService = modelService;\n    this.internalCursor = null;\n    this.didUpdateEventEmitter = new EventEmitter();\n\n    if (!configService.getConfig().cursor.disable) {\n      this.internalCursor = {\n        anchor: 0,\n        head: 0,\n        leftLock: 0\n      };\n    }\n  }\n\n  Object.defineProperty(CursorState.prototype, \"hasCursor\", {\n    get: function get() {\n      return !!this.internalCursor;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CursorState.prototype, \"cursor\", {\n    get: function get() {\n      this.assertCursor();\n      return __assign({}, this.internalCursor);\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  CursorState.prototype.set = function (anchor, head) {\n    this.assertCursor();\n    this.internalCursor = {\n      anchor: anchor,\n      head: head,\n      leftLock: this.internalCursor.leftLock\n    };\n    this.didUpdateEventEmitter.emit({});\n  };\n\n  CursorState.prototype.setLeftLock = function (leftLock) {\n    this.assertCursor();\n    this.internalCursor = {\n      anchor: this.internalCursor.anchor,\n      head: this.internalCursor.head,\n      leftLock: leftLock\n    };\n  };\n\n  CursorState.prototype.onDidUpdate = function (listener) {\n    return this.didUpdateEventEmitter.on(listener);\n  };\n\n  CursorState.prototype.assertCursor = function () {\n    if (!this.internalCursor) {\n      throw new Error('Cursor is disabled.');\n    }\n  };\n\n  return CursorState;\n}();\n\nexport { CursorState };","import { CursorState } from './state';\n\nvar CursorService =\n/** @class */\nfunction () {\n  function CursorService(configService, renderService, modelService) {\n    this.state = new CursorState(configService, renderService, modelService);\n  }\n\n  CursorService.prototype.hasCursor = function () {\n    return this.state.hasCursor;\n  };\n\n  CursorService.prototype.getCursor = function () {\n    return this.state.cursor;\n  };\n\n  CursorService.prototype.setCursor = function (anchor, head) {\n    this.state.set(anchor, head);\n  };\n\n  CursorService.prototype.setLeftLock = function (leftLock) {\n    this.state.setLeftLock(leftLock);\n  };\n\n  CursorService.prototype.onDidUpdate = function (listener) {\n    return this.state.onDidUpdate(listener);\n  };\n\n  return CursorService;\n}();\n\nexport { CursorService };","var DOMService =\n/** @class */\nfunction () {\n  function DOMService() {}\n\n  DOMService.prototype.getWindow = function () {\n    return window;\n  };\n\n  DOMService.prototype.getDocument = function () {\n    return document;\n  };\n\n  DOMService.prototype.getBody = function () {\n    return document.body;\n  };\n\n  DOMService.prototype.createElement = function (tagName) {\n    return document.createElement(tagName);\n  };\n\n  DOMService.prototype.createContainer = function () {\n    var container = this.createElement('div');\n    container.setAttribute('data-tw-role', 'container');\n    return container;\n  };\n\n  DOMService.prototype.createHiddenIframe = function () {\n    var iframe = this.createElement('iframe');\n    iframe.scrolling = 'no';\n    iframe.src = 'about:blank';\n    iframe.style.width = '0';\n    iframe.style.height = '0';\n    iframe.style.border = 'none';\n    iframe.style.position = 'fixed';\n    iframe.style.zIndex = '-1';\n    iframe.style.opacity = '0';\n    iframe.style.overflow = 'hidden';\n    iframe.style.left = '-1000000px';\n    iframe.style.top = '-1000000px';\n    return iframe;\n  };\n\n  DOMService.prototype.createMutationObserver = function (callback) {\n    return new MutationObserver(callback);\n  };\n\n  return DOMService;\n}();\n\nexport { DOMService };","var HistoryAction =\n/** @class */\nfunction () {\n  function HistoryAction() {\n    this.internalTransformationResults = [];\n    this.beganAt = Date.now();\n    this.internalEndedAt = this.beganAt;\n  }\n\n  Object.defineProperty(HistoryAction.prototype, \"endedAt\", {\n    get: function get() {\n      return this.internalEndedAt;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(HistoryAction.prototype, \"transformationResults\", {\n    get: function get() {\n      return this.internalTransformationResults;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  HistoryAction.prototype.recordTransformationResult = function (transformationResult) {\n    this.transformationResults.push(transformationResult);\n    this.internalEndedAt = Date.now();\n  };\n\n  return HistoryAction;\n}();\n\nexport { HistoryAction };","import { HistoryAction } from './action';\n\nvar HistoryState =\n/** @class */\nfunction () {\n  function HistoryState(configService, transformService) {\n    var _this = this;\n\n    this.configService = configService;\n    this.transformService = transformService;\n    this.actions = [];\n    this.offset = -1;\n\n    this.handleDidApplyTransformation = function (event) {\n      var result = event.result; // Do not record undo\n\n      if (_this.offset + 1 < _this.actions.length && _this.actions[_this.offset + 1].transformationResults.some(function (tnResult) {\n        return tnResult.reverseTransformation === result.transformation;\n      })) {\n        return;\n      } // Do not record redo\n\n\n      if (_this.offset >= 0 && _this.actions[_this.offset].transformationResults.some(function (tnResult) {\n        return tnResult.transformation === result.transformation;\n      })) {\n        return;\n      }\n\n      if (_this.offset < 0) {\n        _this.recordToNewAction(result);\n\n        return;\n      }\n\n      var currentItem = _this.actions[_this.offset];\n      var now = Date.now();\n\n      if (now - currentItem.beganAt < _this.maxCollapseDuration && now - currentItem.endedAt < _this.collapseThreshold) {\n        _this.recordToLastAction(result);\n      } else {\n        _this.recordToNewAction(result);\n      }\n    };\n\n    var config = configService.getConfig();\n    this.maxCollapseDuration = config.history.maxCollapseDuration;\n    this.collapseThreshold = config.history.collapseThreshold;\n    transformService.onDidApplyTransformation(this.handleDidApplyTransformation);\n  }\n\n  HistoryState.prototype.undo = function () {\n    var action = this.consumeNextUndoableAction();\n\n    if (!action) {\n      return;\n    }\n\n    var results = action.transformationResults;\n\n    if (results.length === 0) {\n      return;\n    }\n\n    for (var n = results.length - 1; n >= 0; n--) {\n      var result = results[n];\n      this.transformService.applyTransformation(result.reverseTransformation);\n    }\n  };\n\n  HistoryState.prototype.redo = function () {\n    var _this = this;\n\n    var action = this.consumeNextRedoableAction();\n\n    if (!action) {\n      return;\n    }\n\n    action.transformationResults.forEach(function (result) {\n      return _this.transformService.applyTransformation(result.transformation);\n    });\n  };\n\n  HistoryState.prototype.consumeNextUndoableAction = function () {\n    if (this.offset < 0) {\n      return undefined;\n    }\n\n    var action = this.actions[this.offset];\n    this.offset--;\n    return action;\n  };\n\n  HistoryState.prototype.consumeNextRedoableAction = function () {\n    if (this.offset >= this.actions.length - 1) {\n      return undefined;\n    }\n\n    this.offset++;\n    return this.actions[this.offset];\n  };\n\n  HistoryState.prototype.recordToNewAction = function (result) {\n    if (result.changeResults.length === 0) {\n      return;\n    }\n\n    if (this.offset < this.actions.length - 1) {\n      this.actions.splice(this.offset + 1, this.actions.length - 1 - this.offset);\n    }\n\n    var action = new HistoryAction();\n    action.recordTransformationResult(result);\n    this.actions.push(action);\n    this.offset++;\n  };\n\n  HistoryState.prototype.recordToLastAction = function (result) {\n    var action = this.actions[this.offset];\n\n    if (!action) {\n      throw new Error('Error recording applied transformation, history is empty.');\n    }\n\n    if (this.offset < this.actions.length - 1) {\n      this.actions.splice(this.offset + 1, this.actions.length - 1 - this.offset);\n    }\n\n    action.recordTransformationResult(result);\n  };\n\n  return HistoryState;\n}();\n\nexport { HistoryState };","import { HistoryState } from './state';\n\nvar HistoryService =\n/** @class */\nfunction () {\n  function HistoryService(configService, transformService) {\n    this.state = new HistoryState(configService, transformService);\n  }\n\n  HistoryService.prototype.undo = function () {\n    this.state.undo();\n  };\n\n  HistoryService.prototype.redo = function () {\n    this.state.redo();\n  };\n\n  return HistoryService;\n}();\n\nexport { HistoryService };","export function detectPlatform() {\n  if (navigator.platform.startsWith('Linux')) {\n    return 'Linux';\n  }\n\n  if (['Windows', 'Win16', 'Win32'].includes(navigator.platform)) {\n    return 'Windows';\n  }\n\n  if (['Macintosh', 'MacIntel', 'MacPPC', 'Mac68K'].includes(navigator.platform)) {\n    return 'macOS';\n  }\n\n  return 'Unknown';\n}","var __spreadArrays = this && this.__spreadArrays || function () {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) {\n    s += arguments[i].length;\n  }\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) {\n    for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) {\n      r[k] = a[j];\n    }\n  }\n\n  return r;\n};\n\nimport { detectPlatform } from '../util/platform';\n\nvar KeyBindingService =\n/** @class */\nfunction () {\n  function KeyBindingService(configService, commandService, viewService) {\n    var _this = this;\n\n    this.configService = configService;\n    this.commandService = commandService;\n    this.viewService = viewService;\n    this.keyBindings = new Map();\n\n    this.handleDidPressKey = function (event) {\n      var _a;\n\n      var keyBinding = _this.keyBindings.get(event.key);\n\n      if (!keyBinding) {\n        return;\n      }\n\n      if (keyBinding.preventDefault) {\n        event.originalKeyboardEvent.preventDefault();\n      }\n\n      (_a = _this.commandService).executeCommand.apply(_a, __spreadArrays([keyBinding.command], keyBinding.args));\n    };\n\n    var keyBindingsConfig = this.configService.getConfig().keyBindings;\n    this.bindKeys(keyBindingsConfig.common);\n\n    switch (detectPlatform()) {\n      case 'macOS':\n        if (keyBindingsConfig.macos) {\n          this.bindKeys(keyBindingsConfig.macos);\n        }\n\n        break;\n\n      case 'Windows':\n        if (keyBindingsConfig.windows) {\n          this.bindKeys(keyBindingsConfig.windows);\n        }\n\n        break;\n\n      case 'Linux':\n        if (keyBindingsConfig.linux) {\n          this.bindKeys(keyBindingsConfig.linux);\n        }\n\n        break;\n    }\n\n    viewService.onDidPressKey(this.handleDidPressKey);\n  }\n\n  KeyBindingService.prototype.bindKeys = function (config) {\n    for (var key in config) {\n      var binding = config[key];\n      this.keyBindings.set(key, {\n        command: binding.command,\n        args: binding.args || [],\n        preventDefault: binding.preventDefault || false\n      });\n    }\n  };\n\n  return KeyBindingService;\n}();\n\nexport { KeyBindingService };","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { Node } from '../tree/node';\nimport { NodeList } from '../tree/node-list';\nimport { Position } from '../tree/position';\nimport { generateId } from '../util/id';\n\nvar LayoutNode =\n/** @class */\nfunction (_super) {\n  __extends(LayoutNode, _super);\n\n  function LayoutNode(renderId, text, children, paddingTop, paddingBottom, paddingLeft, paddingRight) {\n    var _this = _super.call(this, generateId()) || this;\n\n    _this.renderId = renderId;\n    _this.text = text;\n    _this.paddingTop = paddingTop;\n    _this.paddingBottom = paddingBottom;\n    _this.paddingLeft = paddingLeft;\n    _this.paddingRight = paddingRight;\n    _this.internalNeedView = true;\n    _this.internalChildren = new NodeList(children);\n    children.forEach(function (child) {\n      child.parent = _this;\n    });\n    return _this;\n  }\n\n  Object.defineProperty(LayoutNode.prototype, \"size\", {\n    get: function get() {\n      if (this.internalSize === undefined) {\n        if (this.leaf) {\n          this.internalSize = this.text.length;\n        } else {\n          this.internalSize = this.children.reduce(function (size, child) {\n            return size + child.size;\n          }, 0);\n        }\n      }\n\n      return this.internalSize;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(LayoutNode.prototype, \"paddingVertical\", {\n    get: function get() {\n      return this.paddingTop + this.paddingBottom;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(LayoutNode.prototype, \"paddingHorizontal\", {\n    get: function get() {\n      return this.paddingLeft + this.paddingRight;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(LayoutNode.prototype, \"innerWidth\", {\n    get: function get() {\n      return this.width - this.paddingHorizontal;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(LayoutNode.prototype, \"innerHeight\", {\n    get: function get() {\n      return this.height - this.paddingVertical;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(LayoutNode.prototype, \"needView\", {\n    get: function get() {\n      return this.internalNeedView;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  LayoutNode.prototype.clearNeedView = function () {\n    this.internalNeedView = false;\n  };\n\n  LayoutNode.prototype.resolvePosition = function (offset) {\n    if (offset < 0 || offset >= this.size) {\n      throw new Error(\"Offset \" + offset + \" is out of range.\");\n    }\n\n    if (this.leaf) {\n      return new LayoutPosition([{\n        node: this,\n        offset: offset,\n        index: offset\n      }]);\n    }\n\n    var cumulatedOffset = 0;\n\n    for (var n = 0, nn = this.children.length; n < nn; n++) {\n      var child = this.children.at(n);\n      var childSize = child.size;\n\n      if (cumulatedOffset + childSize > offset) {\n        var childPosition = child.resolvePosition(offset - cumulatedOffset);\n        var depths = [{\n          node: this,\n          offset: offset,\n          index: n\n        }];\n\n        for (var m = 0; m < childPosition.depth; m++) {\n          depths.push(childPosition.atDepth(m));\n        }\n\n        return new LayoutPosition(depths);\n      }\n\n      cumulatedOffset += childSize;\n    }\n\n    throw new Error('Offset cannot be resolved.');\n  };\n\n  return LayoutNode;\n}(Node);\n\nexport { LayoutNode };\n\nvar LayoutPosition =\n/** @class */\nfunction (_super) {\n  __extends(LayoutPosition, _super);\n\n  function LayoutPosition() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  LayoutPosition.prototype.atLineDepth = function () {\n    for (var n = this.depth - 1; n >= 0; n--) {\n      var depth = this.atDepth(n);\n\n      if (depth.node.type === 'line') {\n        return depth;\n      }\n    }\n\n    throw new Error('Line depth not found.');\n  };\n\n  LayoutPosition.prototype.atBlockDepth = function () {\n    for (var n = this.depth - 1; n >= 0; n--) {\n      var depth = this.atDepth(n);\n\n      if (depth.node.type === 'block') {\n        return depth;\n      }\n    }\n\n    throw new Error('Block depth not found.');\n  };\n\n  return LayoutPosition;\n}(Position);\n\nexport { LayoutPosition };","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { LayoutNode } from './node';\n\nvar LayoutAtom =\n/** @class */\nfunction (_super) {\n  __extends(LayoutAtom, _super);\n\n  function LayoutAtom(renderId, width, height) {\n    var _this = _super.call(this, renderId, ' ', [], 0, 0, 0, 0) || this;\n\n    _this.width = width;\n    _this.height = height;\n    return _this;\n  }\n\n  Object.defineProperty(LayoutAtom.prototype, \"type\", {\n    get: function get() {\n      return 'atom';\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(LayoutAtom.prototype, \"root\", {\n    get: function get() {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(LayoutAtom.prototype, \"leaf\", {\n    get: function get() {\n      return true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  LayoutAtom.prototype.convertCoordinatesToOffset = function (x, y) {\n    if (x < this.innerWidth / 2) {\n      return 0;\n    }\n\n    return 1;\n  };\n\n  LayoutAtom.prototype.resolveBoundingBoxes = function (from, to) {\n    if (from < 0 || to > this.size || from > to) {\n      throw new Error('Invalid range.');\n    }\n\n    return {\n      node: this,\n      boundingBoxes: [{\n        from: from,\n        to: to,\n        width: from === to ? 0 : this.innerWidth,\n        height: this.innerHeight,\n        left: from === 0 ? this.paddingLeft : this.paddingLeft + this.innerWidth,\n        right: to === 1 ? this.paddingRight : this.paddingRight + this.innerWidth,\n        top: this.paddingTop,\n        bottom: this.paddingBottom\n      }],\n      children: []\n    };\n  };\n\n  return LayoutAtom;\n}(LayoutNode);\n\nexport { LayoutAtom };","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { LayoutNode } from './node';\n\nvar LayoutBlock =\n/** @class */\nfunction (_super) {\n  __extends(LayoutBlock, _super);\n\n  function LayoutBlock(renderId, children, width, paddingTop, paddingBottom, paddingLeft, paddingRight) {\n    var _this = _super.call(this, renderId, '', children, paddingTop, paddingBottom, paddingLeft, paddingRight) || this;\n\n    _this.width = width;\n    return _this;\n  }\n\n  Object.defineProperty(LayoutBlock.prototype, \"type\", {\n    get: function get() {\n      return 'block';\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(LayoutBlock.prototype, \"root\", {\n    get: function get() {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(LayoutBlock.prototype, \"leaf\", {\n    get: function get() {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(LayoutBlock.prototype, \"height\", {\n    get: function get() {\n      if (this.internalHeight === undefined) {\n        this.internalHeight = this.children.reduce(function (height, child) {\n          return height + child.height;\n        }, this.paddingVertical);\n      }\n\n      return this.internalHeight;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  LayoutBlock.prototype.convertCoordinatesToOffset = function (x, y) {\n    var offset = 0;\n    var cumulatedHeight = 0;\n\n    for (var n = 0, nn = this.children.length; n < nn; n++) {\n      var child = this.children.at(n);\n      var childHeight = child.height;\n\n      if (y >= cumulatedHeight && y <= cumulatedHeight + childHeight) {\n        offset += child.convertCoordinatesToOffset(x, 0);\n        break;\n      }\n\n      offset += child.size;\n      cumulatedHeight += childHeight;\n    }\n\n    if (offset === this.size) {\n      var lastChild = this.lastChild;\n\n      if (lastChild) {\n        offset -= lastChild.size;\n        offset += lastChild.convertCoordinatesToOffset(x, lastChild.height);\n      }\n    }\n\n    return offset;\n  };\n\n  LayoutBlock.prototype.resolveBoundingBoxes = function (from, to) {\n    var _this = this;\n\n    if (from < 0 || to > this.size || from > to) {\n      throw new Error('Invalid range.');\n    }\n\n    var childResults = [];\n    var boundingBoxes = [];\n    var cumulatedOffset = 0;\n    var cumulatedHeight = 0;\n    this.children.forEach(function (child) {\n      if (cumulatedOffset + child.size > from && cumulatedOffset <= to) {\n        var childFrom_1 = Math.max(0, from - cumulatedOffset);\n        var childTo_1 = Math.min(child.size, to - cumulatedOffset);\n        var childResult = child.resolveBoundingBoxes(childFrom_1, childTo_1);\n        childResults.push(childResult);\n        childResult.boundingBoxes.forEach(function (boundingBox) {\n          boundingBoxes.push({\n            from: cumulatedOffset + childFrom_1,\n            to: cumulatedOffset + childTo_1,\n            width: boundingBox.width,\n            height: boundingBox.height,\n            top: cumulatedHeight + _this.paddingTop + boundingBox.top,\n            bottom: _this.height - _this.paddingTop - cumulatedHeight - child.height + boundingBox.bottom,\n            left: boundingBox.left,\n            right: boundingBox.right\n          });\n        });\n      }\n\n      cumulatedOffset += child.size;\n      cumulatedHeight += child.height;\n    });\n    return {\n      node: this,\n      boundingBoxes: boundingBoxes,\n      children: childResults\n    };\n  };\n\n  return LayoutBlock;\n}(LayoutNode);\n\nexport { LayoutBlock };","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { LayoutNode } from './node';\n\nvar LayoutDoc =\n/** @class */\nfunction (_super) {\n  __extends(LayoutDoc, _super);\n\n  function LayoutDoc(renderId, children, width, height, paddingTop, paddingBottom, paddingLeft, paddingRight) {\n    var _this = _super.call(this, renderId, '', children, paddingTop, paddingBottom, paddingLeft, paddingRight) || this;\n\n    _this.width = width;\n    _this.height = height;\n    return _this;\n  }\n\n  Object.defineProperty(LayoutDoc.prototype, \"type\", {\n    get: function get() {\n      return 'doc';\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(LayoutDoc.prototype, \"root\", {\n    get: function get() {\n      return true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(LayoutDoc.prototype, \"leaf\", {\n    get: function get() {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  LayoutDoc.prototype.convertCoordinatesToOffset = function (x, y) {\n    throw new Error('Use page to convert coordinates to offset.');\n  };\n\n  LayoutDoc.prototype.resolveBoundingBoxes = function (from, to) {\n    if (from < 0 || to > this.size || from > to) {\n      throw new Error('Invalid range.');\n    }\n\n    var childResults = [];\n    var cumulatedOffset = 0;\n    this.children.forEach(function (child) {\n      if (cumulatedOffset + child.size > from && cumulatedOffset <= to) {\n        var childFrom = Math.max(0, from - cumulatedOffset);\n        var childTo = Math.min(child.size, to - cumulatedOffset);\n        var childResult = child.resolveBoundingBoxes(childFrom, childTo);\n        childResults.push(childResult);\n      }\n\n      cumulatedOffset += child.size;\n    });\n    return {\n      node: this,\n      boundingBoxes: [],\n      children: childResults\n    };\n  };\n\n  return LayoutDoc;\n}(LayoutNode);\n\nexport { LayoutDoc };","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { LayoutNode } from './node';\n\nvar LayoutLine =\n/** @class */\nfunction (_super) {\n  __extends(LayoutLine, _super);\n\n  function LayoutLine(children, width) {\n    var _this = _super.call(this, null, '', children, 0, 8, 0, 0) || this;\n\n    _this.width = width;\n    return _this;\n  }\n\n  Object.defineProperty(LayoutLine.prototype, \"type\", {\n    get: function get() {\n      return 'line';\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(LayoutLine.prototype, \"root\", {\n    get: function get() {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(LayoutLine.prototype, \"leaf\", {\n    get: function get() {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(LayoutLine.prototype, \"height\", {\n    get: function get() {\n      if (this.internalHeight === undefined) {\n        this.internalHeight = this.children.reduce(function (height, child) {\n          return Math.max(height, child.height);\n        }, 0) + this.paddingVertical;\n      }\n\n      return this.internalHeight;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(LayoutLine.prototype, \"contentWidth\", {\n    get: function get() {\n      if (this.internalContentWidth === undefined) {\n        this.internalContentWidth = this.children.reduce(function (contentWidth, child) {\n          return contentWidth + child.width;\n        }, 0);\n      }\n\n      return this.internalContentWidth;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  LayoutLine.prototype.convertCoordinatesToOffset = function (x, y) {\n    var offset = 0;\n    var cumulatedWidth = 0;\n\n    for (var n = 0, nn = this.children.length; n < nn; n++) {\n      var child = this.children.at(n);\n      var childWidth = child.width;\n\n      if (x >= cumulatedWidth && x <= cumulatedWidth + childWidth) {\n        offset += child.convertCoordinatesToOffset(x - cumulatedWidth, 0);\n        break;\n      }\n\n      offset += child.size;\n      cumulatedWidth += childWidth;\n    }\n\n    if (offset === this.size) {\n      var lastChild = this.lastChild;\n\n      if (lastChild && lastChild.type === 'text') {\n        var lastWord = lastChild.lastChild;\n\n        if (lastWord && lastWord.whitespaceSize > 0) {\n          offset--;\n        }\n      }\n    }\n\n    return offset;\n  };\n\n  LayoutLine.prototype.resolveBoundingBoxes = function (from, to) {\n    if (from < 0 || to > this.size || from > to) {\n      throw new Error('Invalid range.');\n    }\n\n    var childResults = [];\n    var cumulatedOffset = 0;\n    var left1 = null;\n    var left2 = 0;\n\n    for (var n = 0, nn = this.children.length; n < nn; n++) {\n      if (cumulatedOffset > to) {\n        break;\n      }\n\n      var child = this.children.at(n);\n\n      if (cumulatedOffset + child.size > from) {\n        var childFrom = Math.max(0, from - cumulatedOffset);\n        var childTo = Math.min(child.size, to - cumulatedOffset);\n        var childResult = child.resolveBoundingBoxes(childFrom, childTo);\n        childResults.push(childResult);\n\n        if (left1 === null) {\n          left1 = left2 + childResult.boundingBoxes[0].left;\n        }\n\n        left2 += childResult.boundingBoxes.slice(0, childResult.boundingBoxes.length - 1).reduce(function (width, box) {\n          return width + box.left + box.width + box.right;\n        }, 0);\n        left2 += childResult.boundingBoxes[0].left + childResult.boundingBoxes[0].width;\n      } else {\n        left2 += child.width;\n      }\n\n      cumulatedOffset += child.size;\n    }\n\n    return {\n      node: this,\n      boundingBoxes: [{\n        from: from,\n        to: to,\n        width: left2 - left1,\n        height: from === to ? this.innerHeight : this.height,\n        left: this.paddingLeft + left1,\n        right: this.width - this.paddingLeft - left2,\n        top: from === to ? this.paddingTop : 0,\n        bottom: from === to ? this.paddingBottom : 0\n      }],\n      children: childResults\n    };\n  };\n\n  return LayoutLine;\n}(LayoutNode);\n\nexport { LayoutLine };","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { LayoutNode } from './node';\n\nvar LayoutPage =\n/** @class */\nfunction (_super) {\n  __extends(LayoutPage, _super);\n\n  function LayoutPage(children, width, height, paddingTop, paddingBottom, paddingLeft, paddingRight) {\n    var _this = _super.call(this, null, '', children, paddingTop, paddingBottom, paddingLeft, paddingRight) || this;\n\n    _this.width = width;\n    _this.height = height;\n    return _this;\n  }\n\n  Object.defineProperty(LayoutPage.prototype, \"type\", {\n    get: function get() {\n      return 'page';\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(LayoutPage.prototype, \"root\", {\n    get: function get() {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(LayoutPage.prototype, \"leaf\", {\n    get: function get() {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(LayoutPage.prototype, \"contentHeight\", {\n    get: function get() {\n      if (this.internalContentHeight === undefined) {\n        this.internalContentHeight = this.children.reduce(function (contentHeight, child) {\n          return contentHeight + child.height;\n        }, 0);\n      }\n\n      return this.internalContentHeight;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  LayoutPage.prototype.convertCoordinatesToOffset = function (x, y) {\n    var offset = 0;\n    var cumulatedHeight = 0;\n    var contentX = Math.min(Math.max(x - this.paddingLeft, 0), this.innerWidth);\n    var contentY = Math.min(Math.max(y - this.paddingTop, 0), this.innerHeight);\n\n    for (var n = 0, nn = this.children.length; n < nn; n++) {\n      var child = this.children.at(n);\n      var childHeight = child.height;\n\n      if (contentY >= cumulatedHeight && contentY <= cumulatedHeight + childHeight) {\n        offset += child.convertCoordinatesToOffset(contentX, contentY - cumulatedHeight);\n        break;\n      }\n\n      offset += child.size;\n      cumulatedHeight += childHeight;\n    }\n\n    if (offset === this.size) {\n      var lastChild = this.lastChild;\n\n      if (lastChild) {\n        offset -= lastChild.size;\n        offset += lastChild.convertCoordinatesToOffset(contentX, lastChild.height);\n      }\n    }\n\n    return offset;\n  };\n\n  LayoutPage.prototype.resolveBoundingBoxes = function (from, to) {\n    var _this = this;\n\n    if (from < 0 || to > this.size || from > to) {\n      throw new Error('Invalid range.');\n    }\n\n    var childResults = [];\n    var boundingBoxes = [];\n    var cumulatedOffset = 0;\n    var cumulatedHeight = 0;\n    this.children.forEach(function (child) {\n      if (cumulatedOffset + child.size > from && cumulatedOffset <= to) {\n        var childFrom_1 = Math.max(0, from - cumulatedOffset);\n        var childTo_1 = Math.min(child.size, to - cumulatedOffset);\n        var childResult = child.resolveBoundingBoxes(childFrom_1, childTo_1);\n        childResults.push(childResult);\n        childResult.boundingBoxes.forEach(function (boundingBox) {\n          boundingBoxes.push({\n            from: cumulatedOffset + childFrom_1,\n            to: cumulatedOffset + childTo_1,\n            width: boundingBox.width,\n            height: boundingBox.height,\n            top: cumulatedHeight + _this.paddingTop + boundingBox.top,\n            bottom: _this.height - _this.paddingTop - cumulatedHeight - child.height + boundingBox.bottom,\n            left: boundingBox.left + _this.paddingLeft,\n            right: boundingBox.right + _this.paddingRight\n          });\n        });\n      }\n\n      cumulatedOffset += child.size;\n      cumulatedHeight += child.height;\n    });\n    return {\n      node: this,\n      boundingBoxes: boundingBoxes,\n      children: childResults\n    };\n  };\n\n  return LayoutPage;\n}(LayoutNode);\n\nexport { LayoutPage };","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { LayoutNode } from './node';\n\nvar LayoutText =\n/** @class */\nfunction (_super) {\n  __extends(LayoutText, _super);\n\n  function LayoutText(renderId, children, paddingTop, paddingBottom, paddingLeft, paddingRight, font) {\n    var _this = _super.call(this, renderId, '', children, paddingTop, paddingBottom, paddingLeft, paddingRight) || this;\n\n    _this.font = font;\n    return _this;\n  }\n\n  Object.defineProperty(LayoutText.prototype, \"type\", {\n    get: function get() {\n      return 'text';\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(LayoutText.prototype, \"root\", {\n    get: function get() {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(LayoutText.prototype, \"leaf\", {\n    get: function get() {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(LayoutText.prototype, \"width\", {\n    get: function get() {\n      if (this.internalWidth === undefined) {\n        this.internalWidth = this.children.reduce(function (width, child) {\n          return width + child.width;\n        }, this.paddingHorizontal);\n      }\n\n      return this.internalWidth;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(LayoutText.prototype, \"height\", {\n    get: function get() {\n      if (this.internalHeight === undefined) {\n        this.internalHeight = this.children.reduce(function (height, child) {\n          return Math.max(height, child.height);\n        }, 0) + this.paddingVertical;\n      }\n\n      return this.internalHeight;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(LayoutText.prototype, \"trimmedWidth\", {\n    get: function get() {\n      if (this.internalTrimmedWidth === undefined) {\n        var lastChild = this.lastChild;\n\n        if (!lastChild) {\n          this.internalTrimmedWidth = 0;\n        } else {\n          this.internalTrimmedWidth = this.width - lastChild.width + lastChild.trimmedWidth;\n        }\n      }\n\n      return this.internalTrimmedWidth;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  LayoutText.prototype.convertCoordinatesToOffset = function (x, y) {\n    var offset = 0;\n    var cumulatedWidth = 0;\n\n    for (var n = 0, nn = this.children.length; n < nn; n++) {\n      var child = this.children.at(n);\n      var childWidth = child.width;\n\n      if (cumulatedWidth + childWidth >= x) {\n        offset += child.convertCoordinatesToOffset(x - cumulatedWidth, 0);\n        break;\n      }\n\n      offset += child.size;\n      cumulatedWidth += childWidth;\n    }\n\n    return offset;\n  };\n\n  LayoutText.prototype.resolveBoundingBoxes = function (from, to) {\n    if (from < 0 || to > this.size || from > to) {\n      throw new Error('Invalid range.');\n    }\n\n    var childResults = [];\n    var cumulatedOffset = 0;\n    var left1 = null;\n    var left2 = 0;\n\n    for (var n = 0, nn = this.children.length; n < nn; n++) {\n      if (cumulatedOffset > to) {\n        break;\n      }\n\n      var child = this.children.at(n);\n\n      if (cumulatedOffset + child.size > from) {\n        var childFrom = Math.max(0, from - cumulatedOffset);\n        var childTo = Math.min(child.size, to - cumulatedOffset);\n        var childResult = child.resolveBoundingBoxes(childFrom, childTo);\n        childResults.push(childResult);\n\n        if (left1 === null) {\n          left1 = left2 + childResult.boundingBoxes[0].left;\n        }\n\n        left2 += childResult.boundingBoxes.slice(0, childResult.boundingBoxes.length - 1).reduce(function (width, box) {\n          return width + box.left + box.width + box.right;\n        }, 0);\n        left2 += childResult.boundingBoxes[0].left + childResult.boundingBoxes[0].width;\n      } else {\n        left2 += child.width;\n      }\n\n      cumulatedOffset += child.size;\n    }\n\n    return {\n      node: this,\n      boundingBoxes: [{\n        from: from,\n        to: to,\n        width: left2 - left1,\n        height: this.innerHeight,\n        left: this.paddingLeft + left1,\n        right: this.width - this.paddingLeft - left2,\n        top: this.paddingTop,\n        bottom: this.paddingBottom\n      }],\n      children: childResults\n    };\n  };\n\n  return LayoutText;\n}(LayoutNode);\n\nexport { LayoutText };","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { LayoutNode } from './node';\n\nvar LayoutWord =\n/** @class */\nfunction (_super) {\n  __extends(LayoutWord, _super);\n\n  function LayoutWord(renderId, text, whitespaceSize, font, textService) {\n    var _this = _super.call(this, renderId, text, [], 0, 0, 0, 0) || this;\n\n    _this.whitespaceSize = whitespaceSize;\n    _this.font = font;\n    _this.textService = textService;\n    return _this;\n  }\n\n  Object.defineProperty(LayoutWord.prototype, \"type\", {\n    get: function get() {\n      return 'word';\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(LayoutWord.prototype, \"root\", {\n    get: function get() {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(LayoutWord.prototype, \"leaf\", {\n    get: function get() {\n      return true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(LayoutWord.prototype, \"width\", {\n    get: function get() {\n      var _a;\n\n      if (this.internalWidth === undefined) {\n        _a = this.measure(), this.internalWidth = _a[0], this.internalHeight = _a[1];\n      }\n\n      return this.internalWidth;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(LayoutWord.prototype, \"height\", {\n    get: function get() {\n      var _a;\n\n      if (this.internalHeight === undefined) {\n        _a = this.measure(), this.internalWidth = _a[0], this.internalHeight = _a[1];\n      }\n\n      return this.internalHeight;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(LayoutWord.prototype, \"trimmedWidth\", {\n    get: function get() {\n      if (this.internalTrimmedWidth === undefined) {\n        var trimmedText = this.text.substring(0, this.text.length - this.whitespaceSize);\n        this.internalTrimmedWidth = this.textService.measure(trimmedText, this.font).width;\n      }\n\n      return this.internalTrimmedWidth;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  LayoutWord.prototype.convertCoordinatesToOffset = function (x, y) {\n    var lastWidth = 0;\n    var text = this.text;\n\n    for (var n = 0, nn = text.length; n < nn; n++) {\n      var measurement = this.textService.measure(text.substring(0, n), this.font);\n      var width_1 = measurement.width;\n\n      if (width_1 < x) {\n        lastWidth = width_1;\n        continue;\n      }\n\n      if (x - lastWidth < width_1 - x) {\n        return n - 1;\n      }\n\n      return n;\n    }\n\n    var width = this.width;\n\n    if (x - lastWidth < width - x) {\n      return text.length - 1;\n    }\n\n    return text.length;\n  };\n\n  LayoutWord.prototype.resolveBoundingBoxes = function (from, to) {\n    if (from < 0 || to > this.size || from > to) {\n      throw new Error('Invalid range.');\n    }\n\n    if (from === 0 && to === this.size) {\n      return {\n        node: this,\n        boundingBoxes: [{\n          from: from,\n          to: to,\n          width: this.innerWidth,\n          height: this.innerHeight,\n          left: this.paddingLeft,\n          right: this.paddingRight,\n          top: this.paddingTop,\n          bottom: this.paddingBottom\n        }],\n        children: []\n      };\n    }\n\n    if (from === to) {\n      var left = this.textService.measure(this.text.slice(0, from), this.font).width;\n      return {\n        node: this,\n        boundingBoxes: [{\n          from: from,\n          to: to,\n          width: 0,\n          height: this.innerHeight,\n          left: this.paddingLeft + left,\n          right: this.width - this.paddingLeft - left,\n          top: this.paddingTop,\n          bottom: this.paddingBottom\n        }],\n        children: []\n      };\n    }\n\n    var left1 = this.textService.measure(this.text.slice(0, from), this.font).width;\n    var left2 = this.textService.measure(this.text.slice(0, to), this.font).width;\n    return {\n      node: this,\n      boundingBoxes: [{\n        from: from,\n        to: to,\n        width: left2 - left1,\n        height: this.innerHeight,\n        left: this.paddingLeft + left1,\n        right: this.innerWidth - this.paddingLeft - left2,\n        top: this.paddingTop,\n        bottom: this.paddingBottom\n      }],\n      children: []\n    };\n  };\n\n  LayoutWord.prototype.measure = function () {\n    var measurement = this.textService.measure(this.text, this.font);\n    return [measurement.width, measurement.height];\n  };\n\n  return LayoutWord;\n}(LayoutNode);\n\nexport { LayoutWord };","import { LayoutAtom } from './atom';\nimport { LayoutBlock } from './block';\nimport { LayoutDoc } from './doc';\nimport { LayoutLine } from './line';\nimport { LayoutPage } from './page';\nimport { LayoutText } from './text';\nimport { LayoutWord } from './word';\n\nvar LayoutEngine =\n/** @class */\nfunction () {\n  function LayoutEngine(textService) {\n    this.textService = textService;\n  }\n\n  LayoutEngine.prototype.updateDoc = function (doc, renderDoc) {\n    var _this = this;\n\n    if (!renderDoc.needLayout && doc) {\n      return doc;\n    }\n\n    var pages = [];\n    var childrenMap = {};\n\n    if (doc) {\n      doc.children.forEach(function (page) {\n        pages.push(page);\n        page.children.forEach(function (child) {\n          if (!child.renderId) {\n            throw new Error('Render ID missing on layout node.');\n          }\n\n          childrenMap[child.renderId] = childrenMap[child.renderId] || [];\n          childrenMap[child.renderId].push(child);\n        });\n      });\n    }\n\n    var newChildren = [];\n    renderDoc.children.forEach(function (child) {\n      switch (child.type) {\n        case 'block':\n          newChildren.push.apply(newChildren, _this.updateBlock(childrenMap[child.id] || [], child, renderDoc.width - renderDoc.paddingLeft - renderDoc.paddingRight));\n          break;\n\n        default:\n          throw new Error(\"Child type \" + child.type + \" is invalid.\");\n      }\n    });\n    renderDoc.clearNeedLayout();\n    return this.buildDoc(renderDoc, this.reflowPages(pages, newChildren, renderDoc.width, renderDoc.height, renderDoc.paddingTop, renderDoc.paddingBottom, renderDoc.paddingLeft, renderDoc.paddingRight));\n  };\n\n  LayoutEngine.prototype.updateBlock = function (blocks, renderBlock, width) {\n    var _this = this;\n\n    if (!renderBlock.needLayout && blocks.length > 0) {\n      return blocks;\n    }\n\n    var lines = [];\n    var childrenMap = {};\n\n    for (var _i = 0, blocks_1 = blocks; _i < blocks_1.length; _i++) {\n      var block = blocks_1[_i];\n      block.children.forEach(function (line) {\n        lines.push(line);\n        line.children.forEach(function (child) {\n          if (!child.renderId) {\n            throw new Error('Render ID missing on layout node.');\n          }\n\n          childrenMap[child.renderId] = childrenMap[child.renderId] || [];\n          childrenMap[child.renderId].push(child);\n        });\n      });\n    }\n\n    var newChildren = [];\n    renderBlock.children.forEach(function (renderChild) {\n      switch (renderChild.type) {\n        case 'text':\n          newChildren.push.apply(newChildren, _this.updateText(childrenMap[renderChild.id] || [], renderChild));\n          break;\n\n        case 'atom':\n          newChildren.push.apply(newChildren, _this.updateAtom(childrenMap[renderChild.id] || [], renderChild));\n          break;\n\n        default:\n          throw new Error(\"Child type \" + renderChild.type + \" is invalid.\");\n      }\n    });\n    renderBlock.clearNeedLayout();\n    return [this.buildBlock(renderBlock, this.reflowLines(lines, newChildren, width - renderBlock.paddingLeft - renderBlock.paddingRight), width)];\n  };\n\n  LayoutEngine.prototype.updateText = function (texts, renderText) {\n    var _this = this;\n\n    if (!renderText.needLayout && texts.length > 0) {\n      return texts;\n    }\n\n    var newChildren = [];\n    this.textService.breakIntoWords(renderText.text).forEach(function (word) {\n      newChildren.push(_this.buildWord(renderText, word.text, word.whitespaceSize));\n    });\n    renderText.clearNeedLayout();\n    return [this.buildText(renderText, newChildren)];\n  };\n\n  LayoutEngine.prototype.updateAtom = function (atoms, renderAtom) {\n    if (!renderAtom.needLayout && atoms.length > 0) {\n      return atoms;\n    }\n\n    renderAtom.clearNeedLayout();\n    return [this.buildAtom(renderAtom)];\n  };\n\n  LayoutEngine.prototype.buildDoc = function (renderDoc, children) {\n    return new LayoutDoc(renderDoc.id, children, renderDoc.width, renderDoc.height, renderDoc.paddingTop, renderDoc.paddingBottom, renderDoc.paddingLeft, renderDoc.paddingRight);\n  };\n\n  LayoutEngine.prototype.buildBlock = function (renderBlock, children, width) {\n    if (renderBlock.type !== 'block') {\n      throw new Error('Expected block.');\n    }\n\n    return new LayoutBlock(renderBlock.id, children, width, renderBlock.paddingTop, renderBlock.paddingBottom, renderBlock.paddingLeft, renderBlock.paddingRight);\n  };\n\n  LayoutEngine.prototype.buildText = function (renderText, children) {\n    if (renderText.type !== 'text') {\n      throw new Error('Expected text.');\n    }\n\n    return new LayoutText(renderText.id, children, renderText.paddingTop, renderText.paddingBottom, renderText.paddingLeft, renderText.paddingRight, renderText.font);\n  };\n\n  LayoutEngine.prototype.buildWord = function (renderText, text, whitespaceSize) {\n    if (renderText.type !== 'text') {\n      throw new Error('Expected text.');\n    }\n\n    return new LayoutWord(renderText.id, text, whitespaceSize, renderText.font, this.textService);\n  };\n\n  LayoutEngine.prototype.buildAtom = function (renderAtom) {\n    if (renderAtom.type !== 'atom') {\n      throw new Error('Expected atom.');\n    }\n\n    return new LayoutAtom(renderAtom.id, renderAtom.width, renderAtom.height);\n  };\n\n  LayoutEngine.prototype.reflowPages = function (pages, nodes, width, height, paddingTop, paddingBottom, paddingLeft, paddingRight) {\n    var innerHeight = height - paddingTop - paddingBottom;\n    nodes = nodes.slice();\n    var newPages = [];\n\n    while (nodes.length > 0) {\n      if (newPages.length < pages.length) {\n        var page = pages[newPages.length];\n        var reflowNeeded = false;\n\n        for (var n = 0, nn = page.children.length; n < nn; n++) {\n          var child = page.children.at(n);\n\n          if (child.id !== nodes[n].id) {\n            reflowNeeded = true;\n            break;\n          }\n        }\n\n        if (!reflowNeeded) {\n          newPages.push(page);\n          nodes.splice(0, page.children.length);\n          continue;\n        }\n      }\n\n      var newChildren = [];\n      var currentHeight = 0; // Push whole nodes to page until either no more node or no longer fit\n\n      var node = nodes.shift();\n\n      while (node && currentHeight + node.height <= innerHeight) {\n        newChildren.push(node);\n        currentHeight += node.height;\n        node = nodes.shift();\n      } // If there is remainder node, try to push part of it to page\n\n\n      if (node) {\n        var nodeChildren = [];\n\n        for (var m = 0, mm = node.children.length; m < mm; m++) {\n          var nodeChild = node.children.at(m);\n\n          if (currentHeight + nodeChild.height + node.paddingVertical > innerHeight) {\n            break;\n          }\n\n          nodeChildren.push(nodeChild);\n          currentHeight += nodeChild.height;\n        }\n\n        if (nodeChildren.length > 0) {\n          switch (node.type) {\n            case 'block':\n              // Split block to two, one to push to this page, other goes back\n              // to list of nodes to process\n              var node1 = new LayoutBlock(node.renderId, nodeChildren, width, node.paddingTop, node.paddingBottom, node.paddingLeft, node.paddingRight);\n              newChildren.push(node1);\n              currentHeight += node1.height;\n              var node2 = new LayoutBlock(node.renderId, node.children.slice(nodeChildren.length), width, node.paddingTop, node.paddingBottom, node.paddingLeft, node.paddingRight);\n              nodes.unshift(node2);\n              break;\n\n            default:\n              throw new Error('Invalid node type encountered while reflowing page.');\n          }\n        } else {\n          nodes.unshift(node);\n        }\n      }\n\n      var newPage = new LayoutPage(newChildren, width, height, paddingTop, paddingBottom, paddingLeft, paddingRight);\n      newPages.push(newPage);\n    }\n\n    return newPages;\n  };\n\n  LayoutEngine.prototype.reflowLines = function (lines, nodes, width) {\n    nodes = nodes.slice();\n    var newLines = [];\n\n    while (nodes.length > 0) {\n      if (newLines.length < newLines.length) {\n        var line = lines[newLines.length];\n        var reflowNeeded = false;\n\n        for (var n = 0, nn = line.children.length; n < nn; n++) {\n          var child = line.children.at(n);\n\n          if (child.id !== nodes[n].id) {\n            reflowNeeded = true;\n            break;\n          }\n        }\n\n        if (!reflowNeeded) {\n          newLines.push(line);\n          nodes.splice(0, line.children.length);\n          continue;\n        }\n      }\n\n      var newChildren = [];\n      var currentWidth = 0; // Push whole nodes to line until either no more node or no longer fit\n\n      var node = nodes.shift();\n\n      while (node && currentWidth + node.width <= width) {\n        newChildren.push(node);\n        currentWidth += node.width;\n        node = nodes.shift();\n      } // If there is remainder node, try to push part of it to line\n\n\n      if (node) {\n        var nodeChildren = [];\n\n        for (var m = 0, mm = node.children.length; m < mm; m++) {\n          // TODO: If word is wider than line, break word\n          var nodeChild = node.children.at(m);\n\n          if (currentWidth + nodeChild.width > width) {\n            break;\n          }\n\n          nodeChildren.push(nodeChild);\n          currentWidth += nodeChild.width;\n        }\n\n        if (nodeChildren.length > 0) {\n          switch (node.type) {\n            case 'text':\n              // Split text to two, one to push to this line, other goes back\n              // to list of nodes to process\n              var text = node;\n              var node1 = new LayoutText(text.renderId, nodeChildren, text.paddingTop, text.paddingBottom, text.paddingLeft, text.paddingRight, text.font);\n              newChildren.push(node1);\n              currentWidth += node1.width;\n              var node2 = new LayoutText(text.renderId, node.children.slice(nodeChildren.length), text.paddingTop, text.paddingBottom, text.paddingLeft, text.paddingRight, text.font);\n              nodes.unshift(node2);\n              break;\n\n            case 'atom':\n              // If atom is wider than line and line is empty, push atom to line\n              // and let it clip\n              if (node.width > width && newChildren.length === 0) {\n                newChildren.push(node);\n              } else {\n                // Atom cannot be split, goes back to list of nodes to process\n                nodes.unshift(node);\n              }\n\n              break;\n\n            default:\n              throw new Error('Invalid node type encountered while reflowing page.');\n          }\n        } else {\n          nodes.unshift(node);\n        }\n      }\n\n      var newLine = new LayoutLine(newChildren, width);\n      newLines.push(newLine);\n    }\n\n    return newLines;\n  };\n\n  return LayoutEngine;\n}();\n\nexport { LayoutEngine };","import { EventEmitter } from '../event/emitter';\nimport { LayoutEngine } from './engine';\n\nvar LayoutState =\n/** @class */\nfunction () {\n  function LayoutState(renderService, textService) {\n    var _this = this;\n\n    this.renderService = renderService;\n    this.textService = textService;\n    this.didUpdateLayoutStateEventEmitter = new EventEmitter();\n    this.engine = new LayoutEngine(textService);\n    this.internalDoc = this.engine.updateDoc(null, renderService.getDoc());\n    renderService.onDidUpdateRenderState(function (event) {\n      return _this.handleDidUpdateRenderStateEvent(event);\n    });\n  }\n\n  Object.defineProperty(LayoutState.prototype, \"doc\", {\n    get: function get() {\n      return this.internalDoc;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  LayoutState.prototype.onDidUpdateLayoutState = function (listener) {\n    return this.didUpdateLayoutStateEventEmitter.on(listener);\n  };\n\n  LayoutState.prototype.handleDidUpdateRenderStateEvent = function (event) {\n    this.update();\n  };\n\n  LayoutState.prototype.update = function () {\n    var renderDoc = this.renderService.getDoc();\n    this.internalDoc = this.engine.updateDoc(this.doc, renderDoc);\n    this.didUpdateLayoutStateEventEmitter.emit({});\n  };\n\n  return LayoutState;\n}();\n\nexport { LayoutState };","import { LayoutState } from './state';\n\nvar LayoutService =\n/** @class */\nfunction () {\n  function LayoutService(renderService, textService) {\n    this.state = new LayoutState(renderService, textService);\n  }\n\n  LayoutService.prototype.onDidUpdateLayoutState = function (listener) {\n    this.state.onDidUpdateLayoutState(listener);\n  };\n\n  LayoutService.prototype.getDoc = function () {\n    return this.state.doc;\n  };\n\n  LayoutService.prototype.resolvePosition = function (offset) {\n    return this.state.doc.resolvePosition(offset);\n  };\n\n  LayoutService.prototype.resolveBoundingBoxes = function (from, to) {\n    return this.state.doc.resolveBoundingBoxes(from, to);\n  };\n\n  return LayoutService;\n}();\n\nexport { LayoutService };","import { EventEmitter } from '../event/emitter';\n\nvar ModelState =\n/** @class */\nfunction () {\n  function ModelState(root, componentService) {\n    this.root = root;\n    this.componentService = componentService;\n    this.didUpdateEventEmitter = new EventEmitter();\n  }\n\n  ModelState.prototype.applyChange = function (change) {\n    var changeResult = change.apply(this.root, this.componentService);\n    this.didUpdateEventEmitter.emit({\n      changeResult: changeResult\n    });\n    return changeResult;\n  };\n\n  ModelState.prototype.onDidUpdate = function (listener) {\n    return this.didUpdateEventEmitter.on(listener);\n  };\n\n  return ModelState;\n}();\n\nexport { ModelState };","import { ModelState } from './state';\n\nvar ModelService =\n/** @class */\nfunction () {\n  function ModelService(root, componentService) {\n    this.state = new ModelState(root, componentService);\n  }\n\n  ModelService.prototype.getRoot = function () {\n    return this.state.root;\n  };\n\n  ModelService.prototype.getRootSize = function () {\n    return this.state.root.size;\n  };\n\n  ModelService.prototype.applyChange = function (change) {\n    return this.state.applyChange(change);\n  };\n\n  ModelService.prototype.resolvePosition = function (offset) {\n    return this.state.root.resolvePosition(offset);\n  };\n\n  ModelService.prototype.toDOM = function (from, to) {\n    return this.state.root.toDOM(from, to);\n  };\n\n  ModelService.prototype.fromDOM = function (domNodes) {\n    return [this.getRoot()];\n  };\n\n  ModelService.prototype.onDidUpdateModelState = function (listener) {\n    this.state.onDidUpdate(listener);\n  };\n\n  return ModelService;\n}();\n\nexport { ModelService };","import { EventEmitter } from '../event/emitter';\n\nvar RenderState =\n/** @class */\nfunction () {\n  function RenderState(componentService, modelService) {\n    var _this = this;\n\n    this.componentService = componentService;\n    this.modelService = modelService;\n    this.didUpdateRenderStateEventEmitter = new EventEmitter();\n    var modelRoot = modelService.getRoot();\n    this.internalDoc = this.updateNode(null, modelRoot);\n    modelService.onDidUpdateModelState(function (event) {\n      return _this.handleDidUpdateModelState(event);\n    });\n  }\n\n  RenderState.prototype.onDidUpdateRenderState = function (listener) {\n    return this.didUpdateRenderStateEventEmitter.on(listener);\n  };\n\n  Object.defineProperty(RenderState.prototype, \"doc\", {\n    get: function get() {\n      return this.internalDoc;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  RenderState.prototype.handleDidUpdateModelState = function (event) {\n    this.update();\n  };\n\n  RenderState.prototype.update = function () {\n    var modelRoot = this.modelService.getRoot();\n    this.internalDoc = this.updateNode(this.doc, modelRoot);\n    this.didUpdateRenderStateEventEmitter.emit({});\n  };\n\n  RenderState.prototype.updateNode = function (node, modelNode) {\n    var _this = this;\n\n    if (!modelNode.needRender && node) {\n      return node;\n    }\n\n    var childrenMap = {};\n\n    if (node) {\n      node.children.forEach(function (child) {\n        if (!child.modelId) {\n          return;\n        }\n\n        childrenMap[child.modelId] = child;\n      });\n    }\n\n    var newChildren = [];\n    modelNode.children.forEach(function (modelChild) {\n      newChildren.push(_this.updateNode(childrenMap[modelChild.id] || null, modelChild));\n    });\n    modelNode.clearNeedRender();\n    return this.buildNode(modelNode, newChildren);\n  };\n\n  RenderState.prototype.buildNode = function (modelNode, children) {\n    var component = this.componentService.getComponent(modelNode.componentId);\n    var node = component.buildRenderNode(modelNode.partId, modelNode.id, modelNode.text, modelNode.attributes, children);\n\n    if (!node) {\n      throw new Error(\"Error building render node from model node \" + modelNode.id + \".\");\n    }\n\n    return node;\n  };\n\n  return RenderState;\n}();\n\nexport { RenderState };","import { RenderState } from './state';\n\nvar RenderService =\n/** @class */\nfunction () {\n  function RenderService(componentService, modelService) {\n    this.state = new RenderState(componentService, modelService);\n  }\n\n  RenderService.prototype.onDidUpdateRenderState = function (listener) {\n    this.state.onDidUpdateRenderState(listener);\n  };\n\n  RenderService.prototype.getDoc = function () {\n    return this.state.doc;\n  };\n\n  RenderService.prototype.getDocSize = function () {\n    return this.state.doc.size;\n  };\n\n  RenderService.prototype.convertOffsetToModelOffset = function (offset) {\n    return this.state.doc.convertOffsetToModelOffset(offset);\n  };\n\n  RenderService.prototype.convertModelOffsetToOffset = function (modelOffset) {\n    return this.state.doc.convertModelOffsetToOffset(modelOffset);\n  };\n\n  RenderService.prototype.resolvePosition = function (offset) {\n    return this.state.doc.resolvePosition(offset);\n  };\n\n  RenderService.prototype.getStylesBetween = function (from, to) {\n    var styles = {};\n    var doc = this.state.doc;\n    this.extractStyle(styles, doc, from, to);\n    return styles;\n  };\n\n  RenderService.prototype.extractStyle = function (styles, node, from, to) {\n    var _this = this;\n\n    if (from > to) {\n      return;\n    }\n\n    var componentStyles = styles[node.componentId] = styles[node.componentId] || {};\n    var partStyles = componentStyles[node.partId || ''] = componentStyles[node.partId || ''] || [];\n    partStyles.push(node.style);\n    var position = 0;\n    node.children.forEach(function (child) {\n      var childSize = child.size;\n\n      if (to - position >= 0 && from - position < childSize) {\n        var childFrom = Math.max(0, Math.min(childSize, from - position));\n        var childTo = Math.max(0, Math.min(childSize, to - position));\n\n        _this.extractStyle(styles, child, childFrom, childTo);\n      }\n\n      position += childSize;\n    });\n  };\n\n  return RenderService;\n}();\n\nexport { RenderService };","var ServiceRegistry =\n/** @class */\nfunction () {\n  function ServiceRegistry() {\n    this.services = {};\n  }\n\n  ServiceRegistry.prototype.registerService = function (key, service) {\n    this.services[key] = service;\n  };\n\n  ServiceRegistry.prototype.getService = function (key) {\n    var service = this.services[key];\n\n    if (!service) {\n      throw new Error(\"Service \" + key + \" is not registered.\");\n    }\n\n    return service;\n  };\n\n  return ServiceRegistry;\n}();\n\nexport { ServiceRegistry };","import { EventEmitter } from '../event/emitter';\n\nvar TransformService =\n/** @class */\nfunction () {\n  function TransformService(modelService, componentService, cursorService, renderService, layoutService) {\n    this.modelService = modelService;\n    this.componentService = componentService;\n    this.cursorService = cursorService;\n    this.renderService = renderService;\n    this.layoutService = layoutService;\n    this.didApplyTransformationEventEmitter = new EventEmitter();\n  }\n\n  TransformService.prototype.applyTransformation = function (tn) {\n    var result = tn.apply(this.modelService, this.cursorService, this.renderService, this.layoutService);\n    this.didApplyTransformationEventEmitter.emit({\n      result: result\n    });\n    return result;\n  };\n\n  TransformService.prototype.onDidApplyTransformation = function (listener) {\n    return this.didApplyTransformationEventEmitter.on(listener);\n  };\n\n  return TransformService;\n}();\n\nexport { TransformService };","var CursorView =\n/** @class */\nfunction () {\n  function CursorView(instanceId, configService, domService, cursorService, layoutService, viewService, transformService) {\n    var _this = this;\n\n    this.instanceId = instanceId;\n    this.configService = configService;\n    this.domService = domService;\n    this.cursorService = cursorService;\n    this.layoutService = layoutService;\n    this.viewService = viewService;\n    this.transformService = transformService;\n    this.blinkInterval = null;\n    this.blinkState = true;\n    this.domSelections = [];\n    this.attached = false;\n    var cursorConfig = configService.getConfig().cursor;\n    this.caretColor = cursorConfig.caretColor;\n    this.caretInactiveColor = cursorConfig.caretInactiveColor;\n    this.selectionColor = cursorConfig.selectionColor;\n    this.selectionInactiveColor = cursorConfig.selectionInactiveColor;\n    this.domCaret = domService.createElement('div');\n    this.domCaret.className = 'tw--cursor--caret';\n    this.domCaret.setAttribute('data-tw-instance', this.instanceId);\n    this.domCaret.style.position = 'absolute';\n    this.domCaret.style.userSelect = 'none';\n    this.domCaret.style.pointerEvents = 'none';\n    this.domCaret.style.width = '2px';\n    this.domCaret.style.marginLeft = '-1px';\n    transformService.onDidApplyTransformation(function (event) {\n      return _this.handleDidApplyTransformation(event);\n    });\n    viewService.onDidFocus(function (event) {\n      return _this.handleDidFocus(event);\n    });\n    viewService.onDidBlur(function (event) {\n      return _this.handleDidBlur(event);\n    });\n  }\n\n  CursorView.prototype.attach = function () {\n    if (this.attached) {\n      throw new Error('Already attached to the DOM.');\n    }\n\n    this.attached = true;\n    this.updateView();\n  };\n\n  CursorView.prototype.updateView = function () {\n    var _this = this;\n\n    if (!this.attached) {\n      return;\n    }\n\n    this.clearDOMSelections();\n\n    var _a = this.cursorService.getCursor(),\n        anchor = _a.anchor,\n        head = _a.head;\n\n    var from = Math.min(anchor, head);\n    var to = Math.max(anchor, head);\n    var docBoxResult = this.layoutService.resolveBoundingBoxes(from, to);\n    var viewDoc = this.viewService.getDoc();\n    var layoutDoc = this.layoutService.getDoc();\n    var focused = this.viewService.isFocused();\n    var firstPageId = '';\n    var firstBoxOffset = -1;\n    var lastPageId = '';\n    var lastBoxOffset = -1;\n    docBoxResult.children.forEach(function (pageBoxResult) {\n      var pageOffset = layoutDoc.children.indexOf(pageBoxResult.node);\n      var viewPage = viewDoc.children.at(pageOffset);\n      var domContentContainer = viewPage.domContentContainer;\n      pageBoxResult.boundingBoxes.forEach(function (box, boxOffset) {\n        if (!firstPageId) {\n          firstPageId = pageBoxResult.node.id;\n          firstBoxOffset = boxOffset;\n        }\n\n        lastPageId = pageBoxResult.node.id;\n        lastBoxOffset = boxOffset;\n\n        if (box.width === 0) {\n          return;\n        }\n\n        var domSelection = _this.buildDOMSelection(box);\n\n        if (focused) {\n          domSelection.style.background = _this.selectionColor;\n        } else {\n          domSelection.style.background = _this.selectionInactiveColor;\n        }\n\n        domContentContainer.appendChild(domSelection);\n\n        _this.domSelections.push(domSelection);\n      });\n    });\n    var headPageId;\n    var headLeft;\n    var headTop;\n    var headHeight;\n\n    if (head < anchor) {\n      headPageId = firstPageId;\n      var rect = docBoxResult.children.find(function (child) {\n        return child.node.id === firstPageId;\n      }).boundingBoxes[firstBoxOffset];\n      headLeft = rect.left;\n      headTop = rect.top;\n      headHeight = rect.height;\n    } else {\n      headPageId = lastPageId;\n      var rect = docBoxResult.children.find(function (child) {\n        return child.node.id === lastPageId;\n      }).boundingBoxes[lastBoxOffset];\n      headLeft = rect.left + rect.width;\n      headTop = rect.top;\n      headHeight = rect.height;\n    }\n\n    if (head === anchor) {\n      this.domCaret.style.display = 'block';\n      this.domCaret.style.top = headTop + \"px\";\n      this.domCaret.style.left = headLeft + \"px\";\n      this.domCaret.style.height = headHeight + \"px\";\n\n      if (focused) {\n        this.domCaret.style.background = this.caretColor;\n      } else {\n        this.domCaret.style.background = this.caretInactiveColor;\n      }\n\n      var pageDOMContentContainer = viewDoc.children.find(function (child) {\n        return child.id === headPageId;\n      }).domContentContainer;\n\n      if (this.domCaret.parentElement && this.domCaret.parentElement !== pageDOMContentContainer) {\n        this.domCaret.parentElement.removeChild(this.domCaret);\n      }\n\n      if (!this.domCaret.parentElement) {\n        pageDOMContentContainer.appendChild(this.domCaret);\n      }\n\n      this.blinkStop();\n\n      if (focused) {\n        this.blinkStart();\n      }\n    } else {\n      this.domCaret.style.display = 'none';\n      this.blinkStop();\n    }\n  };\n\n  CursorView.prototype.blinkStart = function () {\n    var _this = this;\n\n    if (this.blinkInterval !== null) {\n      return;\n    }\n\n    this.blinkState = true;\n    this.blinkInterval = window.setInterval(function () {\n      _this.blinkState = !_this.blinkState;\n\n      _this.updateDOMBlink();\n    }, 500);\n  };\n\n  CursorView.prototype.blinkStop = function () {\n    if (this.blinkInterval === null) {\n      return;\n    }\n\n    this.domCaret.style.visibility = 'visible';\n    clearInterval(this.blinkInterval);\n    this.blinkInterval = null;\n  };\n\n  CursorView.prototype.updateDOMBlink = function () {\n    if (this.blinkState) {\n      this.domCaret.style.visibility = 'visible';\n    } else {\n      this.domCaret.style.visibility = 'hidden';\n    }\n  };\n\n  CursorView.prototype.clearDOMSelections = function () {\n    this.domSelections.forEach(function (domSelection) {\n      if (domSelection.parentElement) {\n        domSelection.parentElement.removeChild(domSelection);\n      }\n    });\n    this.domSelections = [];\n  };\n\n  CursorView.prototype.buildDOMSelection = function (box) {\n    var domSelection = document.createElement('div');\n    domSelection.className = 'tw--cursor--selection';\n    domSelection.setAttribute('data-tw-instance', this.instanceId);\n    domSelection.style.position = 'absolute';\n    domSelection.style.top = box.top + \"px\";\n    domSelection.style.left = box.left + \"px\";\n    domSelection.style.width = box.width + \"px\";\n    domSelection.style.height = box.height + \"px\";\n    domSelection.style.userSelect = 'none';\n    domSelection.style.pointerEvents = 'none';\n    return domSelection;\n  };\n\n  CursorView.prototype.handleDidApplyTransformation = function (event) {\n    this.updateView();\n  };\n\n  CursorView.prototype.handleDidFocus = function (event) {\n    this.updateView();\n  };\n\n  CursorView.prototype.handleDidBlur = function (event) {\n    this.updateView();\n  };\n\n  return CursorView;\n}();\n\nexport { CursorView };","import { EventEmitter } from '../event/emitter';\n\nvar ClipboardObserver =\n/** @class */\nfunction () {\n  function ClipboardObserver($contentEditable) {\n    var _this = this;\n\n    this.$contentEditable = $contentEditable;\n    this.didCopyEventEmitter = new EventEmitter();\n    this.didPasteEventEmitter = new EventEmitter();\n\n    this.handleCopy = function (event) {\n      event.preventDefault();\n\n      _this.didCopyEventEmitter.emit({});\n    };\n\n    this.handlePaste = function (event) {\n      event.preventDefault();\n      var data = event.clipboardData;\n\n      if (!data) {\n        return;\n      }\n\n      _this.didPasteEventEmitter.emit({\n        data: data\n      });\n    };\n\n    $contentEditable.addEventListener('copy', this.handleCopy);\n    $contentEditable.addEventListener('paste', this.handlePaste);\n  }\n\n  ClipboardObserver.prototype.onDidCopy = function (listener) {\n    return this.didCopyEventEmitter.on(listener);\n  };\n\n  ClipboardObserver.prototype.onDidPaste = function (listener) {\n    return this.didPasteEventEmitter.on(listener);\n  };\n\n  return ClipboardObserver;\n}();\n\nexport { ClipboardObserver };","import { EventEmitter } from '../event/emitter';\n\nvar FocusObserver =\n/** @class */\nfunction () {\n  function FocusObserver($contentEditable) {\n    var _this = this;\n\n    this.$contentEditable = $contentEditable;\n    this.didFocusEventEmitter = new EventEmitter();\n    this.didBlurEventEmitter = new EventEmitter();\n\n    this.handleFocus = function () {\n      _this.didFocusEventEmitter.emit({});\n    };\n\n    this.handleBlur = function () {\n      _this.didBlurEventEmitter.emit({});\n    };\n\n    $contentEditable.addEventListener('focus', this.handleFocus);\n    $contentEditable.addEventListener('blur', this.handleBlur);\n  }\n\n  FocusObserver.prototype.onDidFocus = function (listener) {\n    return this.didFocusEventEmitter.on(listener);\n  };\n\n  FocusObserver.prototype.onDidBlur = function (listener) {\n    return this.didBlurEventEmitter.on(listener);\n  };\n\n  return FocusObserver;\n}();\n\nexport { FocusObserver };","import { EventEmitter } from '../event/emitter';\nimport { detectPlatform } from '../util/platform';\n\nvar KeyboardObserver =\n/** @class */\nfunction () {\n  function KeyboardObserver($contentEditable, domService) {\n    var _this = this;\n\n    this.$contentEditable = $contentEditable;\n    this.domService = domService;\n    this.composing = false;\n    this.didInsertEventEmitter = new EventEmitter();\n    this.didPressKeyEventEmitter = new EventEmitter();\n    this.compositionDidStartEventEmitter = new EventEmitter();\n    this.compositionDidEndEventEmitter = new EventEmitter();\n    this.keyInterpreter = new KeyInterpreter();\n\n    this.handleDidMutate = function () {\n      setTimeout(function () {\n        if (_this.composing) {\n          return;\n        }\n\n        var content = _this.$contentEditable.innerText;\n        _this.$contentEditable.innerHTML = '';\n\n        if (content.length === 0) {\n          return;\n        }\n\n        _this.didInsertEventEmitter.emit({\n          content: content\n        });\n      });\n    };\n\n    this.handleKeyDown = function (event) {\n      var key = _this.keyInterpreter.interpretFromKeyboardEvent(event);\n\n      if (!key) {\n        return;\n      }\n\n      _this.didPressKeyEventEmitter.emit({\n        key: key,\n        originalKeyboardEvent: event\n      });\n    };\n\n    this.handleCompositionStart = function () {\n      _this.composing = true;\n    };\n\n    this.handleCompositionEnd = function () {\n      _this.composing = true;\n    };\n\n    this.mutationObserver = domService.createMutationObserver(this.handleDidMutate);\n    $contentEditable.addEventListener('keydown', this.handleKeyDown);\n    $contentEditable.addEventListener('compositionstart', this.handleCompositionStart);\n    $contentEditable.addEventListener('compositionend', this.handleCompositionEnd);\n    this.mutationObserver.observe($contentEditable, {\n      subtree: true,\n      characterData: true,\n      childList: true\n    });\n  }\n\n  KeyboardObserver.prototype.onDidInsert = function (listener) {\n    return this.didInsertEventEmitter.on(listener);\n  };\n\n  KeyboardObserver.prototype.onDidPressKey = function (listener) {\n    return this.didPressKeyEventEmitter.on(listener);\n  };\n\n  KeyboardObserver.prototype.onCompositionDidStart = function (listener) {\n    return this.compositionDidStartEventEmitter.on(listener);\n  };\n\n  KeyboardObserver.prototype.onCompositionDidEnd = function (listener) {\n    return this.compositionDidEndEventEmitter.on(listener);\n  };\n\n  return KeyboardObserver;\n}();\n\nexport { KeyboardObserver };\n\nvar KeyInterpreter =\n/** @class */\nfunction () {\n  function KeyInterpreter() {}\n\n  KeyInterpreter.prototype.interpretFromKeyboardEvent = function (event) {\n    var key;\n\n    switch (event.key) {\n      case 'Control':\n      case 'Shift':\n      case 'Alt':\n      case 'Meta':\n        return undefined;\n\n      case 'ArrowLeft':\n        key = 'left';\n        break;\n\n      case 'ArrowRight':\n        key = 'right';\n        break;\n\n      case 'ArrowUp':\n        key = 'up';\n        break;\n\n      case 'ArrowDown':\n        key = 'down';\n        break;\n\n      default:\n        key = event.key.toLowerCase();\n    }\n\n    if (event.metaKey) {\n      switch (detectPlatform()) {\n        case 'macOS':\n          key = \"cmd+\" + key;\n          break;\n\n        case 'Windows':\n          key = \"win+\" + key;\n          break;\n\n        case 'Linux':\n        default:\n          key = \"meta+\" + key;\n      }\n    }\n\n    if (event.altKey) {\n      key = \"alt+\" + key;\n    }\n\n    if (event.shiftKey) {\n      key = \"shift+\" + key;\n    }\n\n    if (event.ctrlKey) {\n      key = \"ctrl+\" + key;\n    }\n\n    return key;\n  };\n\n  return KeyInterpreter;\n}();","import { EventEmitter } from '../event/emitter';\n\nvar PointerObserver =\n/** @class */\nfunction () {\n  function PointerObserver(instanceId, viewService, domService, layoutService) {\n    var _this = this;\n\n    this.instanceId = instanceId;\n    this.viewService = viewService;\n    this.domService = domService;\n    this.layoutService = layoutService;\n    this.clickThreshold = 250;\n    this.consecutiveClickThreshold = 250;\n    this.lastPointerDown = null;\n    this.lastClick = null;\n    this.consecutiveClickCount = 0;\n    this.pointerDidDownEventEmitter = new EventEmitter();\n    this.pointerDidMoveEventEmitter = new EventEmitter();\n    this.pointerDidUpEventEmitter = new EventEmitter();\n    this.pointerDidClickEventEmitter = new EventEmitter();\n\n    this.handleMouseDown = function (event) {\n      var offset = _this.resolveOffset(event.clientX, event.clientY);\n\n      if (offset === null) {\n        return;\n      } // Bypass browser selection\n\n\n      event.preventDefault();\n      _this.lastPointerDown = {\n        timestamp: Date.now(),\n        offset: offset\n      };\n\n      var consecutive = _this.lastClick !== null && Date.now() - _this.lastClick.timestamp < _this.consecutiveClickThreshold;\n\n      _this.pointerDidDownEventEmitter.emit({\n        offset: offset,\n        consecutive: consecutive\n      });\n    };\n\n    this.handleMouseMove = function (event) {\n      var offset = _this.resolveOffset(event.clientX, event.clientY);\n\n      if (offset === null) {\n        return;\n      }\n\n      _this.pointerDidMoveEventEmitter.emit({\n        pointerDown: _this.lastPointerDown !== null,\n        offset: offset\n      });\n    };\n\n    this.handleMouseUp = function (event) {\n      if (_this.lastPointerDown === null) {\n        return;\n      }\n\n      var lastPointerDown = _this.lastPointerDown;\n      _this.lastPointerDown = null;\n\n      var offset = _this.resolveOffset(event.clientX, event.clientY);\n\n      if (offset === null) {\n        return;\n      }\n\n      var now = Date.now();\n      var clicked = lastPointerDown.offset === offset && now - lastPointerDown.timestamp < _this.clickThreshold;\n\n      _this.pointerDidUpEventEmitter.emit({});\n\n      if (clicked) {\n        if (_this.lastClick !== null) {\n          var delta = now - _this.lastClick.timestamp;\n\n          if (delta > _this.consecutiveClickThreshold) {\n            _this.consecutiveClickCount = 0;\n          }\n        }\n\n        _this.consecutiveClickCount++;\n        _this.lastClick = {\n          timestamp: Date.now(),\n          offset: offset\n        };\n\n        _this.pointerDidClickEventEmitter.emit({\n          offset: offset,\n          consecutiveCount: _this.consecutiveClickCount\n        });\n      }\n    };\n\n    var window = domService.getWindow();\n    window.addEventListener('mousedown', this.handleMouseDown);\n    window.addEventListener('mousemove', this.handleMouseMove);\n    window.addEventListener('mouseup', this.handleMouseUp);\n  }\n\n  PointerObserver.prototype.onPointerDidDown = function (listener) {\n    return this.pointerDidDownEventEmitter.on(listener);\n  };\n\n  PointerObserver.prototype.onPointerDidMove = function (listener) {\n    return this.pointerDidMoveEventEmitter.on(listener);\n  };\n\n  PointerObserver.prototype.onPointerDidUp = function (listener) {\n    return this.pointerDidUpEventEmitter.on(listener);\n  };\n\n  PointerObserver.prototype.onPointerDidClick = function (listener) {\n    return this.pointerDidClickEventEmitter.on(listener);\n  };\n\n  PointerObserver.prototype.resolveOffset = function (x, y) {\n    var viewDoc = this.viewService.getDoc();\n    var layoutDoc = this.layoutService.getDoc();\n    var cumulatedOffset = 0;\n\n    for (var n = 0, nn = viewDoc.children.length; n < nn; n++) {\n      var viewPage = viewDoc.children.at(n);\n      var layoutPage = layoutDoc.children.at(n);\n      var pageBoundingClientRect = viewPage.domContainer.getBoundingClientRect();\n\n      if (pageBoundingClientRect.left <= x && pageBoundingClientRect.right >= x && pageBoundingClientRect.top <= y && pageBoundingClientRect.bottom >= y) {\n        var pageX = x - pageBoundingClientRect.left;\n        var pageY = y - pageBoundingClientRect.top;\n        return cumulatedOffset + layoutPage.convertCoordinatesToOffset(pageX, pageY);\n      }\n\n      cumulatedOffset += layoutPage.size;\n    }\n\n    return null;\n  };\n\n  return PointerObserver;\n}();\n\nexport { PointerObserver };","import { ClipboardObserver } from './clipboard-observer';\nimport { FocusObserver } from './focus-observer';\nimport { KeyboardObserver } from './keyboard-observer';\nimport { PointerObserver } from './pointer-observer';\n\nvar DOMController =\n/** @class */\nfunction () {\n  function DOMController(instanceId, domService, commandService, modelService, viewService, layoutService) {\n    var _this = this;\n\n    this.instanceId = instanceId;\n    this.domService = domService;\n    this.commandService = commandService;\n    this.modelService = modelService;\n    this.viewService = viewService;\n    this.layoutService = layoutService;\n    this.focused = false;\n    this.composing = false;\n    this.mouseDown = false;\n\n    this.handleDidInsert = function (event) {\n      _this.commandService.executeCommand('tw.state.insert', event.content);\n    };\n\n    this.handleCompositionDidStart = function (event) {\n      _this.composing = true;\n    };\n\n    this.handleCompositionDidEnd = function (event) {\n      _this.composing = false;\n    };\n\n    this.handlePointerDidDown = function (event) {\n      if (!_this.focused) {\n        _this.commandService.executeCommand('tw.view.focus');\n      }\n\n      if (!event.consecutive) {\n        _this.commandService.executeCommand('tw.cursor.move', event.offset);\n      }\n    };\n\n    this.handlePointerDidMove = function (event) {\n      if (event.pointerDown) {\n        _this.commandService.executeCommand('tw.cursor.moveHead', event.offset);\n      }\n    };\n\n    this.handlePointerDidClick = function (event) {\n      switch (event.consecutiveCount) {\n        case 1:\n          {\n            break;\n          }\n\n        case 2:\n          _this.commandService.executeCommand('tw.cursor.selectWord', event.offset);\n\n          break;\n\n        case 3:\n        default:\n          _this.commandService.executeCommand('tw.cursor.selectBlock', event.offset);\n\n          break;\n      }\n    };\n\n    this.handleDidFocus = function (event) {\n      _this.focused = true;\n    };\n\n    this.handleDidBlur = function (event) {\n      _this.focused = false;\n    };\n\n    this.handleCopy = function (event) {\n      _this.commandService.executeCommand('tw.clipboard.copy');\n    };\n\n    this.handlePaste = function (event) {\n      var html = event.data.getData('text/html');\n\n      var $container = _this.domService.createElement('html');\n\n      $container.innerHTML = html;\n      var $body = $container.querySelector('body');\n\n      if (!$body) {\n        return;\n      }\n\n      var domNodes = Array.prototype.slice.call($body.children);\n\n      var modelNodes = _this.modelService.fromDOM(domNodes); // TODO: Insert modelNodes to cursor location\n\n\n      console.log(modelNodes);\n    };\n\n    this.iframe = domService.createHiddenIframe();\n    this.$contentEditable = this.createContentEditable();\n    this.keyboardObserver = new KeyboardObserver(this.$contentEditable, domService);\n    this.keyboardObserver.onDidInsert(this.handleDidInsert);\n    this.keyboardObserver.onCompositionDidStart(this.handleCompositionDidStart);\n    this.keyboardObserver.onCompositionDidEnd(this.handleCompositionDidEnd);\n    this.pointerObserver = new PointerObserver(instanceId, viewService, domService, layoutService);\n    this.pointerObserver.onPointerDidDown(this.handlePointerDidDown);\n    this.pointerObserver.onPointerDidMove(this.handlePointerDidMove);\n    this.pointerObserver.onPointerDidClick(this.handlePointerDidClick);\n    this.focusObserver = new FocusObserver(this.$contentEditable);\n    this.focusObserver.onDidFocus(this.handleDidFocus);\n    this.focusObserver.onDidBlur(this.handleDidBlur);\n    this.clipboardObserver = new ClipboardObserver(this.$contentEditable);\n    this.clipboardObserver.onDidCopy(this.handleCopy);\n    this.clipboardObserver.onDidPaste(this.handlePaste);\n  }\n\n  DOMController.prototype.onDidPressKey = function (listener) {\n    this.keyboardObserver.onDidPressKey(listener);\n  };\n\n  DOMController.prototype.onDidFocus = function (listener) {\n    this.focusObserver.onDidFocus(listener);\n  };\n\n  DOMController.prototype.onDidBlur = function (listener) {\n    this.focusObserver.onDidBlur(listener);\n  };\n\n  DOMController.prototype.attach = function () {\n    var _this = this;\n\n    this.domService.getBody().appendChild(this.iframe);\n    setTimeout(function () {\n      _this.iframe.contentDocument.body.appendChild(_this.$contentEditable);\n    });\n  };\n\n  DOMController.prototype.requestFocus = function () {\n    this.$contentEditable.focus();\n  };\n\n  DOMController.prototype.requestBlur = function () {\n    this.$contentEditable.blur();\n  };\n\n  DOMController.prototype.isFocused = function () {\n    return this.focused;\n  };\n\n  DOMController.prototype.isComposing = function () {\n    return this.composing;\n  };\n\n  DOMController.prototype.createContentEditable = function () {\n    var $contentEditable = this.domService.createElement('div');\n    $contentEditable.contentEditable = 'true';\n    $contentEditable.style.whiteSpace = 'pre';\n    return $contentEditable;\n  };\n\n  return DOMController;\n}();\n\nexport { DOMController };","import { EventEmitter } from '../event/emitter';\n\nvar ViewState =\n/** @class */\nfunction () {\n  function ViewState(instanceId, componentService, layoutService, renderService, domService) {\n    var _this = this;\n\n    this.instanceId = instanceId;\n    this.componentService = componentService;\n    this.layoutService = layoutService;\n    this.renderService = renderService;\n    this.domService = domService;\n    this.didUpdateViewStateEventEmitter = new EventEmitter();\n    this.domContainer = null;\n    var layoutDoc = layoutService.getDoc();\n    var renderDoc = renderService.getDoc();\n    this.internalDoc = this.updateNode(null, layoutDoc, renderDoc);\n    layoutService.onDidUpdateLayoutState(function (event) {\n      return _this.handleDidUpdateLayoutStateEvent(event);\n    });\n  }\n\n  ViewState.prototype.onDidUpdateViewState = function (listener) {\n    return this.didUpdateViewStateEventEmitter.on(listener);\n  };\n\n  Object.defineProperty(ViewState.prototype, \"doc\", {\n    get: function get() {\n      return this.internalDoc;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  ViewState.prototype.attach = function (domContainer) {\n    this.domContainer = domContainer;\n    this.reattachDoc();\n  };\n\n  ViewState.prototype.handleDidUpdateLayoutStateEvent = function (event) {\n    this.update();\n  };\n\n  ViewState.prototype.update = function () {\n    var layoutDoc = this.layoutService.getDoc();\n    var renderDoc = this.renderService.getDoc();\n    this.internalDoc = this.updateNode(this.doc, layoutDoc, renderDoc);\n    this.reattachDoc();\n    this.didUpdateViewStateEventEmitter.emit({});\n  };\n\n  ViewState.prototype.reattachDoc = function () {\n    if (!this.domContainer) {\n      return;\n    }\n\n    this.domContainer.innerHTML = '';\n    this.domContainer.appendChild(this.doc.domContainer);\n  };\n\n  ViewState.prototype.updateNode = function (node, layoutNode, renderNode) {\n    var _this = this;\n\n    if (!layoutNode.needView && node) {\n      return node;\n    }\n\n    var childrenMap = {};\n\n    if (node) {\n      node.children.forEach(function (child) {\n        if (!child.layoutId) {\n          return;\n        }\n\n        childrenMap[child.layoutId] = child;\n      });\n    }\n\n    var renderChildrenMap = {};\n\n    if (renderNode) {\n      renderNode.children.forEach(function (renderChild) {\n        renderChildrenMap[renderChild.id] = renderChild;\n      });\n    }\n\n    var newChildren = [];\n\n    if (layoutNode.type !== 'text') {\n      layoutNode.children.forEach(function (layoutChild) {\n        var child = childrenMap[layoutChild.id] || null;\n        var renderChild = null;\n\n        if (layoutChild.renderId) {\n          renderChild = renderChildrenMap[layoutChild.renderId] || null;\n\n          if (!renderChild) {\n            throw new Error('Render node not found.');\n          }\n        }\n\n        newChildren.push(_this.updateNode(child, layoutChild, renderChild || renderNode));\n      });\n    }\n\n    layoutNode.clearNeedView();\n    var domContainer = node ? node.domContainer : this.domService.createContainer();\n    var newNode = this.buildNode(domContainer, layoutNode, renderNode, newChildren);\n    return newNode;\n  };\n\n  ViewState.prototype.buildNode = function (domContainer, layoutNode, renderNode, children) {\n    switch (layoutNode.type) {\n      case 'page':\n        return this.buildPageNode(domContainer, layoutNode, children);\n\n      case 'line':\n        return this.buildLineNode(domContainer, layoutNode, children);\n    }\n\n    var component = this.componentService.getComponent(renderNode.componentId);\n    var text = layoutNode.type === 'text' ? layoutNode.children.map(function (child) {\n      return child.text;\n    }).join('') : layoutNode.text;\n    var node = component.buildViewNode(domContainer, renderNode.partId, renderNode.id, layoutNode.id, text, renderNode.style, children, layoutNode.width, layoutNode.height, layoutNode.paddingTop, layoutNode.paddingBottom, layoutNode.paddingLeft, layoutNode.paddingRight);\n\n    if (!node) {\n      throw new Error(\"Error building view node from render node \" + renderNode.id + \".\");\n    }\n\n    this.applyMetadataToDOMContainer(node);\n    return node;\n  };\n\n  ViewState.prototype.buildPageNode = function (domContainer, layoutNode, children) {\n    var node = this.componentService.getPageComponent().buildViewNode(domContainer, layoutNode.id, children, layoutNode.width, layoutNode.height, layoutNode.paddingTop, layoutNode.paddingBottom, layoutNode.paddingLeft, layoutNode.paddingRight);\n    this.applyMetadataToDOMContainer(node);\n    return node;\n  };\n\n  ViewState.prototype.buildLineNode = function (domContainer, layoutNode, children) {\n    var node = this.componentService.getLineComponent().buildViewNode(domContainer, layoutNode.id, children, layoutNode.width, layoutNode.height, layoutNode.paddingTop, layoutNode.paddingBottom, layoutNode.paddingLeft, layoutNode.paddingRight);\n    this.applyMetadataToDOMContainer(node);\n    return node;\n  };\n\n  ViewState.prototype.applyMetadataToDOMContainer = function (viewNode) {\n    var domContainer = viewNode.domContainer;\n    var componentId = viewNode.componentId;\n    var partId = viewNode.partId;\n    var id = viewNode.id;\n    domContainer.className = \"tw--\" + componentId + \"--\" + partId;\n    domContainer.setAttribute('data-tw-instance', this.instanceId);\n\n    if (componentId) {\n      domContainer.setAttribute('data-tw-component', componentId);\n    }\n\n    if (partId) {\n      domContainer.setAttribute('data-tw-part', partId);\n    }\n\n    domContainer.setAttribute('data-tw-id', id);\n  };\n\n  return ViewState;\n}();\n\nexport { ViewState };","import { CursorView } from './cursor';\nimport { DOMController } from './dom-controller';\nimport { ViewState } from './state';\n\nvar ViewService =\n/** @class */\nfunction () {\n  function ViewService(instanceId, configService, domService, componentService, modelService, layoutService, cursorService, renderService, commandService, transformService) {\n    this.state = new ViewState(instanceId, componentService, layoutService, renderService, domService);\n    this.domController = new DOMController(instanceId, domService, commandService, modelService, this, layoutService);\n    this.cursor = new CursorView(instanceId, configService, domService, cursorService, layoutService, this, transformService);\n  }\n\n  ViewService.prototype.onDidUpdateViewState = function (listener) {\n    this.state.onDidUpdateViewState(listener);\n  };\n\n  ViewService.prototype.onDidFocus = function (listener) {\n    this.domController.onDidFocus(listener);\n  };\n\n  ViewService.prototype.onDidBlur = function (listener) {\n    this.domController.onDidBlur(listener);\n  };\n\n  ViewService.prototype.onDidPressKey = function (listener) {\n    this.domController.onDidPressKey(listener);\n  };\n\n  ViewService.prototype.getDoc = function () {\n    return this.state.doc;\n  };\n\n  ViewService.prototype.isFocused = function () {\n    return this.domController.isFocused();\n  };\n\n  ViewService.prototype.attach = function (domContainer) {\n    this.state.attach(domContainer);\n    this.cursor.attach();\n    this.domController.attach();\n  };\n\n  ViewService.prototype.requestFocus = function () {\n    this.domController.requestFocus();\n  };\n\n  ViewService.prototype.requestBlur = function () {\n    this.domController.requestBlur();\n  };\n\n  return ViewService;\n}();\n\nexport { ViewService };","import * as clipboardCommandHandlers from './command/handlers/clipboard';\nimport * as cursorCommandHandlers from './command/handlers/cursor';\nimport * as historyCommandHandlers from './command/handlers/history';\nimport * as stateCommandHandlers from './command/handlers/state';\nimport * as viewCommandHandlers from './command/handlers/view';\nimport { CommandService } from './command/service';\nimport { DocComponent } from './component/components/doc';\nimport { ParagraphComponent } from './component/components/paragraph';\nimport { TextComponent } from './component/components/text';\nimport { ComponentService } from './component/service';\nimport { ConfigService } from './config/service';\nimport { CursorService } from './cursor/service';\nimport { DOMService } from './dom/service';\nimport { HistoryService } from './history/service';\nimport { KeyBindingService } from './key-binding/service';\nimport { LayoutService } from './layout/service';\nimport { ModelService } from './model/service';\nimport { RenderService } from './render/service';\nimport { ServiceRegistry } from './service/registry';\nimport { TextService } from './text/service';\nimport { TransformService } from './transform/service';\nimport { generateId } from './util/id';\nimport { ViewService } from './view/service';\n\nvar Taleweaver =\n/** @class */\nfunction () {\n  function Taleweaver(root, config) {\n    this.instanceId = generateId();\n    this.serviceRegistry = new ServiceRegistry();\n    this.configService = new ConfigService(this.buildBaseConfig(), config);\n    this.serviceRegistry.registerService('config', this.configService);\n    this.domService = new DOMService();\n    this.serviceRegistry.registerService('dom', this.domService);\n    this.textService = new TextService(this.domService);\n    this.serviceRegistry.registerService('text', this.textService);\n    this.commandService = new CommandService(this.configService, this.serviceRegistry);\n    this.serviceRegistry.registerService('command', this.commandService);\n    this.componentService = new ComponentService(this.configService, this.serviceRegistry);\n    this.serviceRegistry.registerService('component', this.componentService);\n    this.modelService = new ModelService(root, this.componentService);\n    this.serviceRegistry.registerService('model', this.modelService);\n    this.renderService = new RenderService(this.componentService, this.modelService);\n    this.serviceRegistry.registerService('render', this.renderService);\n    this.cursorService = new CursorService(this.configService, this.renderService, this.modelService);\n    this.serviceRegistry.registerService('cursor', this.cursorService);\n    this.layoutService = new LayoutService(this.renderService, this.textService);\n    this.serviceRegistry.registerService('layout', this.layoutService);\n    this.transformService = new TransformService(this.modelService, this.componentService, this.cursorService, this.renderService, this.layoutService);\n    this.serviceRegistry.registerService('transform', this.transformService);\n    this.viewService = new ViewService(this.instanceId, this.configService, this.domService, this.componentService, this.modelService, this.layoutService, this.cursorService, this.renderService, this.commandService, this.transformService);\n    this.serviceRegistry.registerService('view', this.viewService);\n    this.historyService = new HistoryService(this.configService, this.transformService);\n    this.serviceRegistry.registerService('history', this.historyService);\n    this.keyBindingService = new KeyBindingService(this.configService, this.commandService, this.viewService);\n    this.serviceRegistry.registerService('keyBinding', this.keyBindingService);\n  }\n\n  Taleweaver.prototype.attach = function (domContainer) {\n    this.viewService.attach(domContainer);\n  };\n\n  Taleweaver.prototype.getServiceRegistry = function () {\n    return this.serviceRegistry;\n  };\n\n  Taleweaver.prototype.buildBaseConfig = function () {\n    return {\n      commands: {\n        'tw.clipboard.copy': clipboardCommandHandlers.copy,\n        'tw.clipboard.paste': clipboardCommandHandlers.paste,\n        'tw.cursor.move': cursorCommandHandlers.move,\n        'tw.cursor.moveBackwardByLine': cursorCommandHandlers.moveBackwardByLine,\n        'tw.cursor.moveForwardByLine': cursorCommandHandlers.moveForwardByLine,\n        'tw.cursor.moveBackward': cursorCommandHandlers.moveBackward,\n        'tw.cursor.moveForward': cursorCommandHandlers.moveForward,\n        'tw.cursor.moveBackwardByWord': cursorCommandHandlers.moveBackwardByWord,\n        'tw.cursor.moveForwardByWord': cursorCommandHandlers.moveForwardByWord,\n        'tw.cursor.moveToLineStart': cursorCommandHandlers.moveToLineStart,\n        'tw.cursor.moveToLineEnd': cursorCommandHandlers.moveToLineEnd,\n        'tw.cursor.moveToDocStart': cursorCommandHandlers.moveToDocStart,\n        'tw.cursor.moveToDocEnd': cursorCommandHandlers.moveToDocEnd,\n        'tw.cursor.moveHead': cursorCommandHandlers.moveHead,\n        'tw.cursor.moveHeadBackwardByLine': cursorCommandHandlers.moveHeadBackwardByLine,\n        'tw.cursor.moveHeadForwardByLine': cursorCommandHandlers.moveHeadForwardByLine,\n        'tw.cursor.moveHeadBackward': cursorCommandHandlers.moveHeadBackward,\n        'tw.cursor.moveHeadForward': cursorCommandHandlers.moveHeadForward,\n        'tw.cursor.moveHeadBackwardByWord': cursorCommandHandlers.moveHeadBackwardByWord,\n        'tw.cursor.moveHeadForwardByWord': cursorCommandHandlers.moveHeadForwardByWord,\n        'tw.cursor.moveHeadToLineStart': cursorCommandHandlers.moveHeadToLineStart,\n        'tw.cursor.moveHeadToLineEnd': cursorCommandHandlers.moveHeadToLineEnd,\n        'tw.cursor.moveHeadToDocStart': cursorCommandHandlers.moveHeadToDocStart,\n        'tw.cursor.moveHeadToDocEnd': cursorCommandHandlers.moveHeadToDocEnd,\n        'tw.cursor.selectAll': cursorCommandHandlers.selectAll,\n        'tw.cursor.selectWord': cursorCommandHandlers.selectWord,\n        'tw.cursor.selectBlock': cursorCommandHandlers.selectBlock,\n        'tw.history.undo': historyCommandHandlers.undo,\n        'tw.history.redo': historyCommandHandlers.redo,\n        'tw.state.insert': stateCommandHandlers.insert,\n        'tw.state.deleteBackward': stateCommandHandlers.deleteBackward,\n        'tw.state.deleteForward': stateCommandHandlers.deleteForward,\n        'tw.state.breakLine': stateCommandHandlers.breakLine,\n        'tw.view.focus': viewCommandHandlers.focus,\n        'tw.view.blur': viewCommandHandlers.blur\n      },\n      components: {\n        doc: DocComponent,\n        paragraph: ParagraphComponent,\n        text: TextComponent\n      },\n      cursor: {\n        disable: false,\n        caretColor: \"hsla(213, 100%, 50%, 1)\",\n        caretInactiveColor: 'hsla(0, 0%, 0%, 0.5)',\n        selectionColor: \"hsla(213, 100%, 50%, 0.2)\",\n        selectionInactiveColor: 'hsla(0, 0%, 0%, 0.08)'\n      },\n      history: {\n        collapseThreshold: 500,\n        maxCollapseDuration: 2000\n      },\n      keyBindings: {\n        common: {\n          left: {\n            command: 'tw.cursor.moveBackward',\n            preventDefault: true\n          },\n          right: {\n            command: 'tw.cursor.moveForward',\n            preventDefault: true\n          },\n          up: {\n            command: 'tw.cursor.moveBackwardByLine',\n            preventDefault: true\n          },\n          down: {\n            command: 'tw.cursor.moveForwardByLine',\n            preventDefault: true\n          },\n          'shift+left': {\n            command: 'tw.cursor.moveHeadBackward',\n            preventDefault: true\n          },\n          'shift+right': {\n            command: 'tw.cursor.moveHeadForward',\n            preventDefault: true\n          },\n          'shift+up': {\n            command: 'tw.cursor.moveHeadBackwardByLine',\n            preventDefault: true\n          },\n          'shift+down': {\n            command: 'tw.cursor.moveHeadForwardByLine',\n            preventDefault: true\n          },\n          backspace: {\n            command: 'tw.state.deleteBackward',\n            preventDefault: true\n          },\n          delete: {\n            command: 'tw.state.deleteForward',\n            preventDefault: true\n          },\n          enter: {\n            command: 'tw.state.breakLine',\n            preventDefault: true\n          }\n        },\n        macos: {\n          'alt+left': {\n            command: 'tw.cursor.moveBackwardByWord'\n          },\n          'alt+right': {\n            command: 'tw.cursor.moveForwardByWord'\n          },\n          'shift+alt+left': {\n            command: 'tw.cursor.moveHeadBackwardByWord'\n          },\n          'shift+alt+right': {\n            command: 'tw.cursor.moveHeadForwardByWord'\n          },\n          'cmd+left': {\n            command: 'tw.cursor.moveToLineStart'\n          },\n          'cmd+right': {\n            command: 'tw.cursor.moveToLineEnd'\n          },\n          'cmd+up': {\n            command: 'tw.cursor.moveToDocStart'\n          },\n          'cmd+down': {\n            command: 'tw.cursor.moveToDocEnd'\n          },\n          'shift+cmd+left': {\n            command: 'tw.cursor.moveHeadToLineStart'\n          },\n          'shift+cmd+right': {\n            command: 'tw.cursor.moveHeadToLineEnd'\n          },\n          'shift+cmd+up': {\n            command: 'tw.cursor.moveHeadToDocStart'\n          },\n          'shift+cmd+down': {\n            command: 'tw.cursor.moveHeadToDocEnd'\n          },\n          'cmd+a': {\n            command: 'tw.cursor.selectAll'\n          },\n          'cmd+z': {\n            command: 'tw.history.undo',\n            preventDefault: true\n          },\n          'shift+cmd+z': {\n            command: 'tw.history.redo',\n            preventDefault: true\n          }\n        },\n        windows: {\n          'ctrl+left': {\n            command: 'tw.cursor.moveBackwardByWord'\n          },\n          'ctrl+right': {\n            command: 'tw.cursor.moveForwardByWord'\n          },\n          'ctrl+shift+left': {\n            command: 'tw.cursor.moveHeadBackwardByWord'\n          },\n          'ctrl+shift+right': {\n            command: 'tw.cursor.moveHeadForwardByWord'\n          },\n          home: {\n            command: 'tw.cursor.moveToLineStart'\n          },\n          end: {\n            command: 'tw.cursor.moveToLineEnd'\n          },\n          'ctrl+home': {\n            command: 'tw.cursor.moveToDocStart'\n          },\n          'ctrl+end': {\n            command: 'tw.cursor.moveToDocEnd'\n          },\n          'shift+home': {\n            command: 'tw.cursor.moveHeadToLineStart'\n          },\n          'shift+end': {\n            command: 'tw.cursor.moveHeadToLineEnd'\n          },\n          'ctrl+shift+home': {\n            command: 'tw.cursor.moveHeadToDocStart'\n          },\n          'ctrl+shift+end': {\n            command: 'tw.cursor.moveHeadToDocEnd'\n          },\n          'ctrl+a': {\n            command: 'tw.cursor.selectAll'\n          },\n          'ctrl+z': {\n            command: 'tw.history.undo',\n            preventDefault: true\n          },\n          'ctrl+shift+z': {\n            command: 'tw.history.redo',\n            preventDefault: true\n          }\n        },\n        linux: {\n          'ctrl+left': {\n            command: 'tw.cursor.moveBackwardByWord'\n          },\n          'ctrl+right': {\n            command: 'tw.cursor.moveForwardByWord'\n          },\n          'ctrl+shift+left': {\n            command: 'tw.cursor.moveHeadBackwardByWord'\n          },\n          'ctrl+shift+right': {\n            command: 'tw.cursor.moveHeadForwardByWord'\n          },\n          home: {\n            command: 'tw.cursor.moveToLineStart'\n          },\n          end: {\n            command: 'tw.cursor.moveToLineEnd'\n          },\n          'ctrl+home': {\n            command: 'tw.cursor.moveToDocStart'\n          },\n          'ctrl+end': {\n            command: 'tw.cursor.moveToDocEnd'\n          },\n          'shift+home': {\n            command: 'tw.cursor.moveHeadToLineStart'\n          },\n          'shift+end': {\n            command: 'tw.cursor.moveHeadToLineEnd'\n          },\n          'ctrl+shift+home': {\n            command: 'tw.cursor.moveHeadToDocStart'\n          },\n          'ctrl+shift+end': {\n            command: 'tw.cursor.moveHeadToDocEnd'\n          },\n          'ctrl+a': {\n            command: 'tw.cursor.selectAll'\n          },\n          'ctrl+z': {\n            command: 'tw.history.undo',\n            preventDefault: true\n          },\n          'ctrl+shift+z': {\n            command: 'tw.history.redo',\n            preventDefault: true\n          }\n        }\n      },\n      page: {\n        width: 816,\n        height: 1056,\n        paddingTop: 40,\n        paddingBottom: 40,\n        paddingLeft: 40,\n        paddingRight: 40\n      }\n    };\n  };\n\n  return Taleweaver;\n}();\n\nexport { Taleweaver };","import { Taleweaver } from '@taleweaver/core';\nimport { ITextStyle } from '@taleweaver/core/dist/tw/component/components/text';\nimport React, { useEffect, useMemo, useState } from 'react';\nimport styled from 'styled-components';\n\nconst Wrapper = styled.div`\n    position: sticky;\n    top: 0;\n    padding: 3px 24px;\n    background: white;\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.09);\n    z-index: 10;\n`;\n\nconst Container = styled.div`\n    display: flex;\n    margin: 0 auto;\n    width: 816px;\n`;\n\nconst Group = styled.div`\n    flex: 0 0 auto;\n    display: flex;\n    border-radius: 4px;\n    padding: 0 6px;\n    position: relative;\n    &::before {\n        content: '';\n        position: absolute;\n        top: 9px;\n        bottom: 9px;\n        left: 0;\n        width: 1px;\n        background: rgba(0, 0, 0, 0.15);\n    }\n    &:last-child {\n        &::after {\n            content: '';\n            position: absolute;\n            top: 9px;\n            bottom: 9px;\n            right: 0;\n            width: 1px;\n            background: rgba(0, 0, 0, 0.15);\n        }\n    }\n`;\n\ninterface ItemProps {\n    disabled: boolean;\n    active: boolean;\n}\n\nconst Item = styled.button<ItemProps>`\n    flex: 0 0 auto;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 36px;\n    height: 36px;\n    font-size: 18px;\n    position: relative;\n    color: rgba(0, 0, 0, 0.85);\n    background: transparent;\n    padding: 0;\n    border: none;\n    border-radius: 3px;\n    outline: none;\n    &:after {\n        content: '';\n        position: absolute;\n        bottom: 0;\n        left: 3px;\n        right: 3px;\n        height: 3px;\n    }\n    &:hover,\n    &:focus {\n        background: rgba(0, 0, 0, 0.04);\n    }\n    ${({ disabled }) =>\n        disabled &&\n        `\n        opacity: 0.45;\n        &:hover,\n        &:focus {\n            background: transparent;\n        }\n    `}\n    ${({ active }) =>\n        active &&\n        `\n        color: rgba(255, 0, 0, 1);\n        &:after {\n            background: rgba(255, 0, 0, 1);\n        }\n    `}\n`;\n\ninterface SelectItemProps {\n    disabled: boolean;\n    width: number;\n}\n\nconst SelectItem = styled.select<SelectItemProps>`\n    -webkit-appearance: none;\n    border: none;\n    font-size: 12px;\n    font-weight: 500;\n    width: ${({ width }) => width}px;\n    background: white;\n    border-radius: 3px;\n    padding: 0 9px;\n    outline: none;\n    position: relative;\n    &:hover,\n    &:focus {\n        background: rgba(0, 0, 0, 0.04);\n    }\n    option {\n        color: rgba(0, 0, 0, 0.85);\n    }\n    ${({ disabled }) =>\n        disabled &&\n        `\n        opacity: 0.45;\n        &:hover,\n        &:focus {\n            background: transparent;\n        }\n    `}\n`;\n\ninterface ItemColorLineProps {\n    color: string;\n}\n\nconst ItemColorLine = styled.div<ItemColorLineProps>`\n    position: absolute;\n    bottom: 8px;\n    left: 9px;\n    right: 9px;\n    height: 3px;\n    background: ${({ color }) => color};\n`;\n\ninterface Props {\n    taleweaver: Taleweaver | null;\n}\n\nfunction getTextStylesByRange(taleweaver: Taleweaver, from: number, to: number): ITextStyle[] {\n    const renderService = taleweaver.getServiceRegistry().getService('render');\n    const styles = renderService.getStylesBetween(from, to);\n    if (!styles.text || !styles.text.text) {\n        if (styles.paragraph && styles.paragraph['line-break'] && from === to) {\n            return getTextStylesByRange(taleweaver, from - 1, to - 1);\n        }\n        return [];\n    }\n    return styles.text.text as ITextStyle[];\n}\n\nfunction getTextStyles(taleweaver: Taleweaver) {\n    const cursorService = taleweaver.getServiceRegistry().getService('cursor');\n    const { anchor, head } = cursorService.getCursor();\n    return getTextStylesByRange(taleweaver, Math.min(anchor, head), Math.max(anchor, head));\n}\n\nexport default function ToolBar({ taleweaver }: Props) {\n    const [textStyles, setTextStyles] = useState<ITextStyle[]>([]);\n    const updateTextStyle = useMemo(\n        () => (taleweaver: Taleweaver) => {\n            setTextStyles(getTextStyles(taleweaver));\n        },\n        [],\n    );\n    useEffect(() => {\n        if (!taleweaver) {\n            return;\n        }\n        const cursorService = taleweaver.getServiceRegistry().getService('cursor');\n        const renderService = taleweaver.getServiceRegistry().getService('render');\n        cursorService.onDidUpdate((event) => updateTextStyle(taleweaver));\n        renderService.onDidUpdateRenderState((event) => updateTextStyle(taleweaver));\n        updateTextStyle(taleweaver);\n    }, [taleweaver]);\n    const family = new Set(textStyles.map((s) => s.family)).size === 1 ? textStyles[0].family : null;\n    const size = new Set(textStyles.map((s) => s.size)).size === 1 ? textStyles[0].size : null;\n    const bold = new Set(textStyles.map((s) => s.weight > 400)).size === 1 ? textStyles[0].weight > 400 : false;\n    const italic = new Set(textStyles.map((s) => s.italic)).size === 1 ? textStyles[0].italic : false;\n    const underline = new Set(textStyles.map((s) => s.underline)).size === 1 ? textStyles[0].underline : false;\n    const strikethrough =\n        new Set(textStyles.map((s) => s.strikethrough)).size === 1 ? textStyles[0].strikethrough : false;\n    const color = new Set(textStyles.map((s) => s.color)).size === 1 ? textStyles[0].color : null;\n    return (\n        <Wrapper>\n            <Container>\n                <Group>\n                    <SelectItem width={120} value={'Normal'} disabled={false} onChange={(event) => null}>\n                        <option value=\"\" style={{ display: 'none' }}></option>\n                        <option value=\"Normal\">Normal text</option>\n                        <option value=\"Title\">Title</option>\n                        <option value=\"Subtitle\">Subtitle</option>\n                        <option value=\"Heading 1\">Heading 1</option>\n                        <option value=\"Heading 2\">Heading 2</option>\n                        <option value=\"Heading 3\">Heading 3</option>\n                    </SelectItem>\n                </Group>\n                <Group>\n                    <SelectItem width={120} value={family || ''} disabled={family === null} onChange={(event) => null}>\n                        <option value=\"\" style={{ display: 'none' }}></option>\n                        <option value=\"sans-serif\">sans-serif</option>\n                    </SelectItem>\n                </Group>\n                <Group>\n                    <SelectItem\n                        width={60}\n                        value={size ? size.toString() : ''}\n                        disabled={size === null}\n                        onChange={(event) => null}\n                    >\n                        <option value=\"\" style={{ display: 'hidden' }} />\n                        <option value=\"10\">10</option>\n                        <option value=\"12\">12</option>\n                        <option value=\"14\">14</option>\n                        <option value=\"16\">16</option>\n                        <option value=\"18\">18</option>\n                        <option value=\"24\">24</option>\n                        <option value=\"30\">30</option>\n                        <option value=\"36\">36</option>\n                        <option value=\"42\">42</option>\n                    </SelectItem>\n                </Group>\n                <Group>\n                    <Item active={bold} disabled={false} onClick={() => null}>\n                        <i className=\"mdi mdi-format-bold\" />\n                    </Item>\n                    <Item active={italic} disabled={false} onClick={() => null}>\n                        <i className=\"mdi mdi-format-italic\" />\n                    </Item>\n                    <Item active={underline} disabled={false} onClick={() => null}>\n                        <i className=\"mdi mdi-format-underline\" />\n                    </Item>\n                    <Item active={strikethrough} disabled={false} onClick={() => null}>\n                        <i className=\"mdi mdi-format-strikethrough-variant\" />\n                    </Item>\n                    <Item active={false} disabled={color === null} onClick={() => null}>\n                        <i className=\"mdi mdi-format-color-text\" style={{ position: 'relative', top: '-2px' }} />\n                        <ItemColorLine color={color || 'transparent'} />\n                    </Item>\n                </Group>\n            </Container>\n        </Wrapper>\n    );\n}\n","import { IConfig, Taleweaver } from '@taleweaver/core';\nimport { ModelDoc } from '@taleweaver/core/dist/tw/component/components/doc';\nimport { ModelParagraph } from '@taleweaver/core/dist/tw/component/components/paragraph';\nimport { ModelText } from '@taleweaver/core/dist/tw/component/components/text';\nimport React, { useEffect, useRef, useState } from 'react';\nimport styled from 'styled-components';\nimport ToolBar from './ToolBar';\n\nconst Wrapper = styled.div``;\n\nconst EditorWrapper = styled.div`\n    text-align: center;\n    .tw--doc--doc {\n        font-family: 'Source Sans Pro', sans-serif;\n        display: inline-block;\n        padding-bottom: 9px;\n        counter-reset: page-counter;\n    }\n    .tw--page--page {\n        background: rgba(255, 255, 255, 1);\n        margin: 9px auto 0;\n        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.15);\n        position: relative;\n        &::after {\n            counter-increment: page-counter;\n            content: 'Page ' counter(page-counter) '';\n            position: absolute;\n            top: 12px;\n            left: 50%;\n            transform: translateX(-50%);\n            font-size: 10px;\n            font-family: 'Quicksand', sans-serif;\n            font-weight: 500;\n            color: rgba(0, 0, 0, 0.45);\n            pointer-events: none;\n        }\n        *::selection {\n            background: rgba(255, 255, 255, 1);\n        }\n    }\n`;\n\ninterface IProps {\n    initialMarkup: string;\n    config?: IConfig['tw.core'];\n}\n\nexport default function Editor({ initialMarkup, config }: IProps) {\n    const domRef = useRef<HTMLDivElement>(null);\n    const [taleweaver, setTaleweaver] = useState<Taleweaver | null>(null);\n    useEffect(() => {\n        const mergedConfig: IConfig = {};\n        if (config) {\n            mergedConfig['tw.core'] = config;\n        }\n        const doc = new ModelDoc('doc', 'doc', {}, [\n            new ModelParagraph('paragraph', 'p1', {}, [new ModelText('text', 't1', 'Hello world', {})]),\n        ]);\n        setTaleweaver(new Taleweaver(doc, mergedConfig));\n    }, []);\n    useEffect(() => {\n        if (taleweaver && domRef.current) {\n            taleweaver.attach(domRef.current);\n        }\n    }, [taleweaver, domRef.current]);\n    return (\n        <Wrapper>\n            <ToolBar taleweaver={taleweaver} />\n            <EditorWrapper ref={domRef} />\n        </Wrapper>\n    );\n}\n","import Taleweaver from \"./Editor\";\n\nexport default Taleweaver;\n","export default `\n<doc {\"id\": \"doc\"}>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\", \"weight\": 700}>\n      Once upon a time there lived in a certain village a little country girl, the prettiest creature was ever seen. Her mother was excessively fond of her; and her grandmother doted on her still more. This good woman had made for her a little red riding-hood; which became the girl so extremely well that everybody called her Little Red Riding-Hood.\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\", \"italic\": true}>\n      One day her mother, having made some custards, said to her:\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\", \"color\": \"rgba(255, 0, 0, 1)\"}>\n      \"Go, my dear, and see how thy grandmamma does, for I hear she has been very ill; carry her a custard, and this little pot of butter.\"\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\", \"size\": 24}>\n      Little Red Riding-Hood set out immediately to go to her grandmother, who lived in another village.\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\", \"strikethrough\": true, \"underline\": true}>\n      As she was going through the wood, she met with Gaffer Wolf, who had a very great mind to eat her up, but he dared not, because of some faggot-makers hard by in the forest. He asked her whither she was going. The poor child, who did not know that it was dangerous to stay and hear a wolf talk, said to him:\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      \"I am going to see my grandmamma and carry her a custard and a little pot of butter from my mamma.\"\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      \"Does she live far off?\" said the Wolf.\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      \"Oh! ay,\" answered Little Red Riding-Hood; \"it is beyond that mill you see there, at the first house in the village.\"\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      \"Well,\" said the Wolf, \"and I'll go and see her too. I'll go this way and you go that, and we shall see who will be there soonest.\"\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      The Wolf began to run as fast as he could, taking the nearest way, and the little girl went by that farthest about, diverting herself in gathering nuts, running after butterflies, and making nosegays of such little flowers as she met with. The Wolf was not long before he got to the old woman's house. He knocked at the door--tap, tap.\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      \"Who's there?\"\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      \"Your grandchild, Little Red Riding-Hood,\" replied the Wolf, counterfeiting her voice; \"who has brought you a custard and a little pot of butter sent you by mamma.\"\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      The good grandmother, who was in bed, because she was somewhat ill, cried out\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      \"Pull the bobbin, and the latch will go up.\"\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      The Wolf pulled the bobbin, and the door opened, and then presently he fell upon the good woman and ate her up in a moment, for it was above three days that he had not touched a bit. He then shut the door and went into the grandmother's bed, expecting Little Red Riding- Hood, who came some time afterward and knocked at the door--tap, tap.\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      \"Who's there?\"\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      Little Red Riding-Hood, hearing the big voice of the Wolf, was at first afraid; but believing her grandmother had got a cold and was hoarse, answered:\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      \" 'Tis your grandchild, Little Red Riding-Hood, who has brought you a custard and a little pot of butter mamma sends you.\"\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      The Wolf cried out to her, softening his voice as much as he could:\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      \"Pull the bobbin, and the latch will go up.\"\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      Little Red Riding-Hood pulled the bobbin, and the door opened.\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      The Wolf, seeing her come in, said to her, hiding himself under the bed-clothes:\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      \"Put the custard and the little pot of butter upon the stool, and come and lie down with me.\"\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      Little Red Riding-Hood undressed herself and went into bed, where, being greatly amazed to see how her grandmother looked in her night-clothes, she said to her:\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      \"Grandmamma, what great arms you have got!\"\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      \"That is the better to hug thee, my dear.\"\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      \"Grandmamma, what great legs you have got!\"\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      \"That is to run the better, my child.\"\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      \"Grandmamma, what great ears you have got!\"\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      \"That is to hear the better, my child.\"\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      \"Grandmamma, what great eyes you have got!\"\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      \"It is to see the better, my child.\"\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      \"Grandmamma, what great teeth you have got!\"\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      \"That is to eat thee up.\"\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      And, saying these words, this wicked wolf fell upon Little Red Riding-Hood, and ate her all up.\n    </>\n  </>\n</>\n`\n    .split('\\n')\n    .map(line => line.trim())\n    .join('')\n    .replace(\n        /{{id}}/g,\n        () =>\n            `${Math.random()\n                .toString(36)\n                .substring(2)}`,\n    );\n","import React from 'react';\nimport styled from 'styled-components';\nimport './App.css';\nimport Taleweaver from './Editor';\nimport sampleMarkup from './samples/littleRedRidingHood';\n\nconst Wrapper = styled.div``;\n\nconst Hero = styled.div`\n    text-align: center;\n    padding: 90px 60px 30px;\n`;\n\nconst BrandWrapper = styled.div``;\n\nconst Brand = styled.span`\n    color: rgba(0, 0, 0, 0.65);\n    font-size: 42px;\n    letter-spacing: 0.02em;\n    padding-bottom: 10px;\n    border-bottom: 2px solid rgba(0, 0, 0, 0.65);\n`;\n\nconst Tagline = styled.h1`\n    font-size: 30px;\n    font-weight: 500;\n    color: rgba(0, 0, 0, 0.85);\n    margin: 90px 0 0;\n`;\n\nconst SupportingTagline = styled.h2`\n    font-size: 20px;\n    font-weight: 400;\n    color: rgba(0, 0, 0, 0.85);\n    margin: 30px 0 0;\n`;\n\nconst Links = styled.div`\n    margin-top: 90px;\n`;\n\nconst Link = styled.a`\n    display: inline-block;\n    padding: 15px 60px;\n    outline: none;\n    color: rgba(0, 0, 0, 0.85);\n    text-decoration: none;\n    font-size: 20px;\n    background: transparent;\n    border-radius: 3px;\n    border: 1px solid rgba(0, 0, 0, 0.15);\n    &:hover {\n        color: rgba(0, 0, 0, 1);\n        background: rgba(0, 0, 0, 0.04);\n        border-color: rgba(0, 0, 0, 0.25);\n    }\n`;\n\nconst DemoHintWrapper = styled.div`\n    text-align: center;\n    margin-top: 90px;\n`;\n\nconst DemoHint = styled.span`\n    text-transform: uppercase;\n    font-weight: 500;\n    font-size: 14px;\n    color: rgba(0, 0, 0, 0.65);\n    border-top: 1px solid rgba(0, 0, 0, 0.45);\n    padding-top: 10px;\n    cursor: default;\n`;\n\nclass App extends React.Component {\n    render() {\n        return (\n            <Wrapper>\n                <Hero>\n                    <BrandWrapper>\n                        <Brand>Taleweaver</Brand>\n                    </BrandWrapper>\n                    <Tagline>Word processing in your browser.</Tagline>\n                    <SupportingTagline>\n                        Open source editor delivering true word processing experience.\n                    </SupportingTagline>\n                    <Links>\n                        <Link href=\"https://github.com/yuzhenmi/taleweaver\">GitHub</Link>\n                    </Links>\n                    <DemoHintWrapper>\n                        <DemoHint>&darr; Check it out &darr;</DemoHint>\n                    </DemoHintWrapper>\n                </Hero>\n                <Taleweaver\n                    initialMarkup={sampleMarkup}\n                    config={{\n                        page: {\n                            width: 816,\n                            height: 1056,\n                            paddingTop: 60,\n                            paddingBottom: 60,\n                            paddingLeft: 60,\n                            paddingRight: 60,\n                        },\n                    }}\n                />\n            </Wrapper>\n        );\n    }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}