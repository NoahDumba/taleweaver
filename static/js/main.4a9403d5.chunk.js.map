{"version":3,"sources":["../../../packages/core/dist/tw/event/emitter.js","../../../packages/core/dist/tw/util/id.js","../../../packages/core/dist/tw/layout/node.js","../../../packages/core/dist/tw/state/token.js","../../../packages/core/dist/tw/layout/utility.js","../../../packages/core/dist/tw/view/node.js","../../../packages/core/dist/tw/component/component.js","../../../packages/core/dist/tw/tree/node.js","../../../packages/core/dist/tw/render/node.js","../../../packages/core/dist/tw/layout/atomic-node.js","../../../packages/core/dist/tw/tree/position.js","../../../packages/core/dist/tw/layout/block-node.js","../../../packages/core/dist/tw/layout/doc-node.js","../../../packages/core/dist/tw/layout/inline-node.js","../../../packages/core/dist/tw/render/atomic-node.js","../../../packages/core/dist/tw/render/inline-node.js","../../../packages/core/dist/tw/state/transformation.js","../../../packages/core/dist/tw/model/node.js","../../../packages/core/dist/tw/model/inline-node.js","../../../packages/core/dist/tw/layout/line-node.js","../../../packages/core/dist/tw/layout/page-node.js","../../../packages/core/dist/tw/render/block-node.js","../../../packages/core/dist/tw/render/doc-node.js","../../../packages/core/dist/tw/model/block-node.js","../../../packages/core/dist/tw/model/doc-node.js","../../../packages/core/dist/tw/view/inline-node.js","../../../packages/core/dist/tw/util/platform.js","../../../packages/core/dist/tw/tree/utility.js","../../../packages/core/dist/tw/layout/node-joiner.js","../../../packages/core/dist/tw/state/utility.js","../../../packages/core/dist/index.js","../../../packages/core/dist/tw/taleweaver.js","../../../packages/core/dist/tw/command/handlers/cursor.js","../../../packages/core/dist/tw/layout/rect.js","../../../packages/core/dist/tw/render/utility.js","../../../packages/core/dist/tw/command/handlers/history.js","../../../packages/core/dist/tw/command/handlers/state.js","../../../packages/core/dist/tw/model/utility.js","../../../packages/core/dist/tw/command/handlers/view.js","../../../packages/core/dist/tw/command/service.js","../../../packages/core/dist/tw/command/registry.js","../../../packages/core/dist/tw/component/components/doc.js","../../../packages/core/dist/tw/view/doc-node.js","../../../packages/core/dist/tw/component/components/paragraph.js","../../../packages/core/dist/tw/view/block-node.js","../../../packages/core/dist/tw/component/components/text.js","../../../packages/core/dist/tw/util/language.js","../../../packages/core/dist/tw/component/service.js","../../../packages/core/dist/tw/component/components/line.js","../../../packages/core/dist/tw/view/line-node.js","../../../packages/core/dist/tw/component/components/page.js","../../../packages/core/dist/tw/view/page-node.js","../../../packages/core/dist/tw/component/registry.js","../../../packages/core/dist/tw/config/service.js","../../../packages/core/dist/tw/cursor/service.js","../../../packages/core/dist/tw/cursor/cursor.js","../../../packages/core/dist/tw/history/service.js","../../../packages/core/dist/tw/history/state.js","../../../packages/core/dist/tw/history/action.js","../../../packages/core/dist/tw/key-binding/service.js","../../../packages/core/dist/tw/layout/service.js","../../../packages/core/dist/tw/layout/state.js","../../../packages/core/dist/tw/layout/flower.js","../../../packages/core/dist/tw/layout/node-breaker.js","../../../packages/core/dist/tw/layout/tree-builder.js","../../../packages/core/dist/tw/model/service.js","../../../packages/core/dist/tw/model/state.js","../../../packages/core/dist/tw/model/parser.js","../../../packages/core/dist/tw/render/service.js","../../../packages/core/dist/tw/render/state.js","../../../packages/core/dist/tw/render/tree-builder.js","../../../packages/core/dist/tw/service/registry.js","../../../packages/core/dist/tw/state/service.js","../../../packages/core/dist/tw/state/state.js","../../../packages/core/dist/tw/state/tokenizer.js","../../../packages/core/dist/tw/view/service.js","../../../packages/core/dist/tw/view/cursor.js","../../../packages/core/dist/tw/view/dom-controller.js","../../../packages/core/dist/tw/view/clipboard-observer.js","../../../packages/core/dist/tw/view/focus-observer.js","../../../packages/core/dist/tw/view/keyboard-observer.js","../../../packages/core/dist/tw/view/pointer-observer.js","../../../packages/core/dist/tw/view/state.js","../../../packages/core/dist/tw/view/tree-builder.js","Editor/ToolBar.tsx","Editor/Editor.tsx","Editor/index.ts","samples/littleRedRidingHood.ts","App.tsx","serviceWorker.ts","index.tsx"],"names":["__WEBPACK_AMD_DEFINE_RESULT__","undefined","require","exports","Object","defineProperty","value","EventEmitter","this","listeners","prototype","on","listener","push","emit","event","forEach","apply","__webpack_require__","module","generateId","Math","random","toString","substring","__WEBPACK_AMD_DEFINE_ARRAY__","__extends","_extendStatics","d","b","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","create","node_1","position_1","LayoutPosition","_super","arguments","Position","LayoutNode","componentId","id","_this","call","getComponentId","getId","getInnerWidth","getWidth","getHorizontalPaddng","getInnerHeight","getHeight","getVerticalPaddng","getPaddingTop","getPaddingBottom","getPaddingLeft","getPaddingRight","Node","CLOSE_TOKEN","atomic_node_1","block_node_1","doc_node_1","inline_node_1","line_node_1","page_node_1","identifyLayoutNodeType","node","DocLayoutNode","PageLayoutNode","BlockLayoutNode","LineLayoutNode","InlineLayoutNode","AtomicLayoutNode","Error","ViewNode","layoutNode","getPartId","getSize","insertChild","child","insertChildDOM","getDOMContainer","insertChildBefore","beforeChild","insertChildDOMBefore","appendChild","appendChildDOM","appendChildAfter","afterChild","appendChildDOMAfter","removeChild","removeChildDOM","getLayoutNode","onDidUpdate","updatedNode","onLayoutDidUpdate","childDOM","domContentContainer","getDOMContentContainer","insertBefore","firstChild","beforeChildDOM","afterChildDOM","nextSibling","Component","children","setParent","parent","getParent","isRoot","isLeaf","unshift","clearCache","beforeChildIndex","indexOf","splice","afterChildIndex","childIndex","getChildren","getFirstChild","length","getLastChild","getPreviousSibling","siblings","ownIndex","getNextSibling","getPreviousSiblingAllowCrossParent","previousSibling","parentNode","parentPreviousSibling","getNextSiblingAllowCrossParent","parentNextSibling","findDescendant","n","nn","result","clearOwnCache","parent_1","slice","updatedChildren","m","updatedChild","i","o","oo","RenderPosition","RenderNode","style","getStyle","getNodeClass","resolvePosition","offset","depth","getNode","getDepth","getOffset","setChild","getChild","getRoot","getLeaf","size","reduce","height","cumulatedOffset","_i","_a","childSize","position","childPosition","convertCoordinatesToOffset","x","y","cumulatedHeight","childHeight","convertCoordinateToOffset","resolveRects","from","to","rects","maxChildOffset","childFrom","max","childTo","min","childRect","width","paddingTop","paddingBottom","left","right","top","bottom","paddingLeft","paddingRight","resolvePageRects","getTailTrimmedWidth","tailTrimmedWidth","lastChild","cumulatedWidth","childWidth","AtomicRenderNode","convertOffsetToModelOffset","convertModelOffsetToOffset","modelOffset","InlineRenderNode","getModelSize","modelSize","childNode","cumulatedSize","cumulatedModelSize","childModelSize","InsertOperation","at","tokens","getOffsetAdjustment","delta","adjustOffset","adjustments","adjustment","getAt","getTokens","DeleteOperation","getFrom","getTo","AppliedInsertOperation","AppliedDeleteOperation","Transformation","operations","cursorAnchor","cursorHead","cursorLockLeft","addOperation","operation","getOperations","setCursor","setCursorHead","setCursorLockLeft","getCursorAnchor","getCursorHead","getCursorLockLeft","AppliedTransformation","originalTransformation","originalCursorHead","originalCursorAnchor","originalCursorLockLeft","beforeFrom","beforeTo","afterFrom","afterTo","getOriginalTransformation","getOriginalCursorHead","getOriginalCursorAnchor","getOriginalCursorLockLeft","getTransformedRange","ModelPosition","ModelNode","attributes","getAttributes","token_1","InlineModelNode","content","setContent","getContent","toTokens","partId","split","id_1","rect_1","flowed","getContentWidth","contentWidth","isFlowed","markAsFlowed","mergeLayoutRects","getContentHeight","contentHeight","contentX","contentY","BlockRenderNode","DocRenderNode","BlockModelNode","DocModelNode","InlineViewNode","detectPlatform","navigator","platform","startsWith","includes","getNodeLineage","lineage","currentNode","findCommonLineage","node1","node2","nodeLineage1","nodeLineage2","index","utility_1","NodeJoiner","join","thisNode","thatNode","joinPageNodes","joinLineNodes","thisLastChild","thatFirstChild","joinBlockNodes","thatParent","joinInlineNodes","identifyTokenType","token","taleweaver_1","Taleweaver","__importStar","mod","__esModule","k","cursorCommandHandlers","historyCommandHandlers","stateCommandHandlers","viewCommandHandlers","service_1","doc_1","paragraph_1","text_1","service_2","service_3","service_4","service_5","service_6","service_7","service_8","service_9","registry_1","service_10","service_11","initialMarkup","config","instanceId","serviceRegistry","ServiceRegistry","configService","ConfigService","buildBaseConfig","commandService","CommandService","componentService","ComponentService","cursorService","CursorService","stateService","StateService","historyService","HistoryService","modelService","ModelService","renderService","RenderService","layoutService","LayoutService","viewService","ViewService","keyBindingService","KeyBindingService","registerServices","attach","domContainer","getServiceRegistry","commands","tw.cursor.move","move","tw.cursor.moveUp","moveUp","tw.cursor.moveDown","moveDown","tw.cursor.moveLeft","moveLeft","tw.cursor.moveRight","moveRight","tw.cursor.moveLeftByWord","moveLeftByWord","tw.cursor.moveRightByWord","moveRightByWord","tw.cursor.moveToLineStart","moveToLineStart","tw.cursor.moveToLineEnd","moveToLineEnd","tw.cursor.moveToDocStart","moveToDocStart","tw.cursor.moveToDocEnd","moveToDocEnd","tw.cursor.moveHead","moveHead","tw.cursor.moveHeadUp","moveHeadUp","tw.cursor.moveHeadDown","moveHeadDown","tw.cursor.moveHeadLeft","moveHeadLeft","tw.cursor.moveHeadRight","moveHeadRight","tw.cursor.moveHeadLeftByWord","moveHeadLeftByWord","tw.cursor.moveHeadRightByWord","moveHeadRightByWord","tw.cursor.moveHeadToLineStart","moveHeadToLineStart","tw.cursor.moveHeadToLineEnd","moveHeadToLineEnd","tw.cursor.moveHeadToDocStart","moveHeadToDocStart","tw.cursor.moveHeadToDocEnd","moveHeadToDocEnd","tw.cursor.selectAll","selectAll","tw.history.undo","undo","tw.history.redo","redo","tw.state.insert","insert","tw.state.deleteBackward","deleteBackward","tw.state.deleteForward","deleteForward","tw.state.splitLine","splitLine","tw.view.focus","focus","tw.view.blur","blur","components","doc","DocComponent","paragraph","ParagraphComponent","text","TextComponent","TextMeasurer","cursor","disable","history","collapseThreshold","maxCollapseDuration","keyBindings","common","command","up","down","alt+left","alt+right","shift+left","shift+right","shift+up","shift+down","shift+alt+left","shift+alt+right","backspace","delete","enter","macos","cmd+left","cmd+right","cmd+up","cmd+down","shift+cmd+left","shift+cmd+right","shift+cmd+up","shift+cmd+down","cmd+a","cmd+z","shift+cmd+z","windows","linux","page","registerService","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","e","rejected","done","then","__generator","body","f","t","g","_","label","sent","trys","ops","verb","throw","return","Symbol","iterator","v","op","TypeError","pop","utility_2","transformation_1","tn","getService","applyTransformation","cursorState","anchor","head","hasCursor","getCursorState","docSize","getDocSize","linePosition","lineNode","previousLineNode","leftLock","targetLineSelectableOffset","nextLineNode","atomicPosition","atomicNode","previousAtomicNode","identifyRenderNodeType","nextAtomicNode","newOffset","isBreakable","lineBoxLevelPosition","lineLayoutPosition","lineLayoutNode","newCursorPosition","rect","previousRect","moveCursorByModelOffset","collapsedAt","modelCollapsedAt","_b","deleteFrom","deleteTo","modelDeleteFrom","modelDeleteTo","nodes","identifyModelNodeType","reverse","requestFocus","requestBlur","emitter_1","willExecuteCommandEventEmitter","didExecuteCommandEventEmitter","registry","CommandRegistry","entries","getConfig","commandId","commandHandler","registerCommand","onWillExecuteCommand","onDidExecuteCommand","executeCommand","args","getCommandHandler","concat","commandsMap","Map","set","get","doc_node_2","doc_node_3","doc_node_4","component_1","toDOM","$element","document","createElement","$childElement","clone","DocViewNode","textAlign","userSelect","buildModelNode","buildRenderNode","modelNode","buildLayoutNode","renderNode","buildViewNode","attached","isAttached","block_node_2","atomic_node_2","block_node_3","inline_node_2","block_node_4","inline_node_3","ParagraphModelNode","ParagraphRenderNode","lineBreakNode","buildLineBreakNode","inlineNode","ParagraphLineBreakRenderNode","ParagraphLineBreakAtomicRenderNode","ParagraphLayoutNode","ParagraphLineBreakLayoutNode","ParagraphLineBreakAtomicLayoutNode","takeMeasurement","breakAtWidth","ParagraphViewNode","BlockViewNode","ParagraphLineBreakViewNode","__assign","assign","s","language_1","inline_node_4","TextModelNode","$component","innerText","DEFAULT_TEXT_STYLE","weight","font","letterSpacing","underline","italic","strikethrough","color","TextRenderNode","WordRenderNode","word","getWord","breakable","oldWord","newWord","TextLayoutNode","WordLayoutNode","textMeasurer","measurement","measure","floor","substr","splitAt","newNode","lastWidth","width_1","fromTextMeasurement","toTextMeasurement","TextViewNode","display","whiteSpace","lineHeight","domContent","map","fontFamily","fontSize","fontWeight","textDecoration","fontStyle","style_1","words","breakTextToWords","wordIndex","wordRenderNode","$canvas","textStyle","ctx","getContext","fixFont","measureText","BREAKABLE_CHARS","char","line_1","page_1","ComponentRegistry","pageComponent","PageComponent","lineComponent","LineComponent","component","registerComponent","getComponent","getPageComponent","getLineComponent","line_node_2","LineViewNode","buildLineLayoutNode","page_node_2","PageViewNode","marginLeft","marginRight","buildPageLayoutNode","pageConfig","componentsMap","externalConfig","applyExternalConfig","coreConfig","cursor_1","Cursor","onDidUpdateCursor","setCursorState","assertCursor","getAnchor","getHead","getLeftLock","didUpdateCursorEventEmitter","state_1","state","HistoryState","action_1","actions","handleDidApplyTransformation","transformation","appliedTransformation","getAppliedTransformations","some","appliedTn","recordAppliedTransformationToNewAction","currentItem","now","Date","getBeganAt","getEndedAt","recordAppliedTransformationToLastAction","onDidApplyTransformation","action","consumeNextUndoableAction","appliedTransformations","unapplyTransformations","consumeNextRedoableAction","transformations","applyTransformations","HistoryAction","recordAppliedTransformation","beganAt","endedAt","platform_1","handleDidPressKey","keyBinding","key","keyBindingsConfig","bindKeys","onDidPressKey","binding","LayoutState","onDidUpdateLayoutState","getDocNode","flower_1","node_joiner_1","tree_builder_1","didUpdateLayoutStateEventEmitter","handleDidUpdateRenderStateEvent","LayoutTreeBuilder","buildTree","docNode","deduplicateNode","flowedNode","LayoutFlower","flow","docRenderNode","treeBuilder","onDidUpdateRenderState","deduplicateInlineNode","deduplicateBlockNode","nextNode","joiner","pageNode","nextPageNode","node_breaker_1","NodeQueue","lineNodes","pageNodes","queue","queueDocNode","queuePageNode","queueBlockNode","queueLineNode","queueInlineNode","queueAtomicNode","popLineNode","shift","popPageNode","nodeQueue","nodeJoiner","nodeBreaker","NodeBreaker","ran","flushLineNodeQueue","flushPageNodeQueue","flowLineNode","flowPageNode","joinNextPageNode","recordNodeAsUpdated","newPageNode","break","joinNextLineNode","newLineNode","nextBlockChild","nextInlineChild","nextAtomicChild","breakPageNode","breakLineNode","blockNodes","blockNode","blockNodeToMove","lastBlockNode","newBlockNode","breakBlockNode","lineNodeToMove","inlineNodes","inlineNodeToMove","lastInlineNode","newInlineNode","breakInlineNode","lineWidth","atomicNodes","atomicNodeToMove","newAtomicNode","breakAtomicNode","rootRenderNode","_buildTree","rootLayoutNode","buildNode","childLayoutNodes","childRenderNode","pageLayoutNode_1","childLayoutNode","lineLayoutNode_1","ModelState","onDidUpdateModelState","toHTML","outerHTML","parser_1","didUpdateModelStateEventEmitter","handleDidUpdateStateEvent","wrappedDepth","findWrappedDepth","findNodeContainingRange","updatedTokens","findNodeTokenRange","TokenParser","parse","parser","onDidUpdateState","findUpdatedNode","beforeFromPosition","beforeToPosition","beforeNode","afterTokenRange","findParentNodeOfTokenRange","afterNodeID","afterNode","findNodeInLineageById","maxDepth","fromPosition","toPosition","hintFrom","hintTo","depthPeak","opensNeeded","closesNeeded","tokensLength","nodeId","findNodeOpenTokenPositionAndDepth","findNodeCloseTokenPosition","hintPosition","currentDepth","ParserState","Stack","objects","object","peek","getDoc","parserState","NewNode","stack","contentBuffer","_parse","rootNode","processToken","error","message","appendToContent","closeNode","Content","parentStackObject","stackObject","JSON","stringify","RenderState","getStylesBetween","styles","extractStyle","componentStyles","didUpdateRenderStateEventEmitter","handleDidUpdateModelStateEvent","RenderTreeBuilder","docModelNode","rootModelNode","childModelNode","services","service","State","unapplyTransformation","tokenizer_1","didApplyTransformationEventEmitter","didUpdateStateEventEmitter","tokenizer","Tokenizer","tokenize","assertInitialized","transformedRange","findTransformedRange","offsetAdjustments","unadjustedOperation","appliedOperation","deletedTokens","__rest","getOwnPropertySymbols","TokenizerState","tokenizerState","NewToken","tagBuffer","attributesBuffer","markup","_tokenize","test","newTag","appendChar","NewTag","appendCharToTag","closeTag","Tag","newAttributes","TagAttributes","newAttributesString","endTag","appendCharToAttributes","TagAttributesString","endAttributesString","escapeNextAttributesStringChar","TagAttributesStringEscape","CloseTag","endCloseTag","dom_controller_1","ViewState","domController","DOMController","CursorView","onDidUpdateViewState","onDidFocus","onDidBlur","isFocused","blinkInterval","blinkState","domSelections","handleDidUpdateCursorState","updateView","handleDidUpdateViewState","handleDidFocus","handleDidBlur","domCaret","className","setAttribute","pointerEvents","clearDOMSelections","headPageOffset","headLeft","headTop","headHeight","boundCursorPosition","pageRects","pageViewNodes","focused","firstPageOffset","firstLayoutRectOffset","lastPageOffset","lastLayoutRectOffset","pageOffset","pageDOMContentContainer","rectOffset","domSelection","buildDOMSelection","background","parentElement","blinkStop","blinkStart","window","setInterval","updateDOMBlink","visibility","clearInterval","layoutRect","clipboard_observer_1","focus_observer_1","keyboard_observer_1","pointer_observer_1","composing","mouseDown","handleDidInsert","handleCompositionDidStart","handleCompositionDidEnd","handlePointerDidDown","inPage","handlePointerDidMove","pointerDown","$iframe","createIframe","$contentEditable","createContentEditable","keyboardObserver","KeyboardObserver","onDidInsert","onCompositionDidStart","onCompositionDidEnd","pointerObserver","PointerObserver","onPointerDidDown","onPointerDidMove","focusObserver","FocusObserver","clipboardObserver","ClipboardObserver","setTimeout","contentDocument","isComposing","scrolling","src","border","zIndex","opacity","overflow","contentEditable","didCopyEventEmitter","didPasteEventEmitter","handleCopy","preventDefault","handlePaste","data","clipboardData","addEventListener","onDidCopy","onDidPaste","didFocusEventEmitter","didBlurEventEmitter","handleFocus","handleBlur","didInsertEventEmitter","didPressKeyEventEmitter","compositionDidStartEventEmitter","compositionDidEndEventEmitter","keyInterpreter","KeyInterpreter","handleDidMutate","innerHTML","handleKeyDown","interpretFromKeyboardEvent","handleCompositionStart","handleCompositionEnd","mutationObserver","MutationObserver","observe","subtree","characterData","childList","childNodes","parseNode","nodeValue","toLowerCase","metaKey","altKey","shiftKey","ctrlKey","pointerDidDownEventEmitter","pointerDidMoveEventEmitter","pointerDidUpEventEmitter","handleMouseDown","resolveCoordinates","clientX","clientY","isDOMElementInPage","target","handleMouseMove","handleMouseUp","onPointerDidUp","pageViewNodes_1","pageViewNode","pageLayoutNode","pageBoundingClientRect","getBoundingClientRect","pageX","pageY","domElement","current","getAttribute","didUpdateViewStateEventEmitter","handleDidUpdateLayoutStateEvent","ViewTreeBuilder","docLayoutNode","rootViewNode","viewNode","childViewNode","applyMetadataToDOMContainer","Wrapper","styled","div","_templateObject","Container","_templateObject2","Group","_templateObject3","Item","button","_templateObject4","_ref","disabled","_ref2","active","SelectItem","select","_templateObject5","_ref3","_ref4","ItemColorLine","_templateObject6","_ref5","ToolBar","_ref6","taleweaver","_useState","useState","_useState2","slicedToArray","textStyles","setTextStyles","updateTextStyle","useMemo","getTextStyles","useEffect","Set","bold","react_default","a","onChange","onClick","Editor_templateObject","EditorWrapper","Editor_templateObject2","domRef","useRef","setTaleweaver","mergedConfig","Editor_Wrapper","ref","littleRedRidingHood","line","trim","replace","App_templateObject","Hero","App_templateObject2","BrandWrapper","App_templateObject3","Brand","span","App_templateObject4","Tagline","h1","App_templateObject5","SupportingTagline","h2","App_templateObject6","Links","_templateObject7","Link","_templateObject8","DemoHintWrapper","_templateObject9","DemoHint","_templateObject10","App","App_Wrapper","href","src_Editor","sampleMarkup","React","Boolean","location","hostname","match","ReactDOM","render","src_App_0","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.4a9403d5.chunk.js","sourcesContent":["define([\"require\", \"exports\"], function (require, exports) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var EventEmitter =\n  /** @class */\n  function () {\n    function EventEmitter() {\n      this.listeners = [];\n    }\n\n    EventEmitter.prototype.on = function (listener) {\n      this.listeners.push(listener);\n    };\n\n    EventEmitter.prototype.emit = function (event) {\n      this.listeners.forEach(function (listener) {\n        return listener(event);\n      });\n    };\n\n    return EventEmitter;\n  }();\n\n  exports.EventEmitter = EventEmitter;\n});","define([\"require\", \"exports\"], function (require, exports) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  function generateId() {\n    return Math.random().toString(36).substring(2);\n  }\n\n  exports.generateId = generateId;\n});","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\ndefine([\"require\", \"exports\", \"../tree/node\", \"../tree/position\"], function (require, exports, node_1, position_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var LayoutPosition =\n  /** @class */\n  function (_super) {\n    __extends(LayoutPosition, _super);\n\n    function LayoutPosition() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    return LayoutPosition;\n  }(position_1.Position);\n\n  exports.LayoutPosition = LayoutPosition;\n\n  var LayoutNode =\n  /** @class */\n  function (_super) {\n    __extends(LayoutNode, _super);\n\n    function LayoutNode(componentId, id) {\n      var _this = _super.call(this) || this;\n\n      _this.componentId = componentId;\n      _this.id = id;\n      return _this;\n    }\n\n    LayoutNode.prototype.getComponentId = function () {\n      return this.componentId;\n    };\n\n    LayoutNode.prototype.getId = function () {\n      return this.id;\n    };\n\n    LayoutNode.prototype.getInnerWidth = function () {\n      return this.getWidth() - this.getHorizontalPaddng();\n    };\n\n    LayoutNode.prototype.getInnerHeight = function () {\n      return this.getHeight() - this.getVerticalPaddng();\n    };\n\n    LayoutNode.prototype.getVerticalPaddng = function () {\n      return this.getPaddingTop() + this.getPaddingBottom();\n    };\n\n    LayoutNode.prototype.getHorizontalPaddng = function () {\n      return this.getPaddingLeft() + this.getPaddingRight();\n    };\n\n    return LayoutNode;\n  }(node_1.Node);\n\n  exports.LayoutNode = LayoutNode;\n});","define([\"require\", \"exports\"], function (require, exports) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.CLOSE_TOKEN = {};\n});","define([\"require\", \"exports\", \"./atomic-node\", \"./block-node\", \"./doc-node\", \"./inline-node\", \"./line-node\", \"./page-node\"], function (require, exports, atomic_node_1, block_node_1, doc_node_1, inline_node_1, line_node_1, page_node_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  function identifyLayoutNodeType(node) {\n    if (node instanceof doc_node_1.DocLayoutNode) {\n      return 'Doc';\n    }\n\n    if (node instanceof page_node_1.PageLayoutNode) {\n      return 'Page';\n    }\n\n    if (node instanceof block_node_1.BlockLayoutNode) {\n      return 'Block';\n    }\n\n    if (node instanceof line_node_1.LineLayoutNode) {\n      return 'Line';\n    }\n\n    if (node instanceof inline_node_1.InlineLayoutNode) {\n      return 'Inline';\n    }\n\n    if (node instanceof atomic_node_1.AtomicLayoutNode) {\n      return 'Atomic';\n    }\n\n    throw new Error('Unknown layout node type.');\n  }\n\n  exports.identifyLayoutNodeType = identifyLayoutNodeType;\n});","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\ndefine([\"require\", \"exports\", \"../tree/node\"], function (require, exports, node_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var ViewNode =\n  /** @class */\n  function (_super) {\n    __extends(ViewNode, _super);\n\n    function ViewNode(layoutNode) {\n      var _this = _super.call(this) || this;\n\n      _this.layoutNode = layoutNode;\n      return _this;\n    }\n\n    ViewNode.prototype.getComponentId = function () {\n      return this.layoutNode.getComponentId();\n    };\n\n    ViewNode.prototype.getPartId = function () {\n      return this.layoutNode.getPartId();\n    };\n\n    ViewNode.prototype.getId = function () {\n      return this.layoutNode.getId();\n    };\n\n    ViewNode.prototype.getSize = function () {\n      return this.layoutNode.getSize();\n    };\n\n    ViewNode.prototype.insertChild = function (child) {\n      _super.prototype.insertChild.call(this, child);\n\n      this.insertChildDOM(child.getDOMContainer());\n    };\n\n    ViewNode.prototype.insertChildBefore = function (child, beforeChild) {\n      _super.prototype.insertChildBefore.call(this, child, beforeChild);\n\n      this.insertChildDOMBefore(child.getDOMContainer(), beforeChild.getDOMContainer());\n    };\n\n    ViewNode.prototype.appendChild = function (child) {\n      _super.prototype.appendChild.call(this, child);\n\n      this.appendChildDOM(child.getDOMContainer());\n    };\n\n    ViewNode.prototype.appendChildAfter = function (child, afterChild) {\n      _super.prototype.appendChildAfter.call(this, child, afterChild);\n\n      this.appendChildDOMAfter(child.getDOMContainer(), afterChild.getDOMContainer());\n    };\n\n    ViewNode.prototype.removeChild = function (child) {\n      _super.prototype.removeChild.call(this, child);\n\n      this.removeChildDOM(child.getDOMContainer());\n    };\n\n    ViewNode.prototype.getLayoutNode = function () {\n      return this.layoutNode;\n    };\n\n    ViewNode.prototype.onDidUpdate = function (updatedNode) {\n      _super.prototype.onDidUpdate.call(this, updatedNode);\n\n      this.layoutNode = updatedNode.getLayoutNode();\n      this.onLayoutDidUpdate();\n    };\n\n    ViewNode.prototype.insertChildDOM = function (childDOM) {\n      var domContentContainer = this.getDOMContentContainer();\n      domContentContainer.insertBefore(childDOM, domContentContainer.firstChild);\n    };\n\n    ViewNode.prototype.insertChildDOMBefore = function (childDOM, beforeChildDOM) {\n      var domContentContainer = this.getDOMContentContainer();\n      domContentContainer.insertBefore(childDOM, beforeChildDOM);\n    };\n\n    ViewNode.prototype.appendChildDOM = function (childDOM) {\n      var domContentContainer = this.getDOMContentContainer();\n      domContentContainer.appendChild(childDOM);\n    };\n\n    ViewNode.prototype.appendChildDOMAfter = function (childDOM, afterChildDOM) {\n      var domContentContainer = this.getDOMContentContainer();\n      domContentContainer.insertBefore(childDOM, afterChildDOM.nextSibling);\n    };\n\n    ViewNode.prototype.removeChildDOM = function (childDOM) {\n      var domContentContainer = this.getDOMContentContainer();\n      domContentContainer.removeChild(childDOM);\n    };\n\n    return ViewNode;\n  }(node_1.Node);\n\n  exports.ViewNode = ViewNode;\n});","define([\"require\", \"exports\"], function (require, exports) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var Component =\n  /** @class */\n  function () {\n    function Component(id) {\n      this.id = id;\n    }\n\n    Component.prototype.getId = function () {\n      return this.id;\n    };\n\n    return Component;\n  }();\n\n  exports.Component = Component;\n});","define([\"require\", \"exports\"], function (require, exports) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var Node =\n  /** @class */\n  function () {\n    function Node() {\n      this.children = [];\n    }\n\n    Node.prototype.setParent = function (parent) {\n      this.parent = parent;\n    };\n\n    Node.prototype.getParent = function () {\n      if (this.isRoot()) {\n        throw new Error('Getting parent on root node is not allowed.');\n      }\n\n      return this.parent;\n    };\n\n    Node.prototype.insertChild = function (child) {\n      if (this.isLeaf()) {\n        throw new Error('Appending child to leaf node is not allowed.');\n      }\n\n      this.children.unshift(child);\n      child.setParent(this);\n      this.clearCache();\n    };\n\n    Node.prototype.insertChildBefore = function (child, beforeChild) {\n      if (this.isLeaf()) {\n        throw new Error('Inserting child to leaf node is not allowed.');\n      }\n\n      var beforeChildIndex = this.children.indexOf(beforeChild);\n\n      if (beforeChildIndex < 0) {\n        throw new Error('Error inserting, child to insert before is not found.');\n      }\n\n      this.children.splice(beforeChildIndex, 0, child);\n      child.setParent(this);\n      this.clearCache();\n    };\n\n    Node.prototype.appendChild = function (child) {\n      if (this.isLeaf()) {\n        throw new Error('Appending child to leaf node is not allowed.');\n      }\n\n      this.children.push(child);\n      child.setParent(this);\n      this.clearCache();\n    };\n\n    Node.prototype.appendChildAfter = function (child, afterChild) {\n      if (this.isLeaf()) {\n        throw new Error('Inserting child to leaf node is not allowed.');\n      }\n\n      var afterChildIndex = this.children.indexOf(afterChild);\n\n      if (afterChildIndex < 0) {\n        throw new Error('Error inserting, child to insert after is not found.');\n      }\n\n      this.children.splice(afterChildIndex + 1, 0, child);\n      child.setParent(this);\n      this.clearCache();\n    };\n\n    Node.prototype.removeChild = function (child) {\n      if (this.isLeaf()) {\n        throw new Error('Removing child from leaf node is not allowed.');\n      }\n\n      var childIndex = this.children.indexOf(child);\n\n      if (childIndex < 0) {\n        throw new Error('Error removing child, child is not found.');\n      }\n\n      this.children.splice(childIndex, 1);\n      child.setParent(undefined);\n      this.clearCache();\n    };\n\n    Node.prototype.getChildren = function () {\n      return this.children;\n    };\n\n    Node.prototype.getFirstChild = function () {\n      var children = this.getChildren();\n\n      if (children.length === 0) {\n        return undefined;\n      }\n\n      return children[0];\n    };\n\n    Node.prototype.getLastChild = function () {\n      var children = this.getChildren();\n\n      if (children.length === 0) {\n        return undefined;\n      }\n\n      return children[children.length - 1];\n    };\n\n    Node.prototype.getPreviousSibling = function () {\n      if (this.isRoot()) {\n        throw new Error('Getting previous sibling on root node is not allowed.');\n      }\n\n      var siblings = this.getParent().getChildren();\n      var ownIndex = siblings.indexOf(this);\n\n      if (ownIndex < 0) {\n        throw new Error('Error getting previous sibling, node is not found in parent.');\n      }\n\n      if (ownIndex === 0) {\n        return undefined;\n      }\n\n      return siblings[ownIndex - 1];\n    };\n\n    Node.prototype.getNextSibling = function () {\n      if (this.isRoot()) {\n        throw new Error('Getting next sibling on root node is not allowed.');\n      }\n\n      var siblings = this.getParent().getChildren();\n      var ownIndex = siblings.indexOf(this);\n\n      if (ownIndex < 0) {\n        throw new Error('Error getting next sibling, node is not found in parent.');\n      }\n\n      if (ownIndex === siblings.length - 1) {\n        return undefined;\n      }\n\n      return siblings[ownIndex + 1];\n    };\n\n    Node.prototype.getPreviousSiblingAllowCrossParent = function () {\n      if (this.isRoot()) {\n        throw new Error('Getting previous sibling on root node is not allowed.');\n      }\n\n      var previousSibling = this.getPreviousSibling();\n\n      if (previousSibling) {\n        return previousSibling;\n      }\n\n      var parentNode = this.getParent();\n\n      if (!parentNode || parentNode.isRoot()) {\n        return undefined;\n      }\n\n      var parentPreviousSibling = parentNode.getPreviousSiblingAllowCrossParent();\n\n      if (!parentPreviousSibling) {\n        return undefined;\n      }\n\n      return parentPreviousSibling.getLastChild();\n    };\n\n    Node.prototype.getNextSiblingAllowCrossParent = function () {\n      if (this.isRoot()) {\n        throw new Error('Getting next sibling on root node is not allowed.');\n      }\n\n      var nextSibling = this.getNextSibling();\n\n      if (nextSibling) {\n        return nextSibling;\n      }\n\n      var parentNode = this.getParent();\n\n      if (!parentNode || parentNode.isRoot()) {\n        return undefined;\n      }\n\n      var parentNextSibling = parentNode.getNextSiblingAllowCrossParent();\n\n      if (!parentNextSibling) {\n        return undefined;\n      }\n\n      return parentNextSibling.getFirstChild();\n    };\n\n    Node.prototype.findDescendant = function (id) {\n      if (this.getId() === id) {\n        return this;\n      }\n\n      if (this.isLeaf()) {\n        return undefined;\n      }\n\n      for (var n = 0, nn = this.children.length; n < nn; n++) {\n        var child = this.children[n];\n        var result = child.findDescendant(id);\n\n        if (result) {\n          return result;\n        }\n      }\n\n      return undefined;\n    };\n\n    Node.prototype.clearCache = function () {\n      this.clearOwnCache();\n\n      if (!this.isRoot()) {\n        var parent_1 = this.getParent();\n\n        if (parent_1) {\n          parent_1.clearCache();\n        }\n      }\n    };\n\n    Node.prototype.onDidUpdate = function (updatedNode) {\n      if (!this.isLeaf()) {\n        var children = this.children.slice();\n        var updatedChildren = updatedNode.children;\n        var m = 0;\n\n        for (var n = 0, nn = updatedChildren.length; n < nn; n++) {\n          var updatedChild = updatedChildren[n];\n          var i = -1;\n\n          for (var o = m, oo = children.length; o < oo; o++) {\n            if (children[o].getId() === updatedChild.getId()) {\n              i = o;\n              break;\n            }\n          }\n\n          if (i >= 0) {\n            while (m < i) {\n              this.removeChild(children[m]);\n              m++;\n            }\n\n            children[m].onDidUpdate(updatedChild);\n            m++;\n          } else {\n            if (m < children.length) {\n              this.insertChildBefore(updatedChild, children[m]);\n            } else {\n              this.appendChild(updatedChild);\n            }\n          }\n        }\n\n        while (m < children.length) {\n          this.removeChild(children[m]);\n          m++;\n        }\n      }\n    };\n\n    Node.prototype.clearOwnCache = function () {};\n\n    return Node;\n  }();\n\n  exports.Node = Node;\n});","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\ndefine([\"require\", \"exports\", \"../tree/node\", \"../tree/position\"], function (require, exports, node_1, position_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var RenderPosition =\n  /** @class */\n  function (_super) {\n    __extends(RenderPosition, _super);\n\n    function RenderPosition() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    return RenderPosition;\n  }(position_1.Position);\n\n  exports.RenderPosition = RenderPosition;\n\n  var RenderNode =\n  /** @class */\n  function (_super) {\n    __extends(RenderNode, _super);\n\n    function RenderNode(componentId, id, style) {\n      var _this = _super.call(this) || this;\n\n      _this.componentId = componentId;\n      _this.id = id;\n      _this.style = style;\n      return _this;\n    }\n\n    RenderNode.prototype.getComponentId = function () {\n      return this.componentId;\n    };\n\n    RenderNode.prototype.getId = function () {\n      return this.id;\n    };\n\n    RenderNode.prototype.getStyle = function () {\n      return this.style;\n    };\n\n    return RenderNode;\n  }(node_1.Node);\n\n  exports.RenderNode = RenderNode;\n});","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\ndefine([\"require\", \"exports\", \"./node\"], function (require, exports, node_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var AtomicLayoutNode =\n  /** @class */\n  function (_super) {\n    __extends(AtomicLayoutNode, _super);\n\n    function AtomicLayoutNode() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    AtomicLayoutNode.prototype.getNodeClass = function () {\n      return 'atomic';\n    };\n\n    AtomicLayoutNode.prototype.isRoot = function () {\n      return false;\n    };\n\n    AtomicLayoutNode.prototype.isLeaf = function () {\n      return true;\n    };\n\n    AtomicLayoutNode.prototype.resolvePosition = function (offset, depth) {\n      if (offset >= this.getSize()) {\n        throw new Error(\"Offset \" + offset + \" is out of range.\");\n      }\n\n      var position = new node_1.LayoutPosition(this, depth, offset);\n      return position;\n    };\n\n    AtomicLayoutNode.prototype.clearOwnCache = function () {};\n\n    return AtomicLayoutNode;\n  }(node_1.LayoutNode);\n\n  exports.AtomicLayoutNode = AtomicLayoutNode;\n});","define([\"require\", \"exports\"], function (require, exports) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var Position =\n  /** @class */\n  function () {\n    function Position(node, depth, offset) {\n      this.parent = null;\n      this.child = null;\n      this.node = node;\n      this.depth = depth;\n      this.offset = offset;\n    }\n\n    Position.prototype.getNode = function () {\n      return this.node;\n    };\n\n    Position.prototype.getDepth = function () {\n      return this.depth;\n    };\n\n    Position.prototype.getOffset = function () {\n      return this.offset;\n    };\n\n    Position.prototype.setParent = function (parent) {\n      this.parent = parent;\n    };\n\n    Position.prototype.getParent = function () {\n      return this.parent;\n    };\n\n    Position.prototype.setChild = function (child) {\n      this.child = child;\n    };\n\n    Position.prototype.getChild = function () {\n      return this.child;\n    };\n\n    Position.prototype.getRoot = function () {\n      if (this.parent) {\n        return this.parent.getRoot();\n      }\n\n      return this;\n    };\n\n    Position.prototype.getLeaf = function () {\n      if (this.child) {\n        return this.child.getLeaf();\n      }\n\n      return this;\n    };\n\n    return Position;\n  }();\n\n  exports.Position = Position;\n});","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\ndefine([\"require\", \"exports\", \"./node\"], function (require, exports, node_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var BlockLayoutNode =\n  /** @class */\n  function (_super) {\n    __extends(BlockLayoutNode, _super);\n\n    function BlockLayoutNode() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    BlockLayoutNode.prototype.getNodeClass = function () {\n      return 'block';\n    };\n\n    BlockLayoutNode.prototype.isRoot = function () {\n      return false;\n    };\n\n    BlockLayoutNode.prototype.isLeaf = function () {\n      return false;\n    };\n\n    BlockLayoutNode.prototype.getSize = function () {\n      if (this.size === undefined) {\n        this.size = this.getChildren().reduce(function (size, child) {\n          return size + child.getSize();\n        }, 0);\n      }\n\n      return this.size;\n    };\n\n    BlockLayoutNode.prototype.getWidth = function () {\n      var parent = this.getParent();\n\n      if (!parent) {\n        return 0;\n      }\n\n      return parent.getInnerWidth();\n    };\n\n    BlockLayoutNode.prototype.getHeight = function () {\n      if (this.height === undefined) {\n        this.height = this.getChildren().reduce(function (height, child) {\n          return height + child.getHeight();\n        }, this.getVerticalPaddng());\n      }\n\n      return this.height;\n    };\n\n    BlockLayoutNode.prototype.resolvePosition = function (offset, depth) {\n      var cumulatedOffset = 0;\n\n      for (var _i = 0, _a = this.getChildren(); _i < _a.length; _i++) {\n        var child = _a[_i];\n        var childSize = child.getSize();\n\n        if (cumulatedOffset + childSize > offset) {\n          var position = new node_1.LayoutPosition(this, depth, offset);\n          var childPosition = child.resolvePosition(offset - cumulatedOffset, depth + 1);\n          position.setChild(childPosition);\n          childPosition.setParent(position);\n          return position;\n        }\n\n        cumulatedOffset += childSize;\n      }\n\n      throw new Error(\"Offset \" + offset + \" is out of range.\");\n    };\n\n    BlockLayoutNode.prototype.convertCoordinatesToOffset = function (x, y) {\n      var offset = 0;\n      var cumulatedHeight = 0;\n\n      for (var _i = 0, _a = this.getChildren(); _i < _a.length; _i++) {\n        var child = _a[_i];\n        var childHeight = child.getHeight();\n\n        if (y >= cumulatedHeight && y <= cumulatedHeight + childHeight) {\n          offset += child.convertCoordinateToOffset(x);\n          break;\n        }\n\n        offset += child.getSize();\n        cumulatedHeight += childHeight;\n      }\n\n      return offset;\n    };\n\n    BlockLayoutNode.prototype.resolveRects = function (from, to) {\n      var _this = this;\n\n      var rects = [];\n      var offset = 0;\n      var cumulatedHeight = 0;\n      this.getChildren().forEach(function (child, n) {\n        var childHeight = child.getHeight();\n        var minChildOffset = 0;\n        var maxChildOffset = child.getSize();\n        var childFrom = Math.max(from - offset, minChildOffset);\n        var childTo = Math.min(to - offset, maxChildOffset);\n\n        if (childFrom <= maxChildOffset && childTo >= minChildOffset) {\n          var childRects = child.resolveRects(childFrom, childTo);\n          childRects.forEach(function (childRect) {\n            var width = childRect.width;\n            var height = childRect.height;\n\n            var paddingTop = _this.getPaddingTop();\n\n            var paddingBottom = _this.getPaddingBottom();\n\n            var left = childRect.left;\n            var right = childRect.right;\n            var top = cumulatedHeight + paddingTop + childRect.top;\n            var bottom = _this.getHeight() - cumulatedHeight - childHeight - childRect.bottom - paddingBottom;\n            rects.push({\n              width: width,\n              height: height,\n              left: left,\n              right: right,\n              top: top,\n              bottom: bottom,\n              paddingTop: childRect.paddingTop,\n              paddingBottom: childRect.paddingBottom,\n              paddingLeft: childRect.paddingLeft,\n              paddingRight: childRect.paddingRight\n            });\n          });\n        }\n\n        offset += child.getSize();\n        cumulatedHeight += childHeight;\n      });\n      return rects;\n    };\n\n    BlockLayoutNode.prototype.clearOwnCache = function () {\n      this.size = undefined;\n      this.height = undefined;\n    };\n\n    return BlockLayoutNode;\n  }(node_1.LayoutNode);\n\n  exports.BlockLayoutNode = BlockLayoutNode;\n});","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\ndefine([\"require\", \"exports\", \"./node\"], function (require, exports, node_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var DocLayoutNode =\n  /** @class */\n  function (_super) {\n    __extends(DocLayoutNode, _super);\n\n    function DocLayoutNode() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    DocLayoutNode.prototype.getNodeClass = function () {\n      return 'doc';\n    };\n\n    DocLayoutNode.prototype.isRoot = function () {\n      return true;\n    };\n\n    DocLayoutNode.prototype.isLeaf = function () {\n      return false;\n    };\n\n    DocLayoutNode.prototype.getSize = function () {\n      if (this.size === undefined) {\n        this.size = this.getChildren().reduce(function (size, child) {\n          return size + child.getSize();\n        }, 0);\n      }\n\n      return this.size;\n    };\n\n    DocLayoutNode.prototype.getWidth = function () {\n      return 0;\n    };\n\n    DocLayoutNode.prototype.getHeight = function () {\n      return 0;\n    };\n\n    DocLayoutNode.prototype.getPaddingTop = function () {\n      return 0;\n    };\n\n    DocLayoutNode.prototype.getPaddingBottom = function () {\n      return 0;\n    };\n\n    DocLayoutNode.prototype.getPaddingLeft = function () {\n      return 0;\n    };\n\n    DocLayoutNode.prototype.getPaddingRight = function () {\n      return 0;\n    };\n\n    DocLayoutNode.prototype.resolvePosition = function (offset) {\n      var cumulatedOffset = 0;\n\n      for (var _i = 0, _a = this.getChildren(); _i < _a.length; _i++) {\n        var child = _a[_i];\n        var childSize = child.getSize();\n\n        if (cumulatedOffset + childSize > offset) {\n          var position = new node_1.LayoutPosition(this, 0, offset);\n          var childPosition = child.resolvePosition(offset - cumulatedOffset, 1);\n          position.setChild(childPosition);\n          childPosition.setParent(position);\n          return position;\n        }\n\n        cumulatedOffset += childSize;\n      }\n\n      throw new Error(\"Offset \" + offset + \" is out of range.\");\n    };\n\n    DocLayoutNode.prototype.resolvePageRects = function (from, to) {\n      var rects = [];\n      this.getChildren().forEach(function () {\n        rects.push([]);\n      });\n      var offset = 0;\n      this.getChildren().forEach(function (child, n) {\n        var childSize = child.getSize();\n        var minChildOffset = 0;\n        var maxChildOffset = childSize;\n        var childFrom = Math.max(from - offset, minChildOffset);\n        var childTo = Math.min(to - offset, maxChildOffset);\n\n        if (childFrom <= maxChildOffset && childTo >= minChildOffset) {\n          var childRects = child.resolveRects(childFrom, childTo);\n          childRects.forEach(function (childRect) {\n            rects[n].push(childRect);\n          });\n        }\n\n        offset += childSize;\n      });\n      return rects;\n    };\n\n    DocLayoutNode.prototype.clearOwnCache = function () {\n      this.size = undefined;\n    };\n\n    return DocLayoutNode;\n  }(node_1.LayoutNode);\n\n  exports.DocLayoutNode = DocLayoutNode;\n});","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\ndefine([\"require\", \"exports\", \"./node\"], function (require, exports, node_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var InlineLayoutNode =\n  /** @class */\n  function (_super) {\n    __extends(InlineLayoutNode, _super);\n\n    function InlineLayoutNode() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    InlineLayoutNode.prototype.getNodeClass = function () {\n      return 'inline';\n    };\n\n    InlineLayoutNode.prototype.isRoot = function () {\n      return false;\n    };\n\n    InlineLayoutNode.prototype.isLeaf = function () {\n      return false;\n    };\n\n    InlineLayoutNode.prototype.getSize = function () {\n      if (this.size === undefined) {\n        this.size = this.getChildren().reduce(function (size, child) {\n          return size + child.getSize();\n        }, 0);\n      }\n\n      return this.size;\n    };\n\n    InlineLayoutNode.prototype.getWidth = function () {\n      if (this.width === undefined) {\n        this.width = this.getChildren().reduce(function (width, child) {\n          return width + child.getWidth();\n        }, this.getHorizontalPaddng());\n      }\n\n      return this.width;\n    };\n\n    InlineLayoutNode.prototype.getHeight = function () {\n      if (this.height === undefined) {\n        this.height = this.getChildren().reduce(function (height, child) {\n          return Math.max(height, child.getHeight());\n        }, 0) + this.getVerticalPaddng();\n      }\n\n      return this.height;\n    };\n\n    InlineLayoutNode.prototype.getTailTrimmedWidth = function () {\n      if (this.tailTrimmedWidth === undefined) {\n        var lastChild = this.getLastChild();\n\n        if (lastChild) {\n          this.tailTrimmedWidth = this.getWidth() - lastChild.getWidth() + lastChild.getTailTrimmedWidth();\n        } else {\n          this.tailTrimmedWidth = 0;\n        }\n      }\n\n      return this.tailTrimmedWidth;\n    };\n\n    InlineLayoutNode.prototype.resolvePosition = function (offset, depth) {\n      var cumulatedOffset = 0;\n\n      for (var _i = 0, _a = this.getChildren(); _i < _a.length; _i++) {\n        var child = _a[_i];\n        var childSize = child.getSize();\n\n        if (cumulatedOffset + childSize > offset) {\n          var position = new node_1.LayoutPosition(this, depth, offset);\n          var childPosition = child.resolvePosition(offset - cumulatedOffset, depth + 1);\n          position.setChild(childPosition);\n          childPosition.setParent(position);\n          return position;\n        }\n\n        cumulatedOffset += childSize;\n      }\n\n      throw new Error(\"Offset \" + offset + \" is out of range.\");\n    };\n\n    InlineLayoutNode.prototype.convertCoordinateToOffset = function (x) {\n      var offset = 0;\n      var cumulatedWidth = 0;\n\n      for (var _i = 0, _a = this.getChildren(); _i < _a.length; _i++) {\n        var child = _a[_i];\n        var childWidth = child.getWidth();\n\n        if (x >= cumulatedWidth && x <= cumulatedWidth + childWidth) {\n          offset += child.convertCoordinateToOffset(x - cumulatedWidth);\n          break;\n        }\n\n        offset += child.getSize();\n        cumulatedWidth += childWidth;\n      }\n\n      return offset;\n    };\n\n    InlineLayoutNode.prototype.resolveRects = function (from, to) {\n      var _this = this;\n\n      var rects = [];\n      var offset = 0;\n      var cumulatedWidth = 0;\n      this.getChildren().forEach(function (child, n) {\n        var childWidth = child.getWidth();\n        var minChildOffset = 0;\n        var maxChildOffset = child.getSize();\n        var childFrom = Math.max(from - offset, minChildOffset);\n        var childTo = Math.min(to - offset, maxChildOffset);\n\n        if (childFrom <= maxChildOffset && childTo >= minChildOffset) {\n          var childRects = child.resolveRects(childFrom, childTo);\n          childRects.forEach(function (childRect) {\n            var width = childRect.width;\n            var height = childRect.height;\n\n            var paddingTop = _this.getPaddingTop();\n\n            var paddingBottom = _this.getPaddingBottom();\n\n            var left = cumulatedWidth + childRect.left;\n            var right = _this.getWidth() - cumulatedWidth - childRect.right;\n            var top = paddingTop + childRect.top;\n            var bottom = paddingBottom + childRect.bottom;\n            rects.push({\n              width: width,\n              height: height,\n              left: left,\n              right: right,\n              top: top,\n              bottom: bottom,\n              paddingTop: paddingTop,\n              paddingBottom: paddingBottom,\n              paddingLeft: 0,\n              paddingRight: 0\n            });\n          });\n        }\n\n        offset += child.getSize();\n        cumulatedWidth += childWidth;\n      });\n      return rects;\n    };\n\n    InlineLayoutNode.prototype.clearOwnCache = function () {\n      this.size = undefined;\n      this.width = undefined;\n      this.height = undefined;\n      this.tailTrimmedWidth = undefined;\n    };\n\n    return InlineLayoutNode;\n  }(node_1.LayoutNode);\n\n  exports.InlineLayoutNode = InlineLayoutNode;\n});","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\ndefine([\"require\", \"exports\", \"./node\"], function (require, exports, node_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var AtomicRenderNode =\n  /** @class */\n  function (_super) {\n    __extends(AtomicRenderNode, _super);\n\n    function AtomicRenderNode() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    AtomicRenderNode.prototype.isRoot = function () {\n      return false;\n    };\n\n    AtomicRenderNode.prototype.isLeaf = function () {\n      return true;\n    };\n\n    AtomicRenderNode.prototype.resolvePosition = function (offset, depth) {\n      return new node_1.RenderPosition(this, depth, offset);\n    };\n\n    AtomicRenderNode.prototype.convertOffsetToModelOffset = function (offset) {\n      return offset;\n    };\n\n    AtomicRenderNode.prototype.convertModelOffsetToOffset = function (modelOffset) {\n      return modelOffset;\n    };\n\n    return AtomicRenderNode;\n  }(node_1.RenderNode);\n\n  exports.AtomicRenderNode = AtomicRenderNode;\n});","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\ndefine([\"require\", \"exports\", \"./node\"], function (require, exports, node_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var InlineRenderNode =\n  /** @class */\n  function (_super) {\n    __extends(InlineRenderNode, _super);\n\n    function InlineRenderNode() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    InlineRenderNode.prototype.isRoot = function () {\n      return false;\n    };\n\n    InlineRenderNode.prototype.isLeaf = function () {\n      return false;\n    };\n\n    InlineRenderNode.prototype.getSize = function () {\n      if (this.size === undefined) {\n        this.size = this.getChildren().reduce(function (size, child) {\n          return size + child.getSize();\n        }, 0);\n      }\n\n      return this.size;\n    };\n\n    InlineRenderNode.prototype.getModelSize = function () {\n      if (this.modelSize === undefined) {\n        this.modelSize = this.getChildren().reduce(function (size, childNode) {\n          return size + childNode.getModelSize();\n        }, 2);\n      }\n\n      return this.modelSize;\n    };\n\n    InlineRenderNode.prototype.resolvePosition = function (offset, depth) {\n      var cumulatedOffset = 0;\n\n      for (var _i = 0, _a = this.getChildren(); _i < _a.length; _i++) {\n        var child = _a[_i];\n        var childSize = child.getSize();\n\n        if (cumulatedOffset + childSize > offset) {\n          var position = new node_1.RenderPosition(this, depth, offset);\n          var childPosition = child.resolvePosition(offset - cumulatedOffset, depth + 1);\n          position.setChild(childPosition);\n          childPosition.setParent(position);\n          return position;\n        }\n\n        cumulatedOffset += childSize;\n      }\n\n      throw new Error(\"Offset \" + offset + \" is out of range.\");\n    };\n\n    InlineRenderNode.prototype.clearOwnCache = function () {\n      this.size = undefined;\n      this.modelSize = undefined;\n    };\n\n    InlineRenderNode.prototype.convertOffsetToModelOffset = function (offset) {\n      var cumulatedSize = 0;\n      var cumulatedModelSize = 1;\n\n      for (var _i = 0, _a = this.getChildren(); _i < _a.length; _i++) {\n        var child = _a[_i];\n        var childSize = child.getSize();\n\n        if (cumulatedSize + childSize > offset) {\n          return cumulatedModelSize + child.convertOffsetToModelOffset(offset - cumulatedSize);\n        }\n\n        cumulatedSize += childSize;\n        cumulatedModelSize += child.getModelSize();\n      }\n\n      throw new Error(\"Offset \" + offset + \" is out of range.\");\n    };\n\n    InlineRenderNode.prototype.convertModelOffsetToOffset = function (modelOffset) {\n      var cumulatedModelSize = 1;\n      var cumulatedSize = 0;\n\n      for (var _i = 0, _a = this.getChildren(); _i < _a.length; _i++) {\n        var child = _a[_i];\n        var childModelSize = child.getModelSize();\n\n        if (cumulatedModelSize + childModelSize > modelOffset) {\n          return cumulatedSize + child.convertModelOffsetToOffset(modelOffset - cumulatedModelSize);\n        }\n\n        cumulatedModelSize += childModelSize;\n        cumulatedSize += child.getSize();\n      }\n\n      throw new Error(\"Model offset \" + modelOffset + \" is out of range.\");\n    };\n\n    return InlineRenderNode;\n  }(node_1.RenderNode);\n\n  exports.InlineRenderNode = InlineRenderNode;\n});","define([\"require\", \"exports\"], function (require, exports) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var InsertOperation =\n  /** @class */\n  function () {\n    function InsertOperation(at, tokens) {\n      this.at = at;\n      this.tokens = tokens;\n    }\n\n    InsertOperation.prototype.getOffsetAdjustment = function () {\n      return {\n        at: this.at,\n        delta: this.tokens.length\n      };\n    };\n\n    InsertOperation.prototype.adjustOffset = function (adjustments) {\n      var at = this.at;\n      adjustments.forEach(function (adjustment) {\n        if (at >= adjustment.at) {\n          at += adjustment.delta;\n        }\n      });\n      return new InsertOperation(at, this.tokens);\n    };\n\n    InsertOperation.prototype.getAt = function () {\n      return this.at;\n    };\n\n    InsertOperation.prototype.getTokens = function () {\n      return this.tokens;\n    };\n\n    return InsertOperation;\n  }();\n\n  exports.InsertOperation = InsertOperation;\n\n  var DeleteOperation =\n  /** @class */\n  function () {\n    function DeleteOperation(from, to) {\n      this.from = from;\n      this.to = to;\n    }\n\n    DeleteOperation.prototype.getOffsetAdjustment = function () {\n      return {\n        at: this.to,\n        delta: this.from - this.to\n      };\n    };\n\n    DeleteOperation.prototype.adjustOffset = function (adjustments) {\n      var from = this.from;\n      var to = this.to;\n      adjustments.forEach(function (adjustment) {\n        if (from >= adjustment.at) {\n          from += adjustment.delta;\n        }\n\n        if (to >= adjustment.at) {\n          to += adjustment.delta;\n        }\n      });\n      return new DeleteOperation(from, to);\n    };\n\n    DeleteOperation.prototype.getFrom = function () {\n      return this.from;\n    };\n\n    DeleteOperation.prototype.getTo = function () {\n      return this.to;\n    };\n\n    return DeleteOperation;\n  }();\n\n  exports.DeleteOperation = DeleteOperation;\n\n  var AppliedInsertOperation =\n  /** @class */\n  function () {\n    function AppliedInsertOperation(at, tokens) {\n      this.at = at;\n      this.tokens = tokens;\n    }\n\n    AppliedInsertOperation.prototype.getAt = function () {\n      return this.at;\n    };\n\n    AppliedInsertOperation.prototype.getTokens = function () {\n      return this.tokens;\n    };\n\n    return AppliedInsertOperation;\n  }();\n\n  exports.AppliedInsertOperation = AppliedInsertOperation;\n\n  var AppliedDeleteOperation =\n  /** @class */\n  function () {\n    function AppliedDeleteOperation(at, tokens) {\n      this.at = at;\n      this.tokens = tokens;\n    }\n\n    AppliedDeleteOperation.prototype.getAt = function () {\n      return this.at;\n    };\n\n    AppliedDeleteOperation.prototype.getTokens = function () {\n      return this.tokens;\n    };\n\n    return AppliedDeleteOperation;\n  }();\n\n  exports.AppliedDeleteOperation = AppliedDeleteOperation;\n\n  var Transformation =\n  /** @class */\n  function () {\n    function Transformation() {\n      this.operations = [];\n      this.cursorAnchor = null;\n      this.cursorHead = null;\n      this.cursorLockLeft = null;\n    }\n\n    Transformation.prototype.addOperation = function (operation) {\n      this.operations.push(operation);\n    };\n\n    Transformation.prototype.getOperations = function () {\n      return this.operations;\n    };\n\n    Transformation.prototype.setCursor = function (at) {\n      this.cursorAnchor = at;\n      this.cursorHead = at;\n    };\n\n    Transformation.prototype.setCursorHead = function (cursorHead) {\n      this.cursorHead = cursorHead;\n    };\n\n    Transformation.prototype.setCursorLockLeft = function (cursorLockLeft) {\n      this.cursorLockLeft = cursorLockLeft;\n    };\n\n    Transformation.prototype.getCursorAnchor = function () {\n      return this.cursorAnchor;\n    };\n\n    Transformation.prototype.getCursorHead = function () {\n      return this.cursorHead;\n    };\n\n    Transformation.prototype.getCursorLockLeft = function () {\n      return this.cursorLockLeft;\n    };\n\n    return Transformation;\n  }();\n\n  exports.Transformation = Transformation;\n\n  var AppliedTransformation =\n  /** @class */\n  function () {\n    function AppliedTransformation(originalTransformation, originalCursorHead, originalCursorAnchor, originalCursorLockLeft) {\n      this.originalTransformation = originalTransformation;\n      this.originalCursorHead = originalCursorHead;\n      this.originalCursorAnchor = originalCursorAnchor;\n      this.originalCursorLockLeft = originalCursorLockLeft;\n      this.operations = [];\n    }\n\n    AppliedTransformation.prototype.addOperation = function (operation) {\n      this.operations.push(operation);\n      var beforeFrom;\n      var beforeTo;\n      var afterFrom;\n      var afterTo;\n\n      if (operation instanceof AppliedInsertOperation) {\n        var at = operation.getAt();\n        var insertedTokens = operation.getTokens();\n        beforeFrom = at;\n        beforeTo = at;\n        afterFrom = at;\n        afterTo = at + insertedTokens.length;\n      } else if (operation instanceof AppliedDeleteOperation) {\n        var at = operation.getAt();\n        var deletedTokens = operation.getTokens();\n        beforeFrom = at;\n        beforeTo = at + deletedTokens.length;\n        afterFrom = at;\n        afterTo = at;\n      } else {\n        throw new Error('Invalid applied operation encountered.');\n      }\n\n      if (this.beforeFrom === undefined || beforeFrom < this.beforeFrom) {\n        this.beforeFrom = beforeFrom;\n      }\n\n      if (this.beforeTo === undefined || beforeTo > this.beforeTo) {\n        this.beforeTo = beforeTo;\n      }\n\n      if (this.afterFrom === undefined || afterFrom < this.afterFrom) {\n        this.afterFrom = afterFrom;\n      }\n\n      if (this.afterTo === undefined || afterTo > this.afterTo) {\n        this.afterTo = afterTo;\n      }\n    };\n\n    AppliedTransformation.prototype.getOperations = function () {\n      return this.operations;\n    };\n\n    AppliedTransformation.prototype.getOriginalTransformation = function () {\n      return this.originalTransformation;\n    };\n\n    AppliedTransformation.prototype.getOriginalCursorHead = function () {\n      return this.originalCursorHead;\n    };\n\n    AppliedTransformation.prototype.getOriginalCursorAnchor = function () {\n      return this.originalCursorAnchor;\n    };\n\n    AppliedTransformation.prototype.getOriginalCursorLockLeft = function () {\n      return this.originalCursorLockLeft;\n    };\n\n    AppliedTransformation.prototype.getTransformedRange = function () {\n      if (this.beforeFrom === undefined) {\n        return undefined;\n      }\n\n      return {\n        beforeFrom: this.beforeFrom,\n        beforeTo: this.beforeTo,\n        afterFrom: this.afterFrom,\n        afterTo: this.afterTo\n      };\n    };\n\n    return AppliedTransformation;\n  }();\n\n  exports.AppliedTransformation = AppliedTransformation;\n});","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\ndefine([\"require\", \"exports\", \"../tree/node\", \"../tree/position\"], function (require, exports, node_1, position_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var ModelPosition =\n  /** @class */\n  function (_super) {\n    __extends(ModelPosition, _super);\n\n    function ModelPosition() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    return ModelPosition;\n  }(position_1.Position);\n\n  exports.ModelPosition = ModelPosition;\n\n  var ModelNode =\n  /** @class */\n  function (_super) {\n    __extends(ModelNode, _super);\n\n    function ModelNode(componentId, id, attributes) {\n      var _this = _super.call(this) || this;\n\n      _this.componentId = componentId;\n      _this.id = id;\n      _this.attributes = attributes;\n      return _this;\n    }\n\n    ModelNode.prototype.getComponentId = function () {\n      return this.componentId;\n    };\n\n    ModelNode.prototype.getId = function () {\n      return this.id;\n    };\n\n    ModelNode.prototype.getAttributes = function () {\n      return this.attributes;\n    };\n\n    return ModelNode;\n  }(node_1.Node);\n\n  exports.ModelNode = ModelNode;\n});","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\ndefine([\"require\", \"exports\", \"../state/token\", \"./node\"], function (require, exports, token_1, node_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var InlineModelNode =\n  /** @class */\n  function (_super) {\n    __extends(InlineModelNode, _super);\n\n    function InlineModelNode(componentId, id, attributes) {\n      var _this = _super.call(this, componentId, id, attributes) || this;\n\n      _this.content = '';\n      return _this;\n    }\n\n    InlineModelNode.prototype.isRoot = function () {\n      return false;\n    };\n\n    InlineModelNode.prototype.isLeaf = function () {\n      return true;\n    };\n\n    InlineModelNode.prototype.setContent = function (content) {\n      this.content = content;\n      this.clearCache();\n    };\n\n    InlineModelNode.prototype.getContent = function () {\n      return this.content;\n    };\n\n    InlineModelNode.prototype.getSize = function () {\n      if (this.size === undefined) {\n        return 2 + this.content.length;\n      }\n\n      return this.size;\n    };\n\n    InlineModelNode.prototype.resolvePosition = function (offset, depth) {\n      if (offset >= this.getSize()) {\n        throw new Error(\"Offset \" + offset + \" is out of range.\");\n      }\n\n      var position = new node_1.ModelPosition(this, depth, offset);\n      return position;\n    };\n\n    InlineModelNode.prototype.clearOwnCache = function () {\n      this.size = undefined;\n    };\n\n    InlineModelNode.prototype.onDidUpdate = function (updatedNode) {\n      _super.prototype.onDidUpdate.call(this, updatedNode);\n\n      var oldContent = this.content;\n      var newContent = updatedNode.getContent();\n\n      if (oldContent === newContent) {\n        return;\n      }\n\n      this.content = updatedNode.getContent();\n      this.clearCache();\n    };\n\n    InlineModelNode.prototype.toTokens = function () {\n      var tokens = [];\n      tokens.push({\n        componentId: this.getComponentId(),\n        partId: this.getPartId(),\n        id: this.getId(),\n        attributes: this.getAttributes()\n      });\n      tokens.push.apply(tokens, this.content.split(''));\n      tokens.push(token_1.CLOSE_TOKEN);\n      return tokens;\n    };\n\n    return InlineModelNode;\n  }(node_1.ModelNode);\n\n  exports.InlineModelNode = InlineModelNode;\n});","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\ndefine([\"require\", \"exports\", \"../util/id\", \"./node\", \"./rect\"], function (require, exports, id_1, node_1, rect_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var LineLayoutNode =\n  /** @class */\n  function (_super) {\n    __extends(LineLayoutNode, _super);\n\n    function LineLayoutNode(componentId) {\n      var _this = _super.call(this, componentId, id_1.generateId()) || this;\n\n      _this.flowed = false;\n      return _this;\n    }\n\n    LineLayoutNode.prototype.getNodeClass = function () {\n      return 'line';\n    };\n\n    LineLayoutNode.prototype.isRoot = function () {\n      return false;\n    };\n\n    LineLayoutNode.prototype.isLeaf = function () {\n      return false;\n    };\n\n    LineLayoutNode.prototype.getSize = function () {\n      if (this.size === undefined) {\n        this.size = this.getChildren().reduce(function (size, child) {\n          return size + child.getSize();\n        }, 0);\n      }\n\n      return this.size;\n    };\n\n    LineLayoutNode.prototype.getWidth = function () {\n      var parent = this.getParent();\n\n      if (!parent) {\n        return 0;\n      }\n\n      return parent.getInnerWidth();\n    };\n\n    LineLayoutNode.prototype.getHeight = function () {\n      if (this.height === undefined) {\n        this.height = this.getChildren().reduce(function (height, child) {\n          return Math.max(height, child.getHeight());\n        }, this.getVerticalPaddng());\n      }\n\n      return this.height;\n    };\n\n    LineLayoutNode.prototype.getContentWidth = function () {\n      if (this.contentWidth === undefined) {\n        this.contentWidth = this.getChildren().reduce(function (contentWidth, child) {\n          return contentWidth + child.getWidth();\n        }, 0);\n      }\n\n      return this.contentWidth;\n    };\n\n    LineLayoutNode.prototype.getPaddingTop = function () {\n      return 0;\n    };\n\n    LineLayoutNode.prototype.getPaddingBottom = function () {\n      return 0;\n    };\n\n    LineLayoutNode.prototype.getPaddingLeft = function () {\n      return 0;\n    };\n\n    LineLayoutNode.prototype.getPaddingRight = function () {\n      return 0;\n    };\n\n    LineLayoutNode.prototype.isFlowed = function () {\n      return this.flowed;\n    };\n\n    LineLayoutNode.prototype.markAsFlowed = function () {\n      this.flowed = true;\n    };\n\n    LineLayoutNode.prototype.resolvePosition = function (offset, depth) {\n      var cumulatedOffset = 0;\n\n      for (var _i = 0, _a = this.getChildren(); _i < _a.length; _i++) {\n        var child = _a[_i];\n        var childSize = child.getSize();\n\n        if (cumulatedOffset + childSize > offset) {\n          var position = new node_1.LayoutPosition(this, depth, offset);\n          var childPosition = child.resolvePosition(offset - cumulatedOffset, depth + 1);\n          position.setChild(childPosition);\n          childPosition.setParent(position);\n          return position;\n        }\n\n        cumulatedOffset += childSize;\n      }\n\n      throw new Error(\"Offset \" + offset + \" is out of range.\");\n    };\n\n    LineLayoutNode.prototype.convertCoordinateToOffset = function (x) {\n      var offset = 0;\n      var cumulatedWidth = 0;\n\n      for (var _i = 0, _a = this.getChildren(); _i < _a.length; _i++) {\n        var child = _a[_i];\n        var childWidth = child.getWidth();\n\n        if (x >= cumulatedWidth && x <= cumulatedWidth + childWidth) {\n          offset += child.convertCoordinateToOffset(x - cumulatedWidth);\n          break;\n        }\n\n        offset += child.getSize();\n        cumulatedWidth += childWidth;\n      }\n\n      if (offset === this.getSize()) {\n        return offset - 1;\n      }\n\n      return offset;\n    };\n\n    LineLayoutNode.prototype.resolveRects = function (from, to) {\n      var _this = this;\n\n      var rects = [];\n      var offset = 0;\n      var cumulatedWidth = 0;\n      this.getChildren().forEach(function (child, n) {\n        var childWidth = child.getWidth();\n        var minChildOffset = 0;\n        var maxChildOffset = child.getSize();\n        var childFrom = Math.max(from - offset, minChildOffset);\n        var childTo = Math.min(to - offset, maxChildOffset);\n\n        if (childFrom <= maxChildOffset && childTo >= minChildOffset && !(childFrom === childTo && childTo === maxChildOffset)) {\n          var childRects = child.resolveRects(childFrom, childTo);\n          childRects.forEach(function (childRect) {\n            var width = childRect.width;\n            var height = childRect.height;\n            var left = cumulatedWidth + childRect.left;\n            var right = _this.getWidth() - cumulatedWidth - childRect.right;\n            var top = childRect.top;\n            var bottom = childRect.bottom;\n            rects.push({\n              width: width,\n              height: height,\n              left: left,\n              right: right,\n              top: top,\n              bottom: bottom,\n              paddingTop: childRect.paddingTop,\n              paddingBottom: childRect.paddingBottom,\n              paddingLeft: 0,\n              paddingRight: 0\n            });\n          });\n        }\n\n        offset += child.getSize();\n        cumulatedWidth += childWidth;\n      });\n      rect_1.mergeLayoutRects(rects);\n      return rects;\n    };\n\n    LineLayoutNode.prototype.clearOwnCache = function () {\n      this.size = undefined;\n      this.height = undefined;\n      this.contentWidth = undefined;\n      this.flowed = false;\n    };\n\n    return LineLayoutNode;\n  }(node_1.LayoutNode);\n\n  exports.LineLayoutNode = LineLayoutNode;\n});","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\ndefine([\"require\", \"exports\", \"../util/id\", \"./node\"], function (require, exports, id_1, node_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var PageLayoutNode =\n  /** @class */\n  function (_super) {\n    __extends(PageLayoutNode, _super);\n\n    function PageLayoutNode(componentId, width, height, paddingTop, paddingBottom, paddingLeft, paddingRight) {\n      var _this = _super.call(this, componentId, id_1.generateId()) || this;\n\n      _this.componentId = componentId;\n      _this.width = width;\n      _this.height = height;\n      _this.paddingTop = paddingTop;\n      _this.paddingBottom = paddingBottom;\n      _this.paddingLeft = paddingLeft;\n      _this.paddingRight = paddingRight;\n      _this.flowed = false;\n      return _this;\n    }\n\n    PageLayoutNode.prototype.getNodeClass = function () {\n      return 'page';\n    };\n\n    PageLayoutNode.prototype.isRoot = function () {\n      return false;\n    };\n\n    PageLayoutNode.prototype.isLeaf = function () {\n      return false;\n    };\n\n    PageLayoutNode.prototype.getSize = function () {\n      if (this.size === undefined) {\n        this.size = this.getChildren().reduce(function (size, child) {\n          return size + child.getSize();\n        }, 0);\n      }\n\n      return this.size;\n    };\n\n    PageLayoutNode.prototype.getWidth = function () {\n      return this.width;\n    };\n\n    PageLayoutNode.prototype.getHeight = function () {\n      return this.height;\n    };\n\n    PageLayoutNode.prototype.getPaddingTop = function () {\n      return this.paddingTop;\n    };\n\n    PageLayoutNode.prototype.getPaddingBottom = function () {\n      return this.paddingBottom;\n    };\n\n    PageLayoutNode.prototype.getPaddingLeft = function () {\n      return this.paddingLeft;\n    };\n\n    PageLayoutNode.prototype.getPaddingRight = function () {\n      return this.paddingRight;\n    };\n\n    PageLayoutNode.prototype.getContentHeight = function () {\n      if (this.contentHeight === undefined) {\n        this.contentHeight = this.getChildren().reduce(function (contentHeight, child) {\n          return contentHeight + child.getHeight();\n        }, 0);\n      }\n\n      return this.contentHeight;\n    };\n\n    PageLayoutNode.prototype.isFlowed = function () {\n      return this.flowed;\n    };\n\n    PageLayoutNode.prototype.markAsFlowed = function () {\n      this.flowed = true;\n    };\n\n    PageLayoutNode.prototype.resolvePosition = function (offset, depth) {\n      var cumulatedOffset = 0;\n\n      for (var _i = 0, _a = this.getChildren(); _i < _a.length; _i++) {\n        var child = _a[_i];\n        var childSize = child.getSize();\n\n        if (cumulatedOffset + childSize > offset) {\n          var position = new node_1.LayoutPosition(this, depth, offset);\n          var childPosition = child.resolvePosition(offset - cumulatedOffset, depth + 1);\n          position.setChild(childPosition);\n          childPosition.setParent(position);\n          return position;\n        }\n\n        cumulatedOffset += childSize;\n      }\n\n      throw new Error(\"Offset \" + offset + \" is out of range.\");\n    };\n\n    PageLayoutNode.prototype.convertCoordinatesToOffset = function (x, y) {\n      var offset = 0;\n      var cumulatedHeight = 0;\n      var contentX = Math.min(Math.max(x - this.getPaddingLeft(), 0), this.getWidth() - this.getPaddingRight());\n      var contentY = Math.min(Math.max(y - this.getPaddingTop(), 0), this.getHeight() - this.getPaddingBottom());\n\n      for (var _i = 0, _a = this.getChildren(); _i < _a.length; _i++) {\n        var child = _a[_i];\n        var childHeight = child.getHeight();\n\n        if (contentY >= cumulatedHeight && contentY <= cumulatedHeight + childHeight) {\n          offset += child.convertCoordinatesToOffset(contentX, contentY - cumulatedHeight);\n          break;\n        }\n\n        offset += child.getSize();\n        cumulatedHeight += childHeight;\n      }\n\n      if (offset === this.getSize()) {\n        var lastChild = this.getLastChild();\n\n        if (lastChild) {\n          offset -= lastChild.getSize();\n          offset += lastChild.convertCoordinatesToOffset(contentX, lastChild.getHeight());\n        }\n      }\n\n      if (offset === this.getSize()) {\n        offset--;\n      }\n\n      return offset;\n    };\n\n    PageLayoutNode.prototype.resolveRects = function (from, to) {\n      var _this = this;\n\n      var rects = [];\n      var offset = 0;\n      var cumulatedHeight = 0;\n      this.getChildren().forEach(function (child, n) {\n        var childHeight = child.getHeight();\n        var minChildOffset = 0;\n        var maxChildOffset = child.getSize();\n        var childFrom = Math.max(from - offset, minChildOffset);\n        var childTo = Math.min(to - offset, maxChildOffset);\n\n        if (childFrom <= maxChildOffset && childTo >= minChildOffset) {\n          var childRects = child.resolveRects(childFrom, childTo);\n          childRects.forEach(function (childRect) {\n            var width = childRect.width;\n            var height = childRect.height;\n\n            var paddingTop = _this.getPaddingTop();\n\n            var paddingBottom = _this.getPaddingBottom();\n\n            var paddingLeft = _this.getPaddingLeft();\n\n            var paddingRight = _this.getPaddingRight();\n\n            var left = paddingLeft + childRect.left;\n            var right = paddingRight + childRect.right;\n            var top = cumulatedHeight + paddingTop + childRect.top;\n            var bottom = _this.getHeight() - cumulatedHeight - childHeight - childRect.bottom - paddingBottom;\n            rects.push({\n              width: width,\n              height: height,\n              left: left,\n              right: right,\n              top: top,\n              bottom: bottom,\n              paddingTop: childRect.paddingTop,\n              paddingBottom: childRect.paddingBottom,\n              paddingLeft: childRect.paddingLeft,\n              paddingRight: childRect.paddingRight\n            });\n          });\n        }\n\n        offset += child.getSize();\n        cumulatedHeight += childHeight;\n      });\n      return rects;\n    };\n\n    PageLayoutNode.prototype.clearOwnCache = function () {\n      this.size = undefined;\n      this.contentHeight = undefined;\n      this.flowed = false;\n    };\n\n    return PageLayoutNode;\n  }(node_1.LayoutNode);\n\n  exports.PageLayoutNode = PageLayoutNode;\n});","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\ndefine([\"require\", \"exports\", \"./node\"], function (require, exports, node_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var BlockRenderNode =\n  /** @class */\n  function (_super) {\n    __extends(BlockRenderNode, _super);\n\n    function BlockRenderNode() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    BlockRenderNode.prototype.isRoot = function () {\n      return false;\n    };\n\n    BlockRenderNode.prototype.isLeaf = function () {\n      return false;\n    };\n\n    BlockRenderNode.prototype.getSize = function () {\n      if (this.size === undefined) {\n        this.size = this.getChildren().reduce(function (size, child) {\n          return size + child.getSize();\n        }, 0);\n      }\n\n      return this.size;\n    };\n\n    BlockRenderNode.prototype.getModelSize = function () {\n      if (this.modelSize === undefined) {\n        this.modelSize = this.getChildren().reduce(function (size, childNode) {\n          return size + childNode.getModelSize();\n        }, 2);\n      }\n\n      return this.modelSize;\n    };\n\n    BlockRenderNode.prototype.resolvePosition = function (offset, depth) {\n      var cumulatedOffset = 0;\n\n      for (var _i = 0, _a = this.getChildren(); _i < _a.length; _i++) {\n        var child = _a[_i];\n        var childSize = child.getSize();\n\n        if (cumulatedOffset + childSize > offset) {\n          var position = new node_1.RenderPosition(this, depth, offset);\n          var childPosition = child.resolvePosition(offset - cumulatedOffset, depth + 1);\n          position.setChild(childPosition);\n          childPosition.setParent(position);\n          return position;\n        }\n\n        cumulatedOffset += childSize;\n      }\n\n      throw new Error(\"Offset \" + offset + \" is out of range.\");\n    };\n\n    BlockRenderNode.prototype.clearOwnCache = function () {\n      this.size = undefined;\n      this.modelSize = undefined;\n    };\n\n    BlockRenderNode.prototype.convertOffsetToModelOffset = function (offset) {\n      var cumulatedSize = 0;\n      var cumulatedModelSize = 1;\n\n      for (var _i = 0, _a = this.getChildren(); _i < _a.length; _i++) {\n        var child = _a[_i];\n        var childSize = child.getSize();\n\n        if (cumulatedSize + childSize > offset) {\n          return cumulatedModelSize + child.convertOffsetToModelOffset(offset - cumulatedSize);\n        }\n\n        cumulatedSize += childSize;\n        cumulatedModelSize += child.getModelSize();\n      }\n\n      throw new Error(\"Offset \" + offset + \" is out of range.\");\n    };\n\n    BlockRenderNode.prototype.convertModelOffsetToOffset = function (modelOffset) {\n      var cumulatedModelSize = 1;\n      var cumulatedSize = 0;\n\n      for (var _i = 0, _a = this.getChildren(); _i < _a.length; _i++) {\n        var child = _a[_i];\n        var childModelSize = child.getModelSize();\n\n        if (cumulatedModelSize + childModelSize > modelOffset) {\n          return cumulatedSize + child.convertModelOffsetToOffset(modelOffset - cumulatedModelSize);\n        }\n\n        cumulatedModelSize += childModelSize;\n        cumulatedSize += child.getSize();\n      }\n\n      throw new Error(\"Model offset \" + modelOffset + \" is out of range.\");\n    };\n\n    return BlockRenderNode;\n  }(node_1.RenderNode);\n\n  exports.BlockRenderNode = BlockRenderNode;\n});","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\ndefine([\"require\", \"exports\", \"./node\"], function (require, exports, node_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var DocRenderNode =\n  /** @class */\n  function (_super) {\n    __extends(DocRenderNode, _super);\n\n    function DocRenderNode() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    DocRenderNode.prototype.isRoot = function () {\n      return true;\n    };\n\n    DocRenderNode.prototype.isLeaf = function () {\n      return false;\n    };\n\n    DocRenderNode.prototype.getSize = function () {\n      if (this.size === undefined) {\n        this.size = this.getChildren().reduce(function (size, child) {\n          return size + child.getSize();\n        }, 0);\n      }\n\n      return this.size;\n    };\n\n    DocRenderNode.prototype.getModelSize = function () {\n      if (this.modelSize === undefined) {\n        this.modelSize = this.getChildren().reduce(function (size, childNode) {\n          return size + childNode.getModelSize();\n        }, 2);\n      }\n\n      return this.modelSize;\n    };\n\n    DocRenderNode.prototype.resolvePosition = function (offset) {\n      var cumulatedOffset = 0;\n\n      for (var _i = 0, _a = this.getChildren(); _i < _a.length; _i++) {\n        var child = _a[_i];\n        var childSize = child.getSize();\n\n        if (cumulatedOffset + childSize > offset) {\n          var position = new node_1.RenderPosition(this, 0, offset);\n          var childPosition = child.resolvePosition(offset - cumulatedOffset, 1);\n          position.setChild(childPosition);\n          childPosition.setParent(position);\n          return position;\n        }\n\n        cumulatedOffset += childSize;\n      }\n\n      throw new Error(\"Offset \" + offset + \" is out of range.\");\n    };\n\n    DocRenderNode.prototype.clearOwnCache = function () {\n      this.size = undefined;\n      this.modelSize = undefined;\n    };\n\n    DocRenderNode.prototype.convertOffsetToModelOffset = function (offset) {\n      var cumulatedSize = 0;\n      var cumulatedModelSize = 1;\n\n      for (var _i = 0, _a = this.getChildren(); _i < _a.length; _i++) {\n        var child = _a[_i];\n        var childSize = child.getSize();\n\n        if (cumulatedSize + childSize > offset) {\n          return cumulatedModelSize + child.convertOffsetToModelOffset(offset - cumulatedSize);\n        }\n\n        cumulatedSize += childSize;\n        cumulatedModelSize += child.getModelSize();\n      }\n\n      throw new Error(\"Offset \" + offset + \" is out of range.\");\n    };\n\n    DocRenderNode.prototype.convertModelOffsetToOffset = function (modelOffset) {\n      var cumulatedModelSize = 1;\n      var cumulatedSize = 0;\n\n      for (var _i = 0, _a = this.getChildren(); _i < _a.length; _i++) {\n        var child = _a[_i];\n        var childModelSize = child.getModelSize();\n\n        if (cumulatedModelSize + childModelSize > modelOffset) {\n          return cumulatedSize + child.convertModelOffsetToOffset(modelOffset - cumulatedModelSize);\n        }\n\n        cumulatedModelSize += childModelSize;\n        cumulatedSize += child.getSize();\n      }\n\n      throw new Error(\"Model offset \" + modelOffset + \" is out of range.\");\n    };\n\n    return DocRenderNode;\n  }(node_1.RenderNode);\n\n  exports.DocRenderNode = DocRenderNode;\n});","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\ndefine([\"require\", \"exports\", \"../state/token\", \"./node\"], function (require, exports, token_1, node_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var BlockModelNode =\n  /** @class */\n  function (_super) {\n    __extends(BlockModelNode, _super);\n\n    function BlockModelNode() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    BlockModelNode.prototype.isRoot = function () {\n      return false;\n    };\n\n    BlockModelNode.prototype.isLeaf = function () {\n      return false;\n    };\n\n    BlockModelNode.prototype.getSize = function () {\n      if (this.size === undefined) {\n        this.size = this.getChildren().reduce(function (size, childNode) {\n          return size + childNode.getSize();\n        }, 2);\n      }\n\n      return this.size;\n    };\n\n    BlockModelNode.prototype.resolvePosition = function (offset, depth) {\n      var cumulatedOffset = 1;\n\n      for (var _i = 0, _a = this.getChildren(); _i < _a.length; _i++) {\n        var child = _a[_i];\n        var childSize = child.getSize();\n\n        if (cumulatedOffset + childSize > offset) {\n          var position = new node_1.ModelPosition(this, depth, offset);\n          var childPosition = child.resolvePosition(offset - cumulatedOffset, depth + 1);\n          position.setChild(childPosition);\n          childPosition.setParent(position);\n          return position;\n        }\n\n        cumulatedOffset += childSize;\n      }\n\n      if (offset < this.getSize()) {\n        return new node_1.ModelPosition(this, depth, offset);\n      }\n\n      throw new Error(\"Offset \" + offset + \" is out of range.\");\n    };\n\n    BlockModelNode.prototype.clearOwnCache = function () {\n      this.size = undefined;\n    };\n\n    BlockModelNode.prototype.toTokens = function () {\n      var tokens = [];\n      tokens.push({\n        componentId: this.getComponentId(),\n        partId: this.getPartId(),\n        id: this.getId(),\n        attributes: this.getAttributes()\n      });\n      this.getChildren().forEach(function (childNode) {\n        tokens.push.apply(tokens, childNode.toTokens());\n      });\n      tokens.push(token_1.CLOSE_TOKEN);\n      return tokens;\n    };\n\n    return BlockModelNode;\n  }(node_1.ModelNode);\n\n  exports.BlockModelNode = BlockModelNode;\n});","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\ndefine([\"require\", \"exports\", \"../state/token\", \"./node\"], function (require, exports, token_1, node_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var DocModelNode =\n  /** @class */\n  function (_super) {\n    __extends(DocModelNode, _super);\n\n    function DocModelNode() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    DocModelNode.prototype.isRoot = function () {\n      return true;\n    };\n\n    DocModelNode.prototype.isLeaf = function () {\n      return false;\n    };\n\n    DocModelNode.prototype.getSize = function () {\n      if (this.size === undefined) {\n        this.size = this.getChildren().reduce(function (size, child) {\n          return size + child.getSize();\n        }, 2);\n      }\n\n      return this.size;\n    };\n\n    DocModelNode.prototype.resolvePosition = function (offset) {\n      var cumulatedOffset = 1;\n\n      for (var _i = 0, _a = this.getChildren(); _i < _a.length; _i++) {\n        var child = _a[_i];\n        var childSize = child.getSize();\n\n        if (cumulatedOffset + childSize > offset) {\n          var position = new node_1.ModelPosition(this, 0, offset);\n          var childPosition = child.resolvePosition(offset - cumulatedOffset, 1);\n          position.setChild(childPosition);\n          childPosition.setParent(position);\n          return position;\n        }\n\n        cumulatedOffset += childSize;\n      }\n\n      if (offset < this.getSize()) {\n        return new node_1.ModelPosition(this, 0, offset);\n      }\n\n      throw new Error(\"Offset \" + offset + \" is out of range.\");\n    };\n\n    DocModelNode.prototype.clearOwnCache = function () {\n      this.size = undefined;\n    };\n\n    DocModelNode.prototype.toTokens = function () {\n      var tokens = [];\n      tokens.push({\n        componentId: this.getComponentId(),\n        partId: this.getPartId(),\n        id: this.getId(),\n        attributes: this.getAttributes()\n      });\n      this.getChildren().forEach(function (child) {\n        tokens.push.apply(tokens, child.toTokens());\n      });\n      tokens.push(token_1.CLOSE_TOKEN);\n      return tokens;\n    };\n\n    return DocModelNode;\n  }(node_1.ModelNode);\n\n  exports.DocModelNode = DocModelNode;\n});","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\ndefine([\"require\", \"exports\", \"./node\"], function (require, exports, node_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var InlineViewNode =\n  /** @class */\n  function (_super) {\n    __extends(InlineViewNode, _super);\n\n    function InlineViewNode() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    InlineViewNode.prototype.getNodeClass = function () {\n      return 'inline';\n    };\n\n    InlineViewNode.prototype.isRoot = function () {\n      return false;\n    };\n\n    InlineViewNode.prototype.isLeaf = function () {\n      return true;\n    };\n\n    return InlineViewNode;\n  }(node_1.ViewNode);\n\n  exports.InlineViewNode = InlineViewNode;\n});","define([\"require\", \"exports\"], function (require, exports) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  function detectPlatform() {\n    if (navigator.platform.startsWith('Linux')) {\n      return 'Linux';\n    }\n\n    if (['Windows', 'Win16', 'Win32'].includes(navigator.platform)) {\n      return 'Windows';\n    }\n\n    if (['Macintosh', 'MacIntel', 'MacPPC', 'Mac68K'].includes(navigator.platform)) {\n      return 'macOS';\n    }\n\n    return 'Unknown';\n  }\n\n  exports.detectPlatform = detectPlatform;\n});","define([\"require\", \"exports\"], function (require, exports) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  function getNodeLineage(node) {\n    var lineage = [];\n    var currentNode = node;\n\n    while (true) {\n      lineage.unshift(currentNode);\n\n      if (currentNode.isRoot()) {\n        return lineage;\n      }\n\n      currentNode = currentNode.getParent();\n    }\n  }\n\n  exports.getNodeLineage = getNodeLineage;\n\n  function findCommonLineage(node1, node2) {\n    var nodeLineage1 = getNodeLineage(node1);\n    var nodeLineage2 = getNodeLineage(node2);\n    var index = 0;\n\n    while (index < nodeLineage1.length && index < nodeLineage2.length) {\n      if (nodeLineage1[index] !== nodeLineage2[index]) {\n        break;\n      }\n\n      index++;\n    }\n\n    if (index === 0) {\n      throw new Error('No common lineage found.');\n    }\n\n    return nodeLineage1[index - 1];\n  }\n\n  exports.findCommonLineage = findCommonLineage;\n});","define([\"require\", \"exports\", \"./utility\"], function (require, exports, utility_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var NodeJoiner =\n  /** @class */\n  function () {\n    function NodeJoiner() {}\n\n    NodeJoiner.prototype.join = function (thisNode, thatNode) {\n      if (utility_1.identifyLayoutNodeType(thisNode) !== utility_1.identifyLayoutNodeType(thatNode)) {\n        throw new Error('Nodes to be joined must be of the same type.');\n      }\n\n      switch (utility_1.identifyLayoutNodeType(thisNode)) {\n        case 'Page':\n          this.joinPageNodes(thisNode, thatNode);\n          break;\n\n        case 'Line':\n          this.joinLineNodes(thisNode, thatNode);\n          break;\n\n        default:\n      }\n    };\n\n    NodeJoiner.prototype.joinPageNodes = function (thisNode, thatNode) {\n      var thisLastChild = thisNode.getLastChild();\n      var thatFirstChild = thatNode.getFirstChild();\n\n      if (thisLastChild && thatFirstChild && thisLastChild.getId() === thatFirstChild.getId()) {\n        this.joinBlockNodes(thisLastChild, thatFirstChild);\n      }\n\n      thatNode.getChildren().slice().forEach(function (child) {\n        thatNode.removeChild(child);\n        thisNode.appendChild(child);\n      });\n      var thatParent = thatNode.getParent();\n\n      if (thatParent) {\n        thatParent.removeChild(thatNode);\n      }\n    };\n\n    NodeJoiner.prototype.joinBlockNodes = function (thisNode, thatNode) {\n      thatNode.getChildren().slice().forEach(function (child) {\n        thatNode.removeChild(child);\n        thisNode.appendChild(child);\n      });\n      var thatParent = thatNode.getParent();\n\n      if (thatParent) {\n        thatParent.removeChild(thatNode);\n      }\n    };\n\n    NodeJoiner.prototype.joinLineNodes = function (thisNode, thatNode) {\n      var thisLastChild = thisNode.getLastChild();\n      var thatFirstChild = thatNode.getFirstChild();\n\n      if (thisLastChild && thatFirstChild && thisLastChild.getId() === thatFirstChild.getId()) {\n        this.joinInlineNodes(thisLastChild, thatFirstChild);\n      }\n\n      thatNode.getChildren().slice().forEach(function (child) {\n        thatNode.removeChild(child);\n        thisNode.appendChild(child);\n      });\n      var thatParent = thatNode.getParent();\n\n      if (thatParent) {\n        thatParent.removeChild(thatNode);\n      }\n    };\n\n    NodeJoiner.prototype.joinInlineNodes = function (thisNode, thatNode) {\n      thatNode.getChildren().slice().forEach(function (child) {\n        thatNode.removeChild(child);\n        thisNode.appendChild(child);\n      });\n      var thatParent = thatNode.getParent();\n\n      if (thatParent) {\n        thatParent.removeChild(thatNode);\n      }\n    };\n\n    return NodeJoiner;\n  }();\n\n  exports.NodeJoiner = NodeJoiner;\n});","define([\"require\", \"exports\", \"./token\"], function (require, exports, token_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  function identifyTokenType(token) {\n    if (token === token_1.CLOSE_TOKEN) {\n      return 'CloseToken';\n    }\n\n    if (typeof token === 'string') {\n      return 'ContentToken';\n    }\n\n    if (typeof token === 'object' && token.hasOwnProperty('componentId')) {\n      return 'OpenToken';\n    }\n\n    throw new Error(\"Failed to identify token type: \" + token + \".\");\n  }\n\n  exports.identifyTokenType = identifyTokenType;\n});","define([\"require\", \"exports\", \"./tw/taleweaver\"], function (require, exports, taleweaver_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.Taleweaver = taleweaver_1.Taleweaver;\n});","var __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n  }\n  result[\"default\"] = mod;\n  return result;\n};\n\ndefine([\"require\", \"exports\", \"./command/handlers/cursor\", \"./command/handlers/history\", \"./command/handlers/state\", \"./command/handlers/view\", \"./command/service\", \"./component/components/doc\", \"./component/components/paragraph\", \"./component/components/text\", \"./component/service\", \"./config/service\", \"./cursor/service\", \"./history/service\", \"./key-binding/service\", \"./layout/service\", \"./model/service\", \"./render/service\", \"./service/registry\", \"./state/service\", \"./util/id\", \"./view/service\"], function (require, exports, cursorCommandHandlers, historyCommandHandlers, stateCommandHandlers, viewCommandHandlers, service_1, doc_1, paragraph_1, text_1, service_2, service_3, service_4, service_5, service_6, service_7, service_8, service_9, registry_1, service_10, id_1, service_11) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  cursorCommandHandlers = __importStar(cursorCommandHandlers);\n  historyCommandHandlers = __importStar(historyCommandHandlers);\n  stateCommandHandlers = __importStar(stateCommandHandlers);\n  viewCommandHandlers = __importStar(viewCommandHandlers);\n\n  var Taleweaver =\n  /** @class */\n  function () {\n    function Taleweaver(initialMarkup, config) {\n      this.instanceId = id_1.generateId();\n      this.serviceRegistry = new registry_1.ServiceRegistry();\n      this.configService = new service_3.ConfigService(this.buildBaseConfig(), config);\n      this.commandService = new service_1.CommandService(this.configService, this.serviceRegistry);\n      this.componentService = new service_2.ComponentService(this.configService);\n      this.cursorService = new service_4.CursorService(this.configService);\n      this.stateService = new service_10.StateService(this.cursorService, initialMarkup);\n      this.historyService = new service_5.HistoryService(this.configService, this.stateService);\n      this.modelService = new service_8.ModelService(this.componentService, this.stateService);\n      this.renderService = new service_9.RenderService(this.componentService, this.modelService);\n      this.layoutService = new service_7.LayoutService(this.componentService, this.renderService);\n      this.viewService = new service_11.ViewService(this.instanceId, this.componentService, this.layoutService, this.cursorService, this.renderService, this.commandService);\n      this.keyBindingService = new service_6.KeyBindingService(this.configService, this.commandService, this.viewService);\n      this.registerServices();\n    }\n\n    Taleweaver.prototype.attach = function (domContainer) {\n      this.viewService.attach(domContainer);\n    };\n\n    Taleweaver.prototype.getServiceRegistry = function () {\n      return this.serviceRegistry;\n    };\n\n    Taleweaver.prototype.buildBaseConfig = function () {\n      return {\n        commands: {\n          'tw.cursor.move': cursorCommandHandlers.move,\n          'tw.cursor.moveUp': cursorCommandHandlers.moveUp,\n          'tw.cursor.moveDown': cursorCommandHandlers.moveDown,\n          'tw.cursor.moveLeft': cursorCommandHandlers.moveLeft,\n          'tw.cursor.moveRight': cursorCommandHandlers.moveRight,\n          'tw.cursor.moveLeftByWord': cursorCommandHandlers.moveLeftByWord,\n          'tw.cursor.moveRightByWord': cursorCommandHandlers.moveRightByWord,\n          'tw.cursor.moveToLineStart': cursorCommandHandlers.moveToLineStart,\n          'tw.cursor.moveToLineEnd': cursorCommandHandlers.moveToLineEnd,\n          'tw.cursor.moveToDocStart': cursorCommandHandlers.moveToDocStart,\n          'tw.cursor.moveToDocEnd': cursorCommandHandlers.moveToDocEnd,\n          'tw.cursor.moveHead': cursorCommandHandlers.moveHead,\n          'tw.cursor.moveHeadUp': cursorCommandHandlers.moveHeadUp,\n          'tw.cursor.moveHeadDown': cursorCommandHandlers.moveHeadDown,\n          'tw.cursor.moveHeadLeft': cursorCommandHandlers.moveHeadLeft,\n          'tw.cursor.moveHeadRight': cursorCommandHandlers.moveHeadRight,\n          'tw.cursor.moveHeadLeftByWord': cursorCommandHandlers.moveHeadLeftByWord,\n          'tw.cursor.moveHeadRightByWord': cursorCommandHandlers.moveHeadRightByWord,\n          'tw.cursor.moveHeadToLineStart': cursorCommandHandlers.moveHeadToLineStart,\n          'tw.cursor.moveHeadToLineEnd': cursorCommandHandlers.moveHeadToLineEnd,\n          'tw.cursor.moveHeadToDocStart': cursorCommandHandlers.moveHeadToDocStart,\n          'tw.cursor.moveHeadToDocEnd': cursorCommandHandlers.moveHeadToDocEnd,\n          'tw.cursor.selectAll': cursorCommandHandlers.selectAll,\n          'tw.history.undo': historyCommandHandlers.undo,\n          'tw.history.redo': historyCommandHandlers.redo,\n          'tw.state.insert': stateCommandHandlers.insert,\n          'tw.state.deleteBackward': stateCommandHandlers.deleteBackward,\n          'tw.state.deleteForward': stateCommandHandlers.deleteForward,\n          'tw.state.splitLine': stateCommandHandlers.splitLine,\n          'tw.view.focus': viewCommandHandlers.focus,\n          'tw.view.blur': viewCommandHandlers.blur\n        },\n        components: {\n          doc: new doc_1.DocComponent('doc'),\n          paragraph: new paragraph_1.ParagraphComponent('paragraph'),\n          text: new text_1.TextComponent('text', new text_1.TextMeasurer())\n        },\n        cursor: {\n          disable: false\n        },\n        history: {\n          collapseThreshold: 500,\n          maxCollapseDuration: 2000\n        },\n        keyBindings: {\n          common: {\n            left: {\n              command: 'tw.cursor.moveLeft'\n            },\n            right: {\n              command: 'tw.cursor.moveRight'\n            },\n            up: {\n              command: 'tw.cursor.moveUp'\n            },\n            down: {\n              command: 'tw.cursor.moveDown'\n            },\n            'alt+left': {\n              command: 'tw.cursor.moveLeftByWord'\n            },\n            'alt+right': {\n              command: 'tw.cursor.moveRightByWord'\n            },\n            'shift+left': {\n              command: 'tw.cursor.moveHeadLeft'\n            },\n            'shift+right': {\n              command: 'tw.cursor.moveHeadRight'\n            },\n            'shift+up': {\n              command: 'tw.cursor.moveHeadUp'\n            },\n            'shift+down': {\n              command: 'tw.cursor.moveHeadDown'\n            },\n            'shift+alt+left': {\n              command: 'tw.cursor.moveHeadLeftByWord'\n            },\n            'shift+alt+right': {\n              command: 'tw.cursor.moveHeadRightByWord'\n            },\n            backspace: {\n              command: 'tw.state.deleteBackward'\n            },\n            delete: {\n              command: 'tw.state.deleteForward'\n            },\n            enter: {\n              command: 'tw.state.splitLine'\n            }\n          },\n          macos: {\n            'cmd+left': {\n              command: 'tw.cursor.moveToLineStart'\n            },\n            'cmd+right': {\n              command: 'tw.cursor.moveToLineEnd'\n            },\n            'cmd+up': {\n              command: 'tw.cursor.moveToDocStart'\n            },\n            'cmd+down': {\n              command: 'tw.cursor.moveToDocEnd'\n            },\n            'shift+cmd+left': {\n              command: 'tw.cursor.moveHeadToLineStart'\n            },\n            'shift+cmd+right': {\n              command: 'tw.cursor.moveHeadToLineEnd'\n            },\n            'shift+cmd+up': {\n              command: 'tw.cursor.moveHeadToDocStart'\n            },\n            'shift+cmd+down': {\n              command: 'tw.cursor.moveHeadToDocEnd'\n            },\n            'cmd+a': {\n              command: 'tw.cursor.selectAll'\n            },\n            'cmd+z': {\n              command: 'tw.history.undo'\n            },\n            'shift+cmd+z': {\n              command: 'tw.history.redo'\n            }\n          },\n          windows: {},\n          linux: {}\n        },\n        page: {\n          width: 816,\n          height: 1056,\n          paddingTop: 40,\n          paddingBottom: 40,\n          paddingLeft: 40,\n          paddingRight: 40\n        }\n      };\n    };\n\n    Taleweaver.prototype.registerServices = function () {\n      this.serviceRegistry.registerService('config', this.configService);\n      this.serviceRegistry.registerService('command', this.commandService);\n      this.serviceRegistry.registerService('component', this.componentService);\n      this.serviceRegistry.registerService('cursor', this.cursorService);\n      this.serviceRegistry.registerService('history', this.historyService);\n      this.serviceRegistry.registerService('state', this.stateService);\n      this.serviceRegistry.registerService('model', this.modelService);\n      this.serviceRegistry.registerService('render', this.renderService);\n      this.serviceRegistry.registerService('layout', this.layoutService);\n      this.serviceRegistry.registerService('view', this.viewService);\n      this.serviceRegistry.registerService('keyBinding', this.keyBindingService);\n    };\n\n    return Taleweaver;\n  }();\n\n  exports.Taleweaver = Taleweaver;\n});","var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : new P(function (resolve) {\n        resolve(result.value);\n      }).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\ndefine([\"require\", \"exports\", \"../../layout/utility\", \"../../render/utility\", \"../../state/transformation\"], function (require, exports, utility_1, utility_2, transformation_1) {\n  \"use strict\";\n\n  var _this = this;\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  exports.move = function (serviceRegistry, offset) {\n    return __awaiter(_this, void 0, void 0, function () {\n      var tn;\n      return __generator(this, function (_a) {\n        tn = new transformation_1.Transformation();\n        tn.setCursor(offset);\n        serviceRegistry.getService('state').applyTransformation(tn);\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  exports.moveLeft = function (serviceRegistry) {\n    return __awaiter(_this, void 0, void 0, function () {\n      var cursorService, tn, cursorState, anchor, head;\n      return __generator(this, function (_a) {\n        cursorService = serviceRegistry.getService('cursor');\n\n        if (!cursorService.hasCursor()) {\n          return [2\n          /*return*/\n          ];\n        }\n\n        tn = new transformation_1.Transformation();\n        cursorState = cursorService.getCursorState();\n        anchor = cursorState.anchor;\n        head = cursorState.head;\n\n        if (anchor === head) {\n          if (head < 1) {\n            return [2\n            /*return*/\n            ];\n          }\n\n          tn.setCursor(head - 1);\n        } else {\n          if (anchor < head) {\n            tn.setCursor(anchor);\n          } else if (anchor > head) {\n            tn.setCursor(head);\n          }\n        }\n\n        serviceRegistry.getService('state').applyTransformation(tn);\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  exports.moveRight = function (serviceRegistry) {\n    return __awaiter(_this, void 0, void 0, function () {\n      var cursorService, renderService, tn, cursorState, anchor, head, docSize;\n      return __generator(this, function (_a) {\n        cursorService = serviceRegistry.getService('cursor');\n        renderService = serviceRegistry.getService('render');\n\n        if (!cursorService.hasCursor()) {\n          return [2\n          /*return*/\n          ];\n        }\n\n        tn = new transformation_1.Transformation();\n        cursorState = cursorService.getCursorState();\n        anchor = cursorState.anchor;\n        head = cursorState.head;\n        docSize = renderService.getDocSize();\n\n        if (anchor === head) {\n          if (head >= docSize - 1) {\n            return [2\n            /*return*/\n            ];\n          }\n\n          tn.setCursor(head + 1);\n        } else {\n          if (anchor < head) {\n            tn.setCursor(head);\n          } else if (anchor > head) {\n            tn.setCursor(anchor);\n          }\n        }\n\n        serviceRegistry.getService('state').applyTransformation(tn);\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  exports.moveUp = function (serviceRegistry) {\n    return __awaiter(_this, void 0, void 0, function () {\n      var cursorService, layoutService, tn, cursorState, offset, position, linePosition, lineNode, previousLineNode, leftLock, targetLineSelectableOffset;\n      return __generator(this, function (_a) {\n        cursorService = serviceRegistry.getService('cursor');\n        layoutService = serviceRegistry.getService('layout');\n\n        if (!cursorService.hasCursor()) {\n          return [2\n          /*return*/\n          ];\n        }\n\n        tn = new transformation_1.Transformation();\n        cursorState = cursorService.getCursorState();\n        offset = Math.min(cursorState.anchor, cursorState.head);\n        position = layoutService.resolvePosition(offset);\n        linePosition = position.getLeaf().getParent().getParent();\n        lineNode = linePosition.getNode();\n\n        if (utility_1.identifyLayoutNodeType(lineNode) !== 'Line') {\n          throw new Error(\"Expecting position to be referencing an line node.\");\n        }\n\n        previousLineNode = lineNode.getPreviousSiblingAllowCrossParent();\n\n        if (!previousLineNode) {\n          tn.setCursor(offset - linePosition.getOffset());\n        } else {\n          leftLock = cursorState.leftLock;\n\n          if (leftLock === null) {\n            leftLock = lineNode.resolveRects(linePosition.getOffset(), linePosition.getOffset())[0].left;\n          }\n\n          tn.setCursorLockLeft(leftLock);\n          targetLineSelectableOffset = previousLineNode.convertCoordinateToOffset(leftLock);\n          tn.setCursor(offset - linePosition.getOffset() - previousLineNode.getSize() + targetLineSelectableOffset);\n        }\n\n        serviceRegistry.getService('state').applyTransformation(tn);\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  exports.moveDown = function (serviceRegistry) {\n    return __awaiter(_this, void 0, void 0, function () {\n      var cursorService, layoutService, tn, cursorState, offset, position, linePosition, lineNode, nextLineNode, leftLock, targetLineSelectableOffset;\n      return __generator(this, function (_a) {\n        cursorService = serviceRegistry.getService('cursor');\n        layoutService = serviceRegistry.getService('layout');\n\n        if (!cursorService.hasCursor()) {\n          return [2\n          /*return*/\n          ];\n        }\n\n        tn = new transformation_1.Transformation();\n        cursorState = cursorService.getCursorState();\n        offset = Math.max(cursorState.anchor, cursorState.head);\n        position = layoutService.resolvePosition(offset);\n        linePosition = position.getLeaf().getParent().getParent();\n        lineNode = linePosition.getNode();\n\n        if (utility_1.identifyLayoutNodeType(lineNode) !== 'Line') {\n          throw new Error(\"Expecting position to be referencing an line node.\");\n        }\n\n        nextLineNode = lineNode.getNextSiblingAllowCrossParent();\n\n        if (!nextLineNode) {\n          tn.setCursor(offset - linePosition.getOffset() + lineNode.getSize() - 1);\n        } else {\n          leftLock = cursorState.leftLock;\n\n          if (leftLock === null) {\n            leftLock = lineNode.resolveRects(linePosition.getOffset(), linePosition.getOffset())[0].left;\n          }\n\n          tn.setCursorLockLeft(leftLock);\n          targetLineSelectableOffset = nextLineNode.convertCoordinateToOffset(leftLock);\n          tn.setCursor(offset - linePosition.getOffset() + lineNode.getSize() + targetLineSelectableOffset);\n        }\n\n        serviceRegistry.getService('state').applyTransformation(tn);\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  exports.moveLeftByWord = function (serviceRegistry) {\n    return __awaiter(_this, void 0, void 0, function () {\n      var cursorService, renderService, tn, cursorState, offset, position, atomicPosition, atomicNode, previousAtomicNode;\n      return __generator(this, function (_a) {\n        cursorService = serviceRegistry.getService('cursor');\n        renderService = serviceRegistry.getService('render');\n\n        if (!cursorService.hasCursor()) {\n          return [2\n          /*return*/\n          ];\n        }\n\n        tn = new transformation_1.Transformation();\n        cursorState = cursorService.getCursorState();\n        offset = cursorState.head;\n        position = renderService.resolvePosition(offset);\n        atomicPosition = position.getLeaf();\n        atomicNode = atomicPosition.getNode();\n\n        if (utility_2.identifyRenderNodeType(atomicNode) !== 'atomic') {\n          throw new Error(\"Expecting position to be referencing an atomic node.\");\n        }\n\n        if (atomicPosition.getOffset() > 0) {\n          tn.setCursor(offset - atomicPosition.getOffset());\n        } else {\n          previousAtomicNode = atomicNode.getPreviousSiblingAllowCrossParent();\n\n          if (previousAtomicNode) {\n            tn.setCursor(offset - previousAtomicNode.getSize());\n          } else {\n            tn.setCursor(offset);\n          }\n        }\n\n        serviceRegistry.getService('state').applyTransformation(tn);\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  exports.moveRightByWord = function (serviceRegistry) {\n    return __awaiter(_this, void 0, void 0, function () {\n      var cursorService, renderService, tn, cursorState, offset, position, atomicPosition, atomicNode, nextAtomicNode, newOffset;\n      return __generator(this, function (_a) {\n        cursorService = serviceRegistry.getService('cursor');\n        renderService = serviceRegistry.getService('render');\n\n        if (!cursorService.hasCursor()) {\n          return [2\n          /*return*/\n          ];\n        }\n\n        tn = new transformation_1.Transformation();\n        cursorState = cursorService.getCursorState();\n        offset = cursorState.head;\n        position = renderService.resolvePosition(offset);\n        atomicPosition = position.getLeaf();\n        atomicNode = atomicPosition.getNode();\n\n        if (utility_2.identifyRenderNodeType(atomicNode) !== 'atomic') {\n          throw new Error(\"Expecting position to be referencing an atomic node.\");\n        }\n\n        if (atomicPosition.getOffset() < atomicNode.getSize() - 1) {\n          tn.setCursor(offset - atomicPosition.getOffset() + atomicNode.getSize() - 1);\n        } else {\n          nextAtomicNode = atomicNode.getNextSiblingAllowCrossParent();\n\n          if (nextAtomicNode) {\n            newOffset = offset - atomicPosition.getOffset() + atomicNode.getSize() + nextAtomicNode.getSize();\n\n            if (nextAtomicNode.isBreakable()) {\n              newOffset--;\n            }\n\n            tn.setCursor(newOffset);\n          } else {\n            tn.setCursor(offset);\n          }\n        }\n\n        serviceRegistry.getService('state').applyTransformation(tn);\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  exports.moveToLineStart = function (serviceRegistry) {\n    return __awaiter(_this, void 0, void 0, function () {\n      var cursorService, layoutService, tn, cursorState, offset, position, lineBoxLevelPosition;\n      return __generator(this, function (_a) {\n        cursorService = serviceRegistry.getService('cursor');\n        layoutService = serviceRegistry.getService('layout');\n\n        if (!cursorService.hasCursor()) {\n          return [2\n          /*return*/\n          ];\n        }\n\n        tn = new transformation_1.Transformation();\n        cursorState = cursorService.getCursorState();\n        offset = cursorState.head;\n        position = layoutService.resolvePosition(offset);\n        lineBoxLevelPosition = position.getLeaf().getParent().getParent();\n\n        if (lineBoxLevelPosition.getOffset() > 0) {\n          tn.setCursor(offset - lineBoxLevelPosition.getOffset());\n        } else {\n          tn.setCursor(offset);\n        }\n\n        serviceRegistry.getService('state').applyTransformation(tn);\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  exports.moveToLineEnd = function (serviceRegistry) {\n    return __awaiter(_this, void 0, void 0, function () {\n      var cursorService, layoutService, tn, cursorState, offset, position, lineLayoutPosition, lineLayoutNode;\n      return __generator(this, function (_a) {\n        cursorService = serviceRegistry.getService('cursor');\n        layoutService = serviceRegistry.getService('layout');\n\n        if (!cursorService.hasCursor()) {\n          return [2\n          /*return*/\n          ];\n        }\n\n        tn = new transformation_1.Transformation();\n        cursorState = cursorService.getCursorState();\n        offset = cursorState.head;\n        position = layoutService.resolvePosition(offset);\n        lineLayoutPosition = position.getLeaf().getParent().getParent();\n        lineLayoutNode = lineLayoutPosition.getNode();\n\n        if (utility_1.identifyLayoutNodeType(lineLayoutNode) !== 'Line') {\n          throw new Error(\"Expecting position to be referencing an line layout node.\");\n        }\n\n        if (lineLayoutPosition.getOffset() < lineLayoutNode.getSize() - 1) {\n          tn.setCursor(offset - lineLayoutPosition.getOffset() + lineLayoutNode.getSize() - 1);\n        } else {\n          tn.setCursor(offset);\n        }\n\n        serviceRegistry.getService('state').applyTransformation(tn);\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  exports.moveToDocStart = function (serviceRegistry) {\n    return __awaiter(_this, void 0, void 0, function () {\n      var cursorService, tn;\n      return __generator(this, function (_a) {\n        cursorService = serviceRegistry.getService('cursor');\n\n        if (!cursorService.hasCursor()) {\n          return [2\n          /*return*/\n          ];\n        }\n\n        tn = new transformation_1.Transformation();\n        tn.setCursor(0);\n        serviceRegistry.getService('state').applyTransformation(tn);\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  exports.moveToDocEnd = function (serviceRegistry) {\n    return __awaiter(_this, void 0, void 0, function () {\n      var cursorService, renderService, tn, docSize;\n      return __generator(this, function (_a) {\n        cursorService = serviceRegistry.getService('cursor');\n        renderService = serviceRegistry.getService('render');\n\n        if (!cursorService.hasCursor()) {\n          return [2\n          /*return*/\n          ];\n        }\n\n        tn = new transformation_1.Transformation();\n        docSize = renderService.getDocSize();\n        tn.setCursor(docSize - 1);\n        serviceRegistry.getService('state').applyTransformation(tn);\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  exports.moveHead = function (serviceRegistry, offset) {\n    return __awaiter(_this, void 0, void 0, function () {\n      var tn;\n      return __generator(this, function (_a) {\n        tn = new transformation_1.Transformation();\n        tn.setCursorHead(offset);\n        serviceRegistry.getService('state').applyTransformation(tn);\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  exports.moveHeadLeft = function (serviceRegistry) {\n    return __awaiter(_this, void 0, void 0, function () {\n      var cursorService, tn, cursorState, head;\n      return __generator(this, function (_a) {\n        cursorService = serviceRegistry.getService('cursor');\n\n        if (!cursorService.hasCursor()) {\n          return [2\n          /*return*/\n          ];\n        }\n\n        tn = new transformation_1.Transformation();\n        cursorState = cursorService.getCursorState();\n        head = cursorState.head;\n\n        if (head < 1) {\n          return [2\n          /*return*/\n          ];\n        }\n\n        tn.setCursorHead(head - 1);\n        serviceRegistry.getService('state').applyTransformation(tn);\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  exports.moveHeadRight = function (serviceRegistry) {\n    return __awaiter(_this, void 0, void 0, function () {\n      var cursorService, renderService, tn, cursorState, head, docSize;\n      return __generator(this, function (_a) {\n        cursorService = serviceRegistry.getService('cursor');\n        renderService = serviceRegistry.getService('render');\n\n        if (!cursorService.hasCursor()) {\n          return [2\n          /*return*/\n          ];\n        }\n\n        tn = new transformation_1.Transformation();\n        cursorState = cursorService.getCursorState();\n        head = cursorState.head;\n        docSize = renderService.getDocSize();\n\n        if (head >= docSize - 1) {\n          return [2\n          /*return*/\n          ];\n        }\n\n        tn.setCursorHead(head + 1);\n        serviceRegistry.getService('state').applyTransformation(tn);\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  exports.moveHeadUp = function (serviceRegistry) {\n    return __awaiter(_this, void 0, void 0, function () {\n      var cursorService, layoutService, tn, cursorState, position, linePosition, lineNode, previousLineNode, leftLock, targetLineSelectableOffset;\n      return __generator(this, function (_a) {\n        cursorService = serviceRegistry.getService('cursor');\n        layoutService = serviceRegistry.getService('layout');\n\n        if (!cursorService.hasCursor()) {\n          return [2\n          /*return*/\n          ];\n        }\n\n        tn = new transformation_1.Transformation();\n        cursorState = cursorService.getCursorState();\n        position = layoutService.resolvePosition(cursorState.head);\n        linePosition = position.getLeaf().getParent().getParent();\n        lineNode = linePosition.getNode();\n\n        if (utility_1.identifyLayoutNodeType(lineNode) !== 'Line') {\n          throw new Error(\"Expecting position to be referencing an line node.\");\n        }\n\n        previousLineNode = lineNode.getPreviousSiblingAllowCrossParent();\n\n        if (!previousLineNode) {\n          tn.setCursorHead(cursorState.head - linePosition.getOffset());\n        } else {\n          leftLock = cursorState.leftLock;\n\n          if (leftLock === null) {\n            leftLock = lineNode.resolveRects(linePosition.getOffset(), linePosition.getOffset())[0].left;\n          }\n\n          tn.setCursorLockLeft(leftLock);\n          targetLineSelectableOffset = previousLineNode.convertCoordinateToOffset(leftLock);\n          tn.setCursorHead(cursorState.head - linePosition.getOffset() - previousLineNode.getSize() + targetLineSelectableOffset);\n        }\n\n        serviceRegistry.getService('state').applyTransformation(tn);\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  exports.moveHeadDown = function (serviceRegistry) {\n    return __awaiter(_this, void 0, void 0, function () {\n      var cursorService, layoutService, tn, cursorState, offset, position, linePosition, lineNode, nextLineNode, leftLock, targetLineSelectableOffset;\n      return __generator(this, function (_a) {\n        cursorService = serviceRegistry.getService('cursor');\n        layoutService = serviceRegistry.getService('layout');\n\n        if (!cursorService.hasCursor()) {\n          return [2\n          /*return*/\n          ];\n        }\n\n        tn = new transformation_1.Transformation();\n        cursorState = cursorService.getCursorState();\n        offset = cursorState.head;\n        position = layoutService.resolvePosition(offset);\n        linePosition = position.getLeaf().getParent().getParent();\n        lineNode = linePosition.getNode();\n\n        if (utility_1.identifyLayoutNodeType(lineNode) !== 'Line') {\n          throw new Error(\"Expecting position to be referencing an line node.\");\n        }\n\n        nextLineNode = lineNode.getNextSiblingAllowCrossParent();\n\n        if (!nextLineNode) {\n          tn.setCursorHead(offset - linePosition.getOffset() + lineNode.getSize() - 1);\n        } else {\n          leftLock = cursorState.leftLock;\n\n          if (leftLock === null) {\n            leftLock = lineNode.resolveRects(linePosition.getOffset(), linePosition.getOffset())[0].left;\n          }\n\n          tn.setCursorLockLeft(leftLock);\n          targetLineSelectableOffset = nextLineNode.convertCoordinateToOffset(leftLock);\n          tn.setCursorHead(offset - linePosition.getOffset() + lineNode.getSize() + targetLineSelectableOffset);\n        }\n\n        serviceRegistry.getService('state').applyTransformation(tn);\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  exports.moveHeadLeftByWord = function (serviceRegistry) {\n    return __awaiter(_this, void 0, void 0, function () {\n      var cursorService, renderService, tn, cursorState, offset, position, atomicPosition, atomicNode, previousAtomicNode;\n      return __generator(this, function (_a) {\n        cursorService = serviceRegistry.getService('cursor');\n        renderService = serviceRegistry.getService('render');\n\n        if (!cursorService.hasCursor()) {\n          return [2\n          /*return*/\n          ];\n        }\n\n        tn = new transformation_1.Transformation();\n        cursorState = cursorService.getCursorState();\n        offset = cursorState.head;\n        position = renderService.resolvePosition(offset);\n        atomicPosition = position.getLeaf();\n        atomicNode = atomicPosition.getNode();\n\n        if (utility_2.identifyRenderNodeType(atomicNode) !== 'atomic') {\n          throw new Error(\"Expecting position to be referencing an atomic node.\");\n        }\n\n        if (atomicPosition.getOffset() > 0) {\n          tn.setCursorHead(offset - atomicPosition.getOffset());\n        } else {\n          previousAtomicNode = atomicNode.getPreviousSiblingAllowCrossParent();\n\n          if (previousAtomicNode) {\n            tn.setCursorHead(offset - previousAtomicNode.getSize());\n          }\n        }\n\n        serviceRegistry.getService('state').applyTransformation(tn);\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  exports.moveHeadRightByWord = function (serviceRegistry) {\n    return __awaiter(_this, void 0, void 0, function () {\n      var cursorService, renderService, tn, cursorState, offset, position, atomicPosition, atomicNode, nextAtomicNode, newCursorPosition;\n      return __generator(this, function (_a) {\n        cursorService = serviceRegistry.getService('cursor');\n        renderService = serviceRegistry.getService('render');\n\n        if (!cursorService.hasCursor()) {\n          return [2\n          /*return*/\n          ];\n        }\n\n        tn = new transformation_1.Transformation();\n        cursorState = cursorService.getCursorState();\n        offset = cursorState.head;\n        position = renderService.resolvePosition(offset);\n        atomicPosition = position.getLeaf();\n        atomicNode = atomicPosition.getNode();\n\n        if (utility_2.identifyRenderNodeType(atomicNode) !== 'atomic') {\n          throw new Error(\"Expecting position to be referencing an atomic node.\");\n        }\n\n        if (atomicPosition.getOffset() < atomicNode.getSize() - 1) {\n          tn.setCursorHead(offset - atomicPosition.getOffset() + atomicNode.getSize() - 1);\n        } else {\n          nextAtomicNode = atomicNode.getNextSiblingAllowCrossParent();\n\n          if (nextAtomicNode) {\n            newCursorPosition = offset - atomicPosition.getOffset() + atomicNode.getSize() + nextAtomicNode.getSize();\n\n            if (nextAtomicNode.isBreakable()) {\n              newCursorPosition--;\n            }\n\n            tn.setCursorHead(newCursorPosition);\n          }\n        }\n\n        serviceRegistry.getService('state').applyTransformation(tn);\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  exports.moveHeadToLineStart = function (serviceRegistry) {\n    return __awaiter(_this, void 0, void 0, function () {\n      var cursorService, layoutService, tn, cursorState, offset, position, lineLayoutPosition;\n      return __generator(this, function (_a) {\n        cursorService = serviceRegistry.getService('cursor');\n        layoutService = serviceRegistry.getService('layout');\n\n        if (!cursorService.hasCursor()) {\n          return [2\n          /*return*/\n          ];\n        }\n\n        tn = new transformation_1.Transformation();\n        cursorState = cursorService.getCursorState();\n        offset = cursorState.head;\n        position = layoutService.resolvePosition(offset);\n        lineLayoutPosition = position.getLeaf().getParent().getParent();\n\n        if (lineLayoutPosition.getOffset() > 0) {\n          tn.setCursorHead(offset - lineLayoutPosition.getOffset());\n        } else {\n          tn.setCursorHead(offset);\n        }\n\n        serviceRegistry.getService('state').applyTransformation(tn);\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  exports.moveHeadToLineEnd = function (serviceRegistry) {\n    return __awaiter(_this, void 0, void 0, function () {\n      var cursorService, layoutService, tn, cursorState, offset, position, lineLayoutPosition, lineLayoutNode;\n      return __generator(this, function (_a) {\n        cursorService = serviceRegistry.getService('cursor');\n        layoutService = serviceRegistry.getService('layout');\n\n        if (!cursorService.hasCursor()) {\n          return [2\n          /*return*/\n          ];\n        }\n\n        tn = new transformation_1.Transformation();\n        cursorState = cursorService.getCursorState();\n        offset = cursorState.head;\n        position = layoutService.resolvePosition(offset);\n        lineLayoutPosition = position.getLeaf().getParent().getParent();\n        lineLayoutNode = lineLayoutPosition.getNode();\n\n        if (utility_1.identifyLayoutNodeType(lineLayoutNode) !== 'Line') {\n          throw new Error(\"Expecting position to be referencing an line layout node.\");\n        }\n\n        if (lineLayoutPosition.getOffset() < lineLayoutNode.getSize() - 1) {\n          tn.setCursorHead(offset - lineLayoutPosition.getOffset() + lineLayoutNode.getSize() - 1);\n        } else {\n          tn.setCursorHead(offset);\n        }\n\n        serviceRegistry.getService('state').applyTransformation(tn);\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  exports.moveHeadToDocStart = function (serviceRegistry) {\n    return __awaiter(_this, void 0, void 0, function () {\n      var cursorService, tn;\n      return __generator(this, function (_a) {\n        cursorService = serviceRegistry.getService('cursor');\n\n        if (!cursorService.hasCursor()) {\n          return [2\n          /*return*/\n          ];\n        }\n\n        tn = new transformation_1.Transformation();\n        tn.setCursorHead(0);\n        serviceRegistry.getService('state').applyTransformation(tn);\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  exports.moveHeadToDocEnd = function (serviceRegistry) {\n    return __awaiter(_this, void 0, void 0, function () {\n      var cursorService, renderService, tn, docSize;\n      return __generator(this, function (_a) {\n        cursorService = serviceRegistry.getService('cursor');\n        renderService = serviceRegistry.getService('render');\n\n        if (!cursorService.hasCursor()) {\n          return [2\n          /*return*/\n          ];\n        }\n\n        tn = new transformation_1.Transformation();\n        docSize = renderService.getDocSize();\n        tn.setCursorHead(docSize - 1);\n        serviceRegistry.getService('state').applyTransformation(tn);\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  exports.selectAll = function (serviceRegistry) {\n    return __awaiter(_this, void 0, void 0, function () {\n      var cursorService, renderService, tn, docSize;\n      return __generator(this, function (_a) {\n        cursorService = serviceRegistry.getService('cursor');\n        renderService = serviceRegistry.getService('render');\n\n        if (!cursorService.hasCursor()) {\n          return [2\n          /*return*/\n          ];\n        }\n\n        tn = new transformation_1.Transformation();\n        docSize = renderService.getDocSize();\n        tn.setCursor(0);\n        tn.setCursorHead(docSize - 1);\n        serviceRegistry.getService('state').applyTransformation(tn);\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n});","define([\"require\", \"exports\"], function (require, exports) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  function mergeLayoutRects(rects) {\n    // Assume rects are sorted top to bottom, left to right\n    for (var n = 0; n < rects.length; n++) {\n      var rect = rects[n];\n\n      if (n === 0) {\n        continue;\n      }\n\n      var previousRect = rects[n - 1];\n\n      if (rect.top !== previousRect.top) {\n        continue;\n      }\n\n      if (rect.height !== previousRect.height) {\n        continue;\n      }\n\n      if (rect.left === previousRect.left + previousRect.width) {\n        previousRect.width += rect.width;\n        previousRect.right = rect.right;\n        rects.splice(n, 1);\n        n -= 1;\n      }\n    }\n  }\n\n  exports.mergeLayoutRects = mergeLayoutRects;\n});","define([\"require\", \"exports\", \"./atomic-node\", \"./block-node\", \"./doc-node\", \"./inline-node\"], function (require, exports, atomic_node_1, block_node_1, doc_node_1, inline_node_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  function identifyRenderNodeType(node) {\n    if (node instanceof doc_node_1.DocRenderNode) {\n      return 'doc';\n    }\n\n    if (node instanceof block_node_1.BlockRenderNode) {\n      return 'block';\n    }\n\n    if (node instanceof inline_node_1.InlineRenderNode) {\n      return 'inline';\n    }\n\n    if (node instanceof atomic_node_1.AtomicRenderNode) {\n      return 'atomic';\n    }\n\n    throw new Error('Unknown render node type.');\n  }\n\n  exports.identifyRenderNodeType = identifyRenderNodeType;\n});","var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : new P(function (resolve) {\n        resolve(result.value);\n      }).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\ndefine([\"require\", \"exports\"], function (require, exports) {\n  \"use strict\";\n\n  var _this = this;\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  exports.undo = function (serviceRegistry) {\n    return __awaiter(_this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        serviceRegistry.getService('history').undo();\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  exports.redo = function (serviceRegistry) {\n    return __awaiter(_this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        serviceRegistry.getService('history').redo();\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n});","var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : new P(function (resolve) {\n        resolve(result.value);\n      }).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\ndefine([\"require\", \"exports\", \"../../model/utility\", \"../../state/token\", \"../../state/transformation\", \"../../util/id\"], function (require, exports, utility_1, token_1, transformation_1, id_1) {\n  \"use strict\";\n\n  var _this = this;\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  function moveCursorByModelOffset(serviceRegistry, modelOffset) {\n    var renderService = serviceRegistry.getService('render');\n    var offset = renderService.convertModelOffsetToOffset(modelOffset);\n    var tn = new transformation_1.Transformation();\n    tn.setCursor(offset);\n    serviceRegistry.getService('state').applyTransformation(tn);\n  }\n\n  exports.insert = function (serviceRegistry, tokens) {\n    return __awaiter(_this, void 0, void 0, function () {\n      var cursorService, renderService, tn, _a, anchor, head, collapsedAt, modelCollapsedAt;\n\n      return __generator(this, function (_b) {\n        cursorService = serviceRegistry.getService('cursor');\n        renderService = serviceRegistry.getService('render');\n\n        if (!cursorService.hasCursor()) {\n          return [2\n          /*return*/\n          ];\n        }\n\n        tn = new transformation_1.Transformation();\n        _a = cursorService.getCursorState(), anchor = _a.anchor, head = _a.head;\n        collapsedAt = Math.min(anchor, head);\n\n        if (anchor !== head) {\n          tn.addOperation(new transformation_1.DeleteOperation(renderService.convertOffsetToModelOffset(Math.min(anchor, head)), renderService.convertOffsetToModelOffset(Math.max(anchor, head))));\n        }\n\n        modelCollapsedAt = renderService.convertOffsetToModelOffset(collapsedAt);\n        tn.addOperation(new transformation_1.InsertOperation(modelCollapsedAt, tokens));\n        serviceRegistry.getService('state').applyTransformation(tn);\n        moveCursorByModelOffset(serviceRegistry, modelCollapsedAt + tokens.length);\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  exports.deleteBackward = function (serviceRegistry) {\n    return __awaiter(_this, void 0, void 0, function () {\n      var cursorService, renderService, tn, _a, anchor, head, deleteFrom, deleteTo, modelDeleteFrom, modelDeleteTo;\n\n      return __generator(this, function (_b) {\n        cursorService = serviceRegistry.getService('cursor');\n        renderService = serviceRegistry.getService('render');\n\n        if (!cursorService.hasCursor()) {\n          return [2\n          /*return*/\n          ];\n        }\n\n        tn = new transformation_1.Transformation();\n        _a = cursorService.getCursorState(), anchor = _a.anchor, head = _a.head;\n\n        if (anchor === head) {\n          if (head < 1) {\n            return [2\n            /*return*/\n            ];\n          }\n\n          deleteFrom = head - 1;\n          deleteTo = head;\n        } else {\n          deleteFrom = Math.min(anchor, head);\n          deleteTo = Math.max(anchor, head);\n        }\n\n        modelDeleteFrom = renderService.convertOffsetToModelOffset(deleteFrom);\n        modelDeleteTo = renderService.convertOffsetToModelOffset(deleteTo);\n        tn.addOperation(new transformation_1.DeleteOperation(modelDeleteFrom, modelDeleteTo));\n        serviceRegistry.getService('state').applyTransformation(tn);\n        moveCursorByModelOffset(serviceRegistry, modelDeleteFrom);\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  exports.deleteForward = function (serviceRegistry) {\n    return __awaiter(_this, void 0, void 0, function () {\n      var cursorService, renderService, tn, _a, anchor, head, deleteFrom, deleteTo, modelDeleteFrom, modelDeleteTo;\n\n      return __generator(this, function (_b) {\n        cursorService = serviceRegistry.getService('cursor');\n        renderService = serviceRegistry.getService('render');\n\n        if (!cursorService.hasCursor()) {\n          return [2\n          /*return*/\n          ];\n        }\n\n        tn = new transformation_1.Transformation();\n        _a = cursorService.getCursorState(), anchor = _a.anchor, head = _a.head;\n\n        if (anchor === head) {\n          if (head >= renderService.getDocSize() - 1) {\n            return [2\n            /*return*/\n            ];\n          }\n\n          deleteFrom = head;\n          deleteTo = head + 1;\n        } else {\n          deleteFrom = Math.min(anchor, head);\n          deleteTo = Math.max(anchor, head);\n        }\n\n        modelDeleteFrom = renderService.convertOffsetToModelOffset(deleteFrom);\n        modelDeleteTo = renderService.convertOffsetToModelOffset(deleteTo);\n        tn.addOperation(new transformation_1.DeleteOperation(modelDeleteFrom, modelDeleteTo));\n        serviceRegistry.getService('state').applyTransformation(tn);\n        moveCursorByModelOffset(serviceRegistry, modelDeleteFrom);\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  exports.splitLine = function (serviceRegistry) {\n    return __awaiter(_this, void 0, void 0, function () {\n      var cursorService, renderService, modelService, anchor, position, nodes, node, tokens;\n      return __generator(this, function (_a) {\n        cursorService = serviceRegistry.getService('cursor');\n        renderService = serviceRegistry.getService('render');\n        modelService = serviceRegistry.getService('model');\n\n        if (!cursorService.hasCursor()) {\n          return [2\n          /*return*/\n          ];\n        }\n\n        anchor = cursorService.getCursorState().anchor;\n        position = modelService.resolvePosition(renderService.convertOffsetToModelOffset(anchor)).getLeaf();\n        nodes = [];\n\n        while (position) {\n          node = position.getNode();\n          nodes.push(node);\n\n          if (utility_1.identifyModelNodeType(node) === 'block') {\n            break;\n          }\n\n          position = position.getParent();\n        }\n\n        tokens = [];\n        nodes.reverse().forEach(function (node) {\n          tokens.unshift(token_1.CLOSE_TOKEN);\n          tokens.push({\n            componentId: node.getComponentId(),\n            partId: node.getPartId(),\n            id: id_1.generateId(),\n            attributes: node.getAttributes()\n          });\n        });\n        return [2\n        /*return*/\n        , exports.insert(serviceRegistry, tokens)];\n      });\n    });\n  };\n});","define([\"require\", \"exports\", \"./block-node\", \"./doc-node\", \"./inline-node\"], function (require, exports, block_node_1, doc_node_1, inline_node_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  function identifyModelNodeType(node) {\n    if (node instanceof doc_node_1.DocModelNode) {\n      return 'doc';\n    }\n\n    if (node instanceof block_node_1.BlockModelNode) {\n      return 'block';\n    }\n\n    if (node instanceof inline_node_1.InlineModelNode) {\n      return 'inline';\n    }\n\n    throw new Error('Unknown model node type.');\n  }\n\n  exports.identifyModelNodeType = identifyModelNodeType;\n});","var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : new P(function (resolve) {\n        resolve(result.value);\n      }).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\ndefine([\"require\", \"exports\"], function (require, exports) {\n  \"use strict\";\n\n  var _this = this;\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  exports.focus = function (serviceRegistry) {\n    return __awaiter(_this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        serviceRegistry.getService('view').requestFocus();\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  exports.blur = function (serviceRegistry) {\n    return __awaiter(_this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        serviceRegistry.getService('view').requestBlur();\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n});","var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : new P(function (resolve) {\n        resolve(result.value);\n      }).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\ndefine([\"require\", \"exports\", \"../event/emitter\", \"./registry\"], function (require, exports, emitter_1, registry_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var CommandService =\n  /** @class */\n  function () {\n    function CommandService(configService, serviceRegistry) {\n      this.serviceRegistry = serviceRegistry;\n      this.willExecuteCommandEventEmitter = new emitter_1.EventEmitter();\n      this.didExecuteCommandEventEmitter = new emitter_1.EventEmitter();\n      this.registry = new registry_1.CommandRegistry();\n\n      for (var _i = 0, _a = Object.entries(configService.getConfig().commands); _i < _a.length; _i++) {\n        var _b = _a[_i],\n            commandId = _b[0],\n            commandHandler = _b[1];\n        this.registry.registerCommand(commandId, commandHandler);\n      }\n    }\n\n    CommandService.prototype.onWillExecuteCommand = function (listener) {\n      this.willExecuteCommandEventEmitter.on(listener);\n    };\n\n    CommandService.prototype.onDidExecuteCommand = function (listener) {\n      this.didExecuteCommandEventEmitter.on(listener);\n    };\n\n    CommandService.prototype.executeCommand = function (commandId) {\n      var args = [];\n\n      for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n      }\n\n      return __awaiter(this, void 0, void 0, function () {\n        var commandHandler;\n        return __generator(this, function (_a) {\n          switch (_a.label) {\n            case 0:\n              commandHandler = this.registry.getCommandHandler(commandId);\n\n              if (!commandHandler) {\n                return [2\n                /*return*/\n                ];\n              }\n\n              this.willExecuteCommandEventEmitter.emit({\n                commandId: commandId,\n                args: args\n              });\n              return [4\n              /*yield*/\n              , commandHandler.apply(void 0, [this.serviceRegistry].concat(args))];\n\n            case 1:\n              _a.sent();\n\n              this.didExecuteCommandEventEmitter.emit({\n                commandId: commandId,\n                args: args\n              });\n              return [2\n              /*return*/\n              ];\n          }\n        });\n      });\n    };\n\n    return CommandService;\n  }();\n\n  exports.CommandService = CommandService;\n});","define([\"require\", \"exports\"], function (require, exports) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var CommandRegistry =\n  /** @class */\n  function () {\n    function CommandRegistry() {\n      this.commandsMap = new Map();\n    }\n\n    CommandRegistry.prototype.registerCommand = function (commandId, commandHandler) {\n      this.commandsMap.set(commandId, commandHandler);\n    };\n\n    CommandRegistry.prototype.getCommandHandler = function (commandId) {\n      return this.commandsMap.get(commandId);\n    };\n\n    return CommandRegistry;\n  }();\n\n  exports.CommandRegistry = CommandRegistry;\n});","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\ndefine([\"require\", \"exports\", \"../../layout/doc-node\", \"../../model/doc-node\", \"../../render/doc-node\", \"../../util/id\", \"../../view/doc-node\", \"../component\"], function (require, exports, doc_node_1, doc_node_2, doc_node_3, id_1, doc_node_4, component_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var DocModelNode =\n  /** @class */\n  function (_super) {\n    __extends(DocModelNode, _super);\n\n    function DocModelNode() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    DocModelNode.prototype.getPartId = function () {\n      return 'doc';\n    };\n\n    DocModelNode.prototype.toDOM = function (from, to) {\n      var $element = document.createElement('div');\n      var offset = 1;\n      var children = this.getChildren();\n\n      for (var n = 0, nn = children.length; n < nn && offset < to; n++) {\n        var child = children[n];\n        var childSize = child.getSize();\n        var childFrom = Math.max(0, from - offset);\n        var childTo = Math.min(childFrom + childSize, to - offset);\n        offset += childSize;\n\n        if (childFrom > childSize || childTo < 0) {\n          continue;\n        }\n\n        var $childElement = child.toDOM(childFrom, childTo);\n        $element.appendChild($childElement);\n      }\n\n      return $element;\n    };\n\n    DocModelNode.prototype.clone = function () {\n      return new DocModelNode(this.componentId, id_1.generateId(), this.attributes);\n    };\n\n    return DocModelNode;\n  }(doc_node_2.DocModelNode);\n\n  exports.DocModelNode = DocModelNode;\n\n  var DocRenderNode =\n  /** @class */\n  function (_super) {\n    __extends(DocRenderNode, _super);\n\n    function DocRenderNode() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    DocRenderNode.prototype.getPartId = function () {\n      return 'doc';\n    };\n\n    return DocRenderNode;\n  }(doc_node_3.DocRenderNode);\n\n  exports.DocRenderNode = DocRenderNode;\n\n  var DocLayoutNode =\n  /** @class */\n  function (_super) {\n    __extends(DocLayoutNode, _super);\n\n    function DocLayoutNode() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    DocLayoutNode.prototype.getPartId = function () {\n      return 'doc';\n    };\n\n    return DocLayoutNode;\n  }(doc_node_1.DocLayoutNode);\n\n  exports.DocLayoutNode = DocLayoutNode;\n\n  var DocViewNode =\n  /** @class */\n  function (_super) {\n    __extends(DocViewNode, _super);\n\n    function DocViewNode(layoutNode) {\n      var _this = _super.call(this, layoutNode) || this;\n\n      _this.domContainer = document.createElement('div');\n      _this.domContainer.style.textAlign = 'left';\n      _this.domContainer.style.cursor = 'text';\n      _this.domContainer.style.userSelect = 'none';\n      return _this;\n    }\n\n    DocViewNode.prototype.getDOMContainer = function () {\n      return this.domContainer;\n    };\n\n    DocViewNode.prototype.getDOMContentContainer = function () {\n      return this.domContainer;\n    };\n\n    DocViewNode.prototype.onLayoutDidUpdate = function () {};\n\n    return DocViewNode;\n  }(doc_node_4.DocViewNode);\n\n  exports.DocViewNode = DocViewNode;\n\n  var DocComponent =\n  /** @class */\n  function (_super) {\n    __extends(DocComponent, _super);\n\n    function DocComponent() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    DocComponent.prototype.buildModelNode = function (partId, id, attributes) {\n      return new DocModelNode(this.id, id, attributes);\n    };\n\n    DocComponent.prototype.buildRenderNode = function (modelNode) {\n      if (modelNode instanceof DocModelNode) {\n        return new DocRenderNode(this.id, modelNode.getId(), {});\n      }\n\n      throw new Error('Invalid doc model node.');\n    };\n\n    DocComponent.prototype.buildLayoutNode = function (renderNode) {\n      if (renderNode instanceof DocRenderNode) {\n        return new DocLayoutNode(this.id, renderNode.getId());\n      }\n\n      throw new Error('Invalid doc render node.');\n    };\n\n    DocComponent.prototype.buildViewNode = function (layoutNode) {\n      if (layoutNode instanceof DocLayoutNode) {\n        return new DocViewNode(layoutNode);\n      }\n\n      throw new Error('Invalid layout render node.');\n    };\n\n    return DocComponent;\n  }(component_1.Component);\n\n  exports.DocComponent = DocComponent;\n});","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\ndefine([\"require\", \"exports\", \"./node\"], function (require, exports, node_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var DocViewNode =\n  /** @class */\n  function (_super) {\n    __extends(DocViewNode, _super);\n\n    function DocViewNode() {\n      var _this = _super !== null && _super.apply(this, arguments) || this;\n\n      _this.attached = false;\n      return _this;\n    }\n\n    DocViewNode.prototype.getNodeClass = function () {\n      return 'doc';\n    };\n\n    DocViewNode.prototype.isRoot = function () {\n      return true;\n    };\n\n    DocViewNode.prototype.isLeaf = function () {\n      return false;\n    };\n\n    DocViewNode.prototype.getSize = function () {\n      if (this.size === undefined) {\n        this.size = this.getChildren().reduce(function (size, child) {\n          return size + child.getSize();\n        }, 0);\n      }\n\n      return this.size;\n    };\n\n    DocViewNode.prototype.clearOwnCache = function () {\n      this.size = undefined;\n    };\n\n    DocViewNode.prototype.attach = function (domContainer) {\n      if (this.attached) {\n        throw new Error('Already attached to the DOM.');\n      }\n\n      domContainer.appendChild(this.getDOMContainer());\n      this.attached = true;\n    };\n\n    DocViewNode.prototype.isAttached = function () {\n      return this.attached;\n    };\n\n    return DocViewNode;\n  }(node_1.ViewNode);\n\n  exports.DocViewNode = DocViewNode;\n});","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\ndefine([\"require\", \"exports\", \"../../layout/atomic-node\", \"../../layout/block-node\", \"../../layout/inline-node\", \"../../model/block-node\", \"../../render/atomic-node\", \"../../render/block-node\", \"../../render/inline-node\", \"../../util/id\", \"../../view/block-node\", \"../../view/inline-node\", \"../component\"], function (require, exports, atomic_node_1, block_node_1, inline_node_1, block_node_2, atomic_node_2, block_node_3, inline_node_2, id_1, block_node_4, inline_node_3, component_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var ParagraphModelNode =\n  /** @class */\n  function (_super) {\n    __extends(ParagraphModelNode, _super);\n\n    function ParagraphModelNode() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    ParagraphModelNode.prototype.getPartId = function () {\n      return 'paragraph';\n    };\n\n    ParagraphModelNode.prototype.toDOM = function (from, to) {\n      var $element = document.createElement('p');\n      var offset = 1;\n      var children = this.getChildren();\n\n      for (var n = 0, nn = children.length; n < nn && offset < to; n++) {\n        var childNode = children[n];\n        var childSize = childNode.getSize();\n        var childFrom = Math.max(0, from - offset);\n        var childTo = Math.min(childFrom + childSize, to - offset);\n        offset += childSize;\n\n        if (childFrom > childSize || childTo < 0) {\n          continue;\n        }\n\n        var $childElement = childNode.toDOM(childFrom, childTo);\n        $element.appendChild($childElement);\n      }\n\n      return $element;\n    };\n\n    ParagraphModelNode.prototype.clone = function () {\n      return new ParagraphModelNode(this.componentId, id_1.generateId(), this.attributes);\n    };\n\n    return ParagraphModelNode;\n  }(block_node_2.BlockModelNode);\n\n  exports.ParagraphModelNode = ParagraphModelNode;\n\n  var ParagraphRenderNode =\n  /** @class */\n  function (_super) {\n    __extends(ParagraphRenderNode, _super);\n\n    function ParagraphRenderNode(componentId, id, style) {\n      var _this = _super.call(this, componentId, id, style) || this;\n\n      _this.componentId = componentId;\n      _this.id = id;\n      _this.style = style;\n      _this.lineBreakNode = _this.buildLineBreakNode();\n      return _this;\n    }\n\n    ParagraphRenderNode.prototype.getPartId = function () {\n      return 'paragraph';\n    };\n\n    ParagraphRenderNode.prototype.getChildren = function () {\n      return _super.prototype.getChildren.call(this).concat([this.lineBreakNode]);\n    };\n\n    ParagraphRenderNode.prototype.convertOffsetToModelOffset = function (offset) {\n      // Handle line break\n      if (offset === this.getSize() - 1) {\n        return _super.prototype.convertOffsetToModelOffset.call(this, offset - 1) + 1;\n      }\n\n      return _super.prototype.convertOffsetToModelOffset.call(this, offset);\n    };\n\n    ParagraphRenderNode.prototype.convertModelOffsetToOffset = function (modelOffset) {\n      // Handle line break\n      if (this.getSize() === 1) {\n        return 0;\n      }\n\n      if (_super.prototype.convertModelOffsetToOffset.call(this, modelOffset - 1) + 1 === this.getSize() - 1) {\n        return this.getSize() - 1;\n      }\n\n      return _super.prototype.convertModelOffsetToOffset.call(this, modelOffset);\n    };\n\n    ParagraphRenderNode.prototype.buildLineBreakNode = function () {\n      var inlineNode = new ParagraphLineBreakRenderNode(this.componentId, this.id + \".line-break\", {});\n      var atomicNode = new ParagraphLineBreakAtomicRenderNode(this.componentId, this.id + \".line-break-atomic\", {});\n      inlineNode.appendChild(atomicNode);\n      inlineNode.setParent(this);\n      return inlineNode;\n    };\n\n    return ParagraphRenderNode;\n  }(block_node_3.BlockRenderNode);\n\n  exports.ParagraphRenderNode = ParagraphRenderNode;\n\n  var ParagraphLineBreakRenderNode =\n  /** @class */\n  function (_super) {\n    __extends(ParagraphLineBreakRenderNode, _super);\n\n    function ParagraphLineBreakRenderNode() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    ParagraphLineBreakRenderNode.prototype.getPartId = function () {\n      return 'line-break';\n    };\n\n    ParagraphLineBreakRenderNode.prototype.getModelSize = function () {\n      return 0;\n    };\n\n    return ParagraphLineBreakRenderNode;\n  }(inline_node_2.InlineRenderNode);\n\n  exports.ParagraphLineBreakRenderNode = ParagraphLineBreakRenderNode;\n\n  var ParagraphLineBreakAtomicRenderNode =\n  /** @class */\n  function (_super) {\n    __extends(ParagraphLineBreakAtomicRenderNode, _super);\n\n    function ParagraphLineBreakAtomicRenderNode() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    ParagraphLineBreakAtomicRenderNode.prototype.getPartId = function () {\n      return 'line-break-atomic';\n    };\n\n    ParagraphLineBreakAtomicRenderNode.prototype.getModelSize = function () {\n      return 0;\n    };\n\n    ParagraphLineBreakAtomicRenderNode.prototype.getSize = function () {\n      return 1;\n    };\n\n    ParagraphLineBreakAtomicRenderNode.prototype.isBreakable = function () {\n      return true;\n    };\n\n    ParagraphLineBreakAtomicRenderNode.prototype.clearOwnCache = function () {};\n\n    return ParagraphLineBreakAtomicRenderNode;\n  }(atomic_node_2.AtomicRenderNode);\n\n  exports.ParagraphLineBreakAtomicRenderNode = ParagraphLineBreakAtomicRenderNode;\n\n  var ParagraphLayoutNode =\n  /** @class */\n  function (_super) {\n    __extends(ParagraphLayoutNode, _super);\n\n    function ParagraphLayoutNode() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    ParagraphLayoutNode.prototype.getPartId = function () {\n      return 'paragraph';\n    };\n\n    ParagraphLayoutNode.prototype.getPaddingTop = function () {\n      return 0;\n    };\n\n    ParagraphLayoutNode.prototype.getPaddingBottom = function () {\n      return 12;\n    };\n\n    ParagraphLayoutNode.prototype.getPaddingLeft = function () {\n      return 0;\n    };\n\n    ParagraphLayoutNode.prototype.getPaddingRight = function () {\n      return 0;\n    };\n\n    ParagraphLayoutNode.prototype.clone = function () {\n      return new ParagraphLayoutNode(this.componentId, this.id);\n    };\n\n    return ParagraphLayoutNode;\n  }(block_node_1.BlockLayoutNode);\n\n  exports.ParagraphLayoutNode = ParagraphLayoutNode;\n\n  var ParagraphLineBreakLayoutNode =\n  /** @class */\n  function (_super) {\n    __extends(ParagraphLineBreakLayoutNode, _super);\n\n    function ParagraphLineBreakLayoutNode() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    ParagraphLineBreakLayoutNode.prototype.getPartId = function () {\n      return 'line-break';\n    };\n\n    ParagraphLineBreakLayoutNode.prototype.getPaddingTop = function () {\n      var previousSibling = this.getPreviousSibling();\n\n      if (!previousSibling) {\n        return 0;\n      }\n\n      return previousSibling.getPaddingTop();\n    };\n\n    ParagraphLineBreakLayoutNode.prototype.getPaddingBottom = function () {\n      var previousSibling = this.getPreviousSibling();\n\n      if (!previousSibling) {\n        return 0;\n      }\n\n      return previousSibling.getPaddingBottom();\n    };\n\n    ParagraphLineBreakLayoutNode.prototype.getPaddingLeft = function () {\n      return 0;\n    };\n\n    ParagraphLineBreakLayoutNode.prototype.getPaddingRight = function () {\n      return 0;\n    };\n\n    ParagraphLineBreakLayoutNode.prototype.clone = function () {\n      return new ParagraphLineBreakLayoutNode(this.componentId, this.id);\n    };\n\n    return ParagraphLineBreakLayoutNode;\n  }(inline_node_1.InlineLayoutNode);\n\n  exports.ParagraphLineBreakLayoutNode = ParagraphLineBreakLayoutNode;\n\n  var ParagraphLineBreakAtomicLayoutNode =\n  /** @class */\n  function (_super) {\n    __extends(ParagraphLineBreakAtomicLayoutNode, _super);\n\n    function ParagraphLineBreakAtomicLayoutNode() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    ParagraphLineBreakAtomicLayoutNode.prototype.getPartId = function () {\n      return 'line-break-atomic';\n    };\n\n    ParagraphLineBreakAtomicLayoutNode.prototype.getSize = function () {\n      return 1;\n    };\n\n    ParagraphLineBreakAtomicLayoutNode.prototype.getWidth = function () {\n      return 5;\n    };\n\n    ParagraphLineBreakAtomicLayoutNode.prototype.getHeight = function () {\n      if (this.height === undefined) {\n        this.takeMeasurement();\n      }\n\n      return this.height;\n    };\n\n    ParagraphLineBreakAtomicLayoutNode.prototype.getPaddingTop = function () {\n      return 0;\n    };\n\n    ParagraphLineBreakAtomicLayoutNode.prototype.getPaddingBottom = function () {\n      return 0;\n    };\n\n    ParagraphLineBreakAtomicLayoutNode.prototype.getPaddingLeft = function () {\n      return 0;\n    };\n\n    ParagraphLineBreakAtomicLayoutNode.prototype.getPaddingRight = function () {\n      return 0;\n    };\n\n    ParagraphLineBreakAtomicLayoutNode.prototype.getTailTrimmedWidth = function () {\n      return 0;\n    };\n\n    ParagraphLineBreakAtomicLayoutNode.prototype.breakAtWidth = function (width) {\n      throw new Error('Method should never be called, there is a bug.');\n    };\n\n    ParagraphLineBreakAtomicLayoutNode.prototype.convertCoordinateToOffset = function (x) {\n      return 0;\n    };\n\n    ParagraphLineBreakAtomicLayoutNode.prototype.resolveRects = function (from, to) {\n      if (from === to) {\n        return [{\n          left: 0,\n          right: this.getWidth(),\n          top: 0,\n          bottom: 0,\n          width: 0,\n          height: this.getHeight(),\n          paddingTop: 0,\n          paddingBottom: 0,\n          paddingLeft: 0,\n          paddingRight: 0\n        }];\n      }\n\n      return [{\n        left: 0,\n        right: 0,\n        top: 0,\n        bottom: 0,\n        width: this.getWidth(),\n        height: this.getHeight(),\n        paddingTop: 0,\n        paddingBottom: 0,\n        paddingLeft: 0,\n        paddingRight: 0\n      }];\n    };\n\n    ParagraphLineBreakAtomicLayoutNode.prototype.takeMeasurement = function () {\n      this.height = 0;\n      var previousSibling = this.getPreviousSiblingAllowCrossParent();\n\n      if (!previousSibling) {\n        return;\n      }\n\n      this.height = previousSibling.getHeight();\n    };\n\n    return ParagraphLineBreakAtomicLayoutNode;\n  }(atomic_node_1.AtomicLayoutNode);\n\n  exports.ParagraphLineBreakAtomicLayoutNode = ParagraphLineBreakAtomicLayoutNode;\n\n  var ParagraphViewNode =\n  /** @class */\n  function (_super) {\n    __extends(ParagraphViewNode, _super);\n\n    function ParagraphViewNode(layoutNode) {\n      var _this = _super.call(this, layoutNode) || this;\n\n      _this.domContainer = document.createElement('div');\n      return _this;\n    }\n\n    ParagraphViewNode.prototype.getDOMContainer = function () {\n      return this.domContainer;\n    };\n\n    ParagraphViewNode.prototype.getDOMContentContainer = function () {\n      return this.domContainer;\n    };\n\n    ParagraphViewNode.prototype.onLayoutDidUpdate = function () {\n      this.domContainer.style.width = this.layoutNode.getWidth() + \"px\";\n      this.domContainer.style.height = this.layoutNode.getHeight() + \"px\";\n      this.domContainer.style.paddingTop = this.layoutNode.getPaddingTop() + \"px\";\n      this.domContainer.style.paddingBottom = this.layoutNode.getPaddingBottom() + \"px\";\n      this.domContainer.style.paddingLeft = this.layoutNode.getPaddingLeft() + \"px\";\n      this.domContainer.style.paddingRight = this.layoutNode.getPaddingRight() + \"px\";\n    };\n\n    return ParagraphViewNode;\n  }(block_node_4.BlockViewNode);\n\n  exports.ParagraphViewNode = ParagraphViewNode;\n\n  var ParagraphLineBreakViewNode =\n  /** @class */\n  function (_super) {\n    __extends(ParagraphLineBreakViewNode, _super);\n\n    function ParagraphLineBreakViewNode(layoutNode) {\n      var _this = _super.call(this, layoutNode) || this;\n\n      _this.domContainer = document.createElement('div');\n      return _this;\n    }\n\n    ParagraphLineBreakViewNode.prototype.getDOMContainer = function () {\n      return this.domContainer;\n    };\n\n    ParagraphLineBreakViewNode.prototype.getDOMContentContainer = function () {\n      return this.domContainer;\n    };\n\n    ParagraphLineBreakViewNode.prototype.onLayoutDidUpdate = function () {};\n\n    return ParagraphLineBreakViewNode;\n  }(inline_node_3.InlineViewNode);\n\n  exports.ParagraphLineBreakViewNode = ParagraphLineBreakViewNode;\n\n  var ParagraphComponent =\n  /** @class */\n  function (_super) {\n    __extends(ParagraphComponent, _super);\n\n    function ParagraphComponent() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    ParagraphComponent.prototype.buildModelNode = function (partId, id, attributes) {\n      return new ParagraphModelNode(this.id, id, attributes);\n    };\n\n    ParagraphComponent.prototype.buildRenderNode = function (modelNode) {\n      if (modelNode instanceof ParagraphModelNode) {\n        return new ParagraphRenderNode(this.id, modelNode.getId(), {});\n      }\n\n      throw new Error('Invalid paragraph model node.');\n    };\n\n    ParagraphComponent.prototype.buildLayoutNode = function (renderNode) {\n      if (renderNode instanceof ParagraphRenderNode) {\n        return new ParagraphLayoutNode(this.id, renderNode.getId());\n      }\n\n      if (renderNode instanceof ParagraphLineBreakRenderNode) {\n        return new ParagraphLineBreakLayoutNode(this.id, renderNode.getId());\n      }\n\n      if (renderNode instanceof ParagraphLineBreakAtomicRenderNode) {\n        return new ParagraphLineBreakAtomicLayoutNode(this.id, renderNode.getId());\n      }\n\n      throw new Error('Invalid paragraph render node.');\n    };\n\n    ParagraphComponent.prototype.buildViewNode = function (layoutNode) {\n      if (layoutNode instanceof ParagraphLayoutNode) {\n        return new ParagraphViewNode(layoutNode);\n      }\n\n      if (layoutNode instanceof ParagraphLineBreakLayoutNode) {\n        return new ParagraphLineBreakViewNode(layoutNode);\n      }\n\n      throw new Error('Invalid paragraph layout node.');\n    };\n\n    return ParagraphComponent;\n  }(component_1.Component);\n\n  exports.ParagraphComponent = ParagraphComponent;\n});","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\ndefine([\"require\", \"exports\", \"./node\"], function (require, exports, node_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var BlockViewNode =\n  /** @class */\n  function (_super) {\n    __extends(BlockViewNode, _super);\n\n    function BlockViewNode() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    BlockViewNode.prototype.getNodeClass = function () {\n      return 'block';\n    };\n\n    BlockViewNode.prototype.isRoot = function () {\n      return false;\n    };\n\n    BlockViewNode.prototype.isLeaf = function () {\n      return false;\n    };\n\n    BlockViewNode.prototype.getSize = function () {\n      if (this.size === undefined) {\n        this.size = this.getChildren().reduce(function (size, child) {\n          return size + child.getSize();\n        }, 0);\n      }\n\n      return this.size;\n    };\n\n    BlockViewNode.prototype.clearOwnCache = function () {\n      this.size = undefined;\n    };\n\n    return BlockViewNode;\n  }(node_1.ViewNode);\n\n  exports.BlockViewNode = BlockViewNode;\n});","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\ndefine([\"require\", \"exports\", \"../../layout/atomic-node\", \"../../layout/inline-node\", \"../../model/inline-node\", \"../../render/atomic-node\", \"../../render/inline-node\", \"../../util/id\", \"../../util/language\", \"../../view/inline-node\", \"../component\"], function (require, exports, atomic_node_1, inline_node_1, inline_node_2, atomic_node_2, inline_node_3, id_1, language_1, inline_node_4, component_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var TextModelNode =\n  /** @class */\n  function (_super) {\n    __extends(TextModelNode, _super);\n\n    function TextModelNode() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    TextModelNode.prototype.getPartId = function () {\n      return 'text';\n    };\n\n    TextModelNode.prototype.toDOM = function (from, to) {\n      var $component = document.createElement('span');\n      $component.innerText = this.content.substring(from - 1, to - 1);\n      return $component;\n    };\n\n    TextModelNode.prototype.clone = function () {\n      var node = new TextModelNode(this.componentId, id_1.generateId(), this.attributes);\n      node.setContent(this.getContent());\n      return node;\n    };\n\n    return TextModelNode;\n  }(inline_node_2.InlineModelNode);\n\n  exports.TextModelNode = TextModelNode;\n  exports.DEFAULT_TEXT_STYLE = {\n    weight: 400,\n    size: 14,\n    font: 'sans-serif',\n    letterSpacing: 0,\n    underline: false,\n    italic: false,\n    strikethrough: false,\n    color: 'black'\n  };\n\n  var TextRenderNode =\n  /** @class */\n  function (_super) {\n    __extends(TextRenderNode, _super);\n\n    function TextRenderNode() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    TextRenderNode.prototype.getPartId = function () {\n      return 'text';\n    };\n\n    return TextRenderNode;\n  }(inline_node_3.InlineRenderNode);\n\n  exports.TextRenderNode = TextRenderNode;\n\n  var WordRenderNode =\n  /** @class */\n  function (_super) {\n    __extends(WordRenderNode, _super);\n\n    function WordRenderNode(componentId, id, style, word) {\n      var _this = _super.call(this, componentId, id, style) || this;\n\n      _this.word = word;\n      return _this;\n    }\n\n    WordRenderNode.prototype.getPartId = function () {\n      return 'word';\n    };\n\n    WordRenderNode.prototype.getWord = function () {\n      return this.word;\n    };\n\n    WordRenderNode.prototype.getModelSize = function () {\n      return this.word.text.length;\n    };\n\n    WordRenderNode.prototype.getSize = function () {\n      return this.word.text.length;\n    };\n\n    WordRenderNode.prototype.isBreakable = function () {\n      return this.word.breakable;\n    };\n\n    WordRenderNode.prototype.clearOwnCache = function () {};\n\n    WordRenderNode.prototype.onDidUpdate = function (updatedNode) {\n      _super.prototype.onDidUpdate.call(this, updatedNode);\n\n      var oldWord = this.word;\n      var newWord = updatedNode.getWord();\n\n      if (oldWord.text === newWord.text && oldWord.breakable === newWord.breakable) {\n        return;\n      }\n\n      this.word = updatedNode.getWord();\n      this.clearCache();\n    };\n\n    return WordRenderNode;\n  }(atomic_node_2.AtomicRenderNode);\n\n  exports.WordRenderNode = WordRenderNode;\n\n  var TextLayoutNode =\n  /** @class */\n  function (_super) {\n    __extends(TextLayoutNode, _super);\n\n    function TextLayoutNode(componentId, id, style) {\n      var _this = _super.call(this, componentId, id) || this;\n\n      _this.style = style;\n      return _this;\n    }\n\n    TextLayoutNode.prototype.getPartId = function () {\n      return 'text';\n    };\n\n    TextLayoutNode.prototype.getPaddingTop = function () {\n      return 3;\n    };\n\n    TextLayoutNode.prototype.getPaddingBottom = function () {\n      return 6;\n    };\n\n    TextLayoutNode.prototype.getPaddingLeft = function () {\n      return 0;\n    };\n\n    TextLayoutNode.prototype.getPaddingRight = function () {\n      return 0;\n    };\n\n    TextLayoutNode.prototype.getStyle = function () {\n      return this.style;\n    };\n\n    TextLayoutNode.prototype.clone = function () {\n      return new TextLayoutNode(this.componentId, this.id, this.style);\n    };\n\n    return TextLayoutNode;\n  }(inline_node_1.InlineLayoutNode);\n\n  exports.TextLayoutNode = TextLayoutNode;\n\n  var WordLayoutNode =\n  /** @class */\n  function (_super) {\n    __extends(WordLayoutNode, _super);\n\n    function WordLayoutNode(componentId, id, word, style, textMeasurer) {\n      var _this = _super.call(this, componentId, id) || this;\n\n      _this.word = word;\n      _this.style = style;\n      _this.textMeasurer = textMeasurer;\n      return _this;\n    }\n\n    WordLayoutNode.prototype.getPartId = function () {\n      return 'word';\n    };\n\n    WordLayoutNode.prototype.getSize = function () {\n      return this.word.text.length;\n    };\n\n    WordLayoutNode.prototype.getWidth = function () {\n      if (this.width === undefined) {\n        this.takeMeasurement();\n      }\n\n      return this.width;\n    };\n\n    WordLayoutNode.prototype.getHeight = function () {\n      if (this.height === undefined) {\n        this.takeMeasurement();\n      }\n\n      return this.height;\n    };\n\n    WordLayoutNode.prototype.getPaddingTop = function () {\n      return 0;\n    };\n\n    WordLayoutNode.prototype.getPaddingBottom = function () {\n      return 0;\n    };\n\n    WordLayoutNode.prototype.getPaddingLeft = function () {\n      return 0;\n    };\n\n    WordLayoutNode.prototype.getPaddingRight = function () {\n      return 0;\n    };\n\n    WordLayoutNode.prototype.getTailTrimmedWidth = function () {\n      if (this.tailTrimmedWidth === undefined) {\n        if (this.word.breakable) {\n          var text = this.word.text;\n          var measurement = this.textMeasurer.measure(text.substring(0, text.length - 1), this.style);\n          this.tailTrimmedWidth = measurement.width;\n        } else {\n          this.tailTrimmedWidth = this.getWidth();\n        }\n      }\n\n      return this.tailTrimmedWidth;\n    };\n\n    WordLayoutNode.prototype.breakAtWidth = function (width) {\n      var text = this.word.text;\n      var min = 0;\n      var max = text.length;\n\n      while (max - min > 1) {\n        var offset = Math.floor((max + min) / 2);\n        var substr = text.substring(0, offset);\n        var subwidth = this.textMeasurer.measure(substr, this.style).width;\n\n        if (subwidth > width) {\n          max = offset;\n        } else {\n          min = offset;\n        }\n      }\n\n      var splitAt = min;\n\n      var newWord = __assign({}, this.word, {\n        text: text.substring(splitAt)\n      });\n\n      var newNode = new WordLayoutNode(this.componentId, this.id, newWord, this.style, this.textMeasurer);\n      this.word.text = text.substring(0, splitAt);\n      this.clearCache();\n      return newNode;\n    };\n\n    WordLayoutNode.prototype.getWord = function () {\n      return this.word;\n    };\n\n    WordLayoutNode.prototype.convertCoordinateToOffset = function (x) {\n      var lastWidth = 0;\n      var text = this.word.text;\n\n      for (var n = 0, nn = text.length; n < nn; n++) {\n        var measurement = this.textMeasurer.measure(text.substring(0, n), this.style);\n        var width_1 = measurement.width;\n\n        if (width_1 < x) {\n          lastWidth = width_1;\n          continue;\n        }\n\n        if (x - lastWidth < width_1 - x) {\n          return n - 1;\n        }\n\n        return n;\n      }\n\n      var width = this.getWidth();\n\n      if (x - lastWidth < width - x) {\n        return text.length - 1;\n      }\n\n      return text.length;\n    };\n\n    WordLayoutNode.prototype.resolveRects = function (from, to) {\n      if (from === 0 && to === this.getSize()) {\n        return [{\n          left: 0,\n          right: 0,\n          top: 0,\n          bottom: 0,\n          width: this.getWidth(),\n          height: this.getHeight(),\n          paddingTop: 0,\n          paddingBottom: 0,\n          paddingLeft: 0,\n          paddingRight: 0\n        }];\n      }\n\n      var fromTextMeasurement = this.textMeasurer.measure(this.word.text.substring(0, from), this.style);\n      var toTextMeasurement = this.textMeasurer.measure(this.word.text.substring(0, to), this.style);\n      var width = toTextMeasurement.width - fromTextMeasurement.width;\n      var height = this.getHeight();\n      var left = fromTextMeasurement.width;\n      var right = this.getWidth() - toTextMeasurement.width;\n      var top = 0;\n      var bottom = 0;\n      return [{\n        width: width,\n        height: height,\n        left: left,\n        right: right,\n        top: top,\n        bottom: bottom,\n        paddingTop: 0,\n        paddingBottom: 0,\n        paddingLeft: 0,\n        paddingRight: 0\n      }];\n    };\n\n    WordLayoutNode.prototype.onDidUpdate = function (updatedNode) {\n      _super.prototype.onDidUpdate.call(this, updatedNode);\n\n      var oldWord = this.word;\n      var newWord = updatedNode.getWord();\n\n      if (oldWord.text === newWord.text && oldWord.breakable === newWord.breakable) {\n        return;\n      }\n\n      this.word = updatedNode.getWord();\n      this.clearCache();\n    };\n\n    WordLayoutNode.prototype.clearOwnCache = function () {\n      this.width = undefined;\n      this.height = undefined;\n      this.tailTrimmedWidth = undefined;\n    };\n\n    WordLayoutNode.prototype.takeMeasurement = function () {\n      var measurement = this.textMeasurer.measure(this.word.text, this.style);\n      this.width = measurement.width;\n      this.height = measurement.height;\n    };\n\n    return WordLayoutNode;\n  }(atomic_node_1.AtomicLayoutNode);\n\n  exports.WordLayoutNode = WordLayoutNode;\n\n  var TextViewNode =\n  /** @class */\n  function (_super) {\n    __extends(TextViewNode, _super);\n\n    function TextViewNode(layoutNode) {\n      var _this = _super.call(this, layoutNode) || this;\n\n      _this.domContainer = document.createElement('span');\n      _this.domContainer.style.display = 'inline-block';\n      _this.domContainer.style.whiteSpace = 'pre';\n      _this.domContainer.style.lineHeight = '1em';\n      _this.domContent = document.createElement('span');\n\n      _this.domContainer.appendChild(_this.domContent);\n\n      _this.onLayoutDidUpdate();\n\n      return _this;\n    }\n\n    TextViewNode.prototype.getDOMContainer = function () {\n      return this.domContainer;\n    };\n\n    TextViewNode.prototype.getDOMContentContainer = function () {\n      return this.domContainer;\n    };\n\n    TextViewNode.prototype.onLayoutDidUpdate = function () {\n      var text = this.layoutNode.getChildren().map(function (child) {\n        if (child instanceof WordLayoutNode) {\n          return child.getWord().text;\n        }\n\n        return '';\n      }).join('');\n      var style = this.layoutNode.getStyle();\n      this.domContainer.style.width = this.layoutNode.getWidth() + \"px\";\n      this.domContainer.style.height = this.layoutNode.getHeight() + \"px\";\n      this.domContainer.style.paddingTop = this.layoutNode.getPaddingTop() + \"px\";\n      this.domContainer.style.paddingBottom = this.layoutNode.getPaddingBottom() + \"px\";\n      this.domContainer.style.paddingLeft = this.layoutNode.getPaddingLeft() + \"px\";\n      this.domContainer.style.paddingRight = this.layoutNode.getPaddingRight() + \"px\";\n      this.domContainer.style.fontFamily = style.font;\n      this.domContainer.style.fontSize = style.size + \"px\";\n      this.domContainer.style.letterSpacing = style.letterSpacing + \"px\";\n      this.domContainer.style.fontWeight = \"\" + style.weight;\n      this.domContainer.style.color = style.color;\n      this.domContainer.style.textDecoration = style.underline ? 'underline' : '';\n      this.domContainer.style.fontStyle = style.italic ? 'italic' : '';\n      this.domContent.style.textDecoration = style.strikethrough ? 'line-through' : '';\n      this.domContent.innerText = text;\n    };\n\n    return TextViewNode;\n  }(inline_node_4.InlineViewNode);\n\n  exports.TextViewNode = TextViewNode;\n\n  var TextComponent =\n  /** @class */\n  function (_super) {\n    __extends(TextComponent, _super);\n\n    function TextComponent(id, textMeasurer) {\n      var _this = _super.call(this, id) || this;\n\n      _this.textMeasurer = textMeasurer;\n      return _this;\n    }\n\n    TextComponent.prototype.buildModelNode = function (partId, id, attributes) {\n      return new TextModelNode(this.id, id, attributes);\n    };\n\n    TextComponent.prototype.buildRenderNode = function (modelNode) {\n      var _this = this;\n\n      if (modelNode instanceof TextModelNode) {\n        var attributes = modelNode.getAttributes();\n\n        var style_1 = __assign({}, exports.DEFAULT_TEXT_STYLE, attributes);\n\n        var node_1 = new TextRenderNode(this.id, modelNode.getId(), style_1);\n        var words = language_1.breakTextToWords(modelNode.getContent());\n        words.forEach(function (word, wordIndex) {\n          var wordRenderNode = new WordRenderNode(_this.id, modelNode.getId() + \"-\" + wordIndex, style_1, word);\n          node_1.appendChild(wordRenderNode);\n        });\n\n        if (words.length === 0) {\n          node_1.appendChild(new WordRenderNode(this.id, modelNode.getId() + \"-0\", style_1, {\n            text: '',\n            breakable: false\n          }));\n        }\n\n        return node_1;\n      }\n\n      throw new Error('Invalid text model node.');\n    };\n\n    TextComponent.prototype.buildLayoutNode = function (renderNode) {\n      if (renderNode instanceof TextRenderNode) {\n        return new TextLayoutNode(this.id, renderNode.getId(), renderNode.getStyle());\n      }\n\n      if (renderNode instanceof WordRenderNode) {\n        return new WordLayoutNode(this.id, renderNode.getId(), renderNode.getWord(), renderNode.getStyle(), this.textMeasurer);\n      }\n\n      throw new Error('Invalid text render node.');\n    };\n\n    TextComponent.prototype.buildViewNode = function (layoutNode) {\n      if (layoutNode instanceof TextLayoutNode) {\n        return new TextViewNode(layoutNode);\n      }\n\n      throw new Error('Invalid text layout node');\n    };\n\n    return TextComponent;\n  }(component_1.Component);\n\n  exports.TextComponent = TextComponent;\n\n  var TextMeasurer =\n  /** @class */\n  function () {\n    function TextMeasurer() {\n      this.$canvas = document.createElement('canvas');\n    }\n\n    TextMeasurer.prototype.measure = function (text, textStyle) {\n      var ctx = this.$canvas.getContext('2d');\n      var weight = textStyle.weight;\n      var size = textStyle.size;\n      var font = this.fixFont(textStyle.font);\n      var letterSpacing = textStyle.letterSpacing;\n      ctx.font = weight + \" \" + size + \"px \" + font;\n      var measurement = ctx.measureText(text);\n      var width = letterSpacing === 0 || text.length <= 1 ? measurement.width : measurement.width + (text.length - 1) * letterSpacing;\n      return {\n        width: width,\n        height: size\n      };\n    };\n\n    TextMeasurer.prototype.fixFont = function (font) {\n      if (font.indexOf(' ') >= 0) {\n        return \"'\" + font + \"'\";\n      }\n\n      return font;\n    };\n\n    return TextMeasurer;\n  }();\n\n  exports.TextMeasurer = TextMeasurer;\n});","define([\"require\", \"exports\"], function (require, exports) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  var BREAKABLE_CHARS = [' ', '\\n', '\\t'];\n\n  function breakTextToWords(text) {\n    var words = [];\n    var word = '';\n\n    for (var n = 0, nn = text.length; n < nn; n++) {\n      var char = text[n];\n      word += char;\n\n      if (BREAKABLE_CHARS.includes(char)) {\n        words.push({\n          text: word,\n          breakable: true\n        });\n        word = '';\n      }\n    }\n\n    if (word.length > 0) {\n      words.push({\n        text: word,\n        breakable: false\n      });\n    }\n\n    return words;\n  }\n\n  exports.breakTextToWords = breakTextToWords;\n});","define([\"require\", \"exports\", \"./components/line\", \"./components/page\", \"./registry\"], function (require, exports, line_1, page_1, registry_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var ComponentService =\n  /** @class */\n  function () {\n    function ComponentService(configService) {\n      this.registry = new registry_1.ComponentRegistry();\n      this.pageComponent = new page_1.PageComponent('page', configService);\n      this.lineComponent = new line_1.LineComponent('line');\n\n      for (var _i = 0, _a = Object.entries(configService.getConfig().components); _i < _a.length; _i++) {\n        var _b = _a[_i],\n            componentId = _b[0],\n            component = _b[1];\n        this.registry.registerComponent(componentId, component);\n      }\n\n      this.registry.registerComponent(this.pageComponent.getId(), this.pageComponent);\n      this.registry.registerComponent(this.lineComponent.getId(), this.lineComponent);\n    }\n\n    ComponentService.prototype.getComponent = function (componentId) {\n      return this.registry.getComponent(componentId);\n    };\n\n    ComponentService.prototype.getPageComponent = function () {\n      return this.pageComponent;\n    };\n\n    ComponentService.prototype.getLineComponent = function () {\n      return this.lineComponent;\n    };\n\n    return ComponentService;\n  }();\n\n  exports.ComponentService = ComponentService;\n});","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\ndefine([\"require\", \"exports\", \"../../layout/line-node\", \"../../view/line-node\", \"../component\"], function (require, exports, line_node_1, line_node_2, component_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var LineLayoutNode =\n  /** @class */\n  function (_super) {\n    __extends(LineLayoutNode, _super);\n\n    function LineLayoutNode() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    LineLayoutNode.prototype.getPartId = function () {\n      return 'line';\n    };\n\n    LineLayoutNode.prototype.clone = function () {\n      return new LineLayoutNode(this.getComponentId());\n    };\n\n    return LineLayoutNode;\n  }(line_node_1.LineLayoutNode);\n\n  exports.LineLayoutNode = LineLayoutNode;\n\n  var LineViewNode =\n  /** @class */\n  function (_super) {\n    __extends(LineViewNode, _super);\n\n    function LineViewNode(layoutNode) {\n      var _this = _super.call(this, layoutNode) || this;\n\n      _this.domContainer = document.createElement('div');\n      return _this;\n    }\n\n    LineViewNode.prototype.getDOMContainer = function () {\n      return this.domContainer;\n    };\n\n    LineViewNode.prototype.getDOMContentContainer = function () {\n      return this.domContainer;\n    };\n\n    LineViewNode.prototype.onLayoutDidUpdate = function () {\n      this.domContainer.style.width = this.layoutNode.getWidth() + \"px\";\n      this.domContainer.style.height = this.layoutNode.getHeight() + \"px\";\n      this.domContainer.style.paddingTop = this.layoutNode.getPaddingTop() + \"px\";\n      this.domContainer.style.paddingBottom = this.layoutNode.getPaddingBottom() + \"px\";\n      this.domContainer.style.paddingLeft = this.layoutNode.getPaddingLeft() + \"px\";\n      this.domContainer.style.paddingRight = this.layoutNode.getPaddingRight() + \"px\";\n    };\n\n    return LineViewNode;\n  }(line_node_2.LineViewNode);\n\n  exports.LineViewNode = LineViewNode;\n\n  var LineComponent =\n  /** @class */\n  function (_super) {\n    __extends(LineComponent, _super);\n\n    function LineComponent() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    LineComponent.prototype.buildModelNode = function (partId, id, attributes) {\n      throw new Error('Line component does not support buildModelNode.');\n    };\n\n    LineComponent.prototype.buildRenderNode = function (modelNode) {\n      throw new Error('Line component does not support buildRenderNode.');\n    };\n\n    LineComponent.prototype.buildLayoutNode = function (renderNode) {\n      throw new Error('Line component does not support buildLayoutNode.');\n    };\n\n    LineComponent.prototype.buildLineLayoutNode = function () {\n      return new LineLayoutNode(this.getId());\n    };\n\n    LineComponent.prototype.buildViewNode = function (layoutNode) {\n      if (layoutNode instanceof LineLayoutNode) {\n        return new LineViewNode(layoutNode);\n      }\n\n      throw new Error('Invalid layout render node.');\n    };\n\n    return LineComponent;\n  }(component_1.Component);\n\n  exports.LineComponent = LineComponent;\n});","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\ndefine([\"require\", \"exports\", \"./node\"], function (require, exports, node_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var LineViewNode =\n  /** @class */\n  function (_super) {\n    __extends(LineViewNode, _super);\n\n    function LineViewNode(layoutNode) {\n      var _this = _super.call(this, layoutNode) || this;\n\n      _this.domContainer = document.createElement('div');\n      return _this;\n    }\n\n    LineViewNode.prototype.getNodeClass = function () {\n      return 'line';\n    };\n\n    LineViewNode.prototype.isRoot = function () {\n      return false;\n    };\n\n    LineViewNode.prototype.isLeaf = function () {\n      return false;\n    };\n\n    LineViewNode.prototype.getSize = function () {\n      if (this.size === undefined) {\n        this.size = this.getChildren().reduce(function (size, child) {\n          return size + child.getSize();\n        }, 0);\n      }\n\n      return this.size;\n    };\n\n    LineViewNode.prototype.clearOwnCache = function () {\n      this.size = undefined;\n    };\n\n    LineViewNode.prototype.getDOMContainer = function () {\n      return this.domContainer;\n    };\n\n    LineViewNode.prototype.getDOMContentContainer = function () {\n      return this.domContainer;\n    };\n\n    return LineViewNode;\n  }(node_1.ViewNode);\n\n  exports.LineViewNode = LineViewNode;\n});","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\ndefine([\"require\", \"exports\", \"../../layout/page-node\", \"../../view/page-node\", \"../component\"], function (require, exports, page_node_1, page_node_2, component_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var PageLayoutNode =\n  /** @class */\n  function (_super) {\n    __extends(PageLayoutNode, _super);\n\n    function PageLayoutNode() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    PageLayoutNode.prototype.getPartId = function () {\n      return 'page';\n    };\n\n    PageLayoutNode.prototype.clone = function () {\n      return new PageLayoutNode(this.getComponentId(), this.width, this.height, this.paddingTop, this.paddingBottom, this.paddingLeft, this.paddingRight);\n    };\n\n    return PageLayoutNode;\n  }(page_node_1.PageLayoutNode);\n\n  exports.PageLayoutNode = PageLayoutNode;\n\n  var PageViewNode =\n  /** @class */\n  function (_super) {\n    __extends(PageViewNode, _super);\n\n    function PageViewNode(layoutNode) {\n      var _this = _super.call(this, layoutNode) || this;\n\n      _this.domContainer = document.createElement('div');\n      _this.domContainer.style.position = 'relative';\n      _this.domContainer.style.marginLeft = 'auto';\n      _this.domContainer.style.marginRight = 'auto';\n      _this.domContentContainer = document.createElement('div');\n\n      _this.domContainer.appendChild(_this.domContentContainer);\n\n      return _this;\n    }\n\n    PageViewNode.prototype.getDOMContainer = function () {\n      return this.domContainer;\n    };\n\n    PageViewNode.prototype.getDOMContentContainer = function () {\n      return this.domContentContainer;\n    };\n\n    PageViewNode.prototype.onLayoutDidUpdate = function () {\n      this.domContainer.style.width = this.layoutNode.getWidth() + \"px\";\n      this.domContainer.style.height = this.layoutNode.getHeight() + \"px\";\n      this.domContainer.style.paddingTop = this.layoutNode.getPaddingTop() + \"px\";\n      this.domContainer.style.paddingBottom = this.layoutNode.getPaddingBottom() + \"px\";\n      this.domContainer.style.paddingLeft = this.layoutNode.getPaddingLeft() + \"px\";\n      this.domContainer.style.paddingRight = this.layoutNode.getPaddingRight() + \"px\";\n    };\n\n    return PageViewNode;\n  }(page_node_2.PageViewNode);\n\n  exports.PageViewNode = PageViewNode;\n\n  var PageComponent =\n  /** @class */\n  function (_super) {\n    __extends(PageComponent, _super);\n\n    function PageComponent(id, configService) {\n      var _this = _super.call(this, id) || this;\n\n      _this.configService = configService;\n      return _this;\n    }\n\n    PageComponent.prototype.buildModelNode = function (partId, id, attributes) {\n      throw new Error('Page component does not support buildModelNode.');\n    };\n\n    PageComponent.prototype.buildRenderNode = function (modelNode) {\n      throw new Error('Page component does not support buildRenderNode.');\n    };\n\n    PageComponent.prototype.buildLayoutNode = function (renderNode) {\n      throw new Error('Page component does not support buildLayoutNode.');\n    };\n\n    PageComponent.prototype.buildPageLayoutNode = function () {\n      var pageConfig = this.configService.getConfig().page;\n      return new PageLayoutNode(this.getId(), pageConfig.width, pageConfig.height, pageConfig.paddingTop, pageConfig.paddingBottom, pageConfig.paddingLeft, pageConfig.paddingRight);\n    };\n\n    PageComponent.prototype.buildViewNode = function (layoutNode) {\n      if (layoutNode instanceof PageLayoutNode) {\n        return new PageViewNode(layoutNode);\n      }\n\n      throw new Error('Invalid layout render node.');\n    };\n\n    return PageComponent;\n  }(component_1.Component);\n\n  exports.PageComponent = PageComponent;\n});","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\ndefine([\"require\", \"exports\", \"./node\"], function (require, exports, node_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var PageViewNode =\n  /** @class */\n  function (_super) {\n    __extends(PageViewNode, _super);\n\n    function PageViewNode() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    PageViewNode.prototype.getNodeClass = function () {\n      return 'page';\n    };\n\n    PageViewNode.prototype.isRoot = function () {\n      return false;\n    };\n\n    PageViewNode.prototype.isLeaf = function () {\n      return false;\n    };\n\n    PageViewNode.prototype.getSize = function () {\n      if (this.size === undefined) {\n        this.size = this.getChildren().reduce(function (size, child) {\n          return size + child.getSize();\n        }, 0);\n      }\n\n      return this.size;\n    };\n\n    PageViewNode.prototype.clearOwnCache = function () {\n      this.size = undefined;\n    };\n\n    return PageViewNode;\n  }(node_1.ViewNode);\n\n  exports.PageViewNode = PageViewNode;\n});","define([\"require\", \"exports\"], function (require, exports) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var ComponentRegistry =\n  /** @class */\n  function () {\n    function ComponentRegistry() {\n      this.componentsMap = new Map();\n    }\n\n    ComponentRegistry.prototype.registerComponent = function (componentId, component) {\n      this.componentsMap.set(componentId, component);\n    };\n\n    ComponentRegistry.prototype.getComponent = function (componentId) {\n      return this.componentsMap.get(componentId);\n    };\n\n    return ComponentRegistry;\n  }();\n\n  exports.ComponentRegistry = ComponentRegistry;\n});","define([\"require\", \"exports\"], function (require, exports) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var ConfigService =\n  /** @class */\n  function () {\n    function ConfigService(config, externalConfig) {\n      this.config = config;\n      this.applyExternalConfig(externalConfig);\n    }\n\n    ConfigService.prototype.getConfig = function () {\n      return this.config;\n    };\n\n    ConfigService.prototype.applyExternalConfig = function (externalConfig) {\n      var coreConfig = externalConfig['tw.core'];\n\n      if (coreConfig) {\n        if (coreConfig.page) {\n          this.config.page = coreConfig.page;\n        }\n      }\n    };\n\n    return ConfigService;\n  }();\n\n  exports.ConfigService = ConfigService;\n});","define([\"require\", \"exports\", \"./cursor\"], function (require, exports, cursor_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var CursorService =\n  /** @class */\n  function () {\n    function CursorService(configService) {\n      if (!configService.getConfig().cursor.disable) {\n        this.cursor = new cursor_1.Cursor();\n      }\n    }\n\n    CursorService.prototype.onDidUpdateCursor = function (listener) {\n      if (this.cursor) {\n        this.cursor.onDidUpdateCursor(listener);\n      }\n    };\n\n    CursorService.prototype.hasCursor = function () {\n      return !!this.cursor;\n    };\n\n    CursorService.prototype.setCursorState = function (cursorState) {\n      this.assertCursor();\n      this.cursor.set(cursorState.anchor, cursorState.head, cursorState.leftLock);\n    };\n\n    CursorService.prototype.getCursorState = function () {\n      this.assertCursor();\n      return {\n        anchor: this.cursor.getAnchor(),\n        head: this.cursor.getHead(),\n        leftLock: this.cursor.getLeftLock()\n      };\n    };\n\n    CursorService.prototype.assertCursor = function () {\n      if (!this.cursor) {\n        throw new Error('Cursor is disabled.');\n      }\n    };\n\n    return CursorService;\n  }();\n\n  exports.CursorService = CursorService;\n});","define([\"require\", \"exports\", \"../event/emitter\"], function (require, exports, emitter_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var Cursor =\n  /** @class */\n  function () {\n    function Cursor() {\n      this.didUpdateCursorEventEmitter = new emitter_1.EventEmitter();\n      this.anchor = 0;\n      this.head = 0;\n      this.leftLock = null;\n    }\n\n    Cursor.prototype.onDidUpdateCursor = function (listener) {\n      this.didUpdateCursorEventEmitter.on(listener);\n    };\n\n    Cursor.prototype.set = function (anchor, head, leftLock) {\n      this.anchor = anchor;\n      this.head = head;\n      this.leftLock = leftLock;\n      this.didUpdateCursorEventEmitter.emit({});\n    };\n\n    Cursor.prototype.getAnchor = function () {\n      return this.anchor;\n    };\n\n    Cursor.prototype.getHead = function () {\n      return this.head;\n    };\n\n    Cursor.prototype.getLeftLock = function () {\n      return this.leftLock;\n    };\n\n    return Cursor;\n  }();\n\n  exports.Cursor = Cursor;\n});","define([\"require\", \"exports\", \"./state\"], function (require, exports, state_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var HistoryService =\n  /** @class */\n  function () {\n    function HistoryService(configService, stateService) {\n      this.state = new state_1.HistoryState(configService, stateService);\n    }\n\n    HistoryService.prototype.undo = function () {\n      this.state.undo();\n    };\n\n    HistoryService.prototype.redo = function () {\n      this.state.redo();\n    };\n\n    return HistoryService;\n  }();\n\n  exports.HistoryService = HistoryService;\n});","define([\"require\", \"exports\", \"./action\"], function (require, exports, action_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var HistoryState =\n  /** @class */\n  function () {\n    function HistoryState(configService, stateService) {\n      var _this = this;\n\n      this.configService = configService;\n      this.stateService = stateService;\n      this.actions = [];\n      this.offset = -1;\n\n      this.handleDidApplyTransformation = function (event) {\n        var transformation = event.transformation,\n            appliedTransformation = event.appliedTransformation; // Do not record applied transformation if originated from redo\n\n        if (_this.offset >= 0 && _this.actions[_this.offset].getAppliedTransformations().some(function (appliedTn) {\n          return appliedTn.getOriginalTransformation() === transformation;\n        })) {\n          return;\n        }\n\n        if (_this.offset < 0) {\n          _this.recordAppliedTransformationToNewAction(appliedTransformation);\n\n          return;\n        }\n\n        var currentItem = _this.actions[_this.offset];\n        var now = Date.now();\n\n        if (now - currentItem.getBeganAt() < _this.maxCollapseDuration && now - currentItem.getEndedAt() < _this.collapseThreshold) {\n          _this.recordAppliedTransformationToLastAction(appliedTransformation);\n        } else {\n          _this.recordAppliedTransformationToNewAction(appliedTransformation);\n        }\n      };\n\n      var config = configService.getConfig();\n      this.maxCollapseDuration = config.history.maxCollapseDuration;\n      this.collapseThreshold = config.history.collapseThreshold;\n      stateService.onDidApplyTransformation(this.handleDidApplyTransformation);\n    }\n\n    HistoryState.prototype.undo = function () {\n      var action = this.consumeNextUndoableAction();\n\n      if (!action) {\n        return;\n      }\n\n      var appliedTransformations = action.getAppliedTransformations();\n\n      if (appliedTransformations.length === 0) {\n        return;\n      }\n\n      this.stateService.unapplyTransformations(appliedTransformations);\n    };\n\n    HistoryState.prototype.redo = function () {\n      var action = this.consumeNextRedoableAction();\n\n      if (!action) {\n        return;\n      }\n\n      var transformations = action.getAppliedTransformations().map(function (appliedTransformation) {\n        return appliedTransformation.getOriginalTransformation();\n      });\n      this.stateService.applyTransformations(transformations);\n    };\n\n    HistoryState.prototype.consumeNextUndoableAction = function () {\n      if (this.offset < 0) {\n        return undefined;\n      }\n\n      var action = this.actions[this.offset];\n      this.offset--;\n      return action;\n    };\n\n    HistoryState.prototype.consumeNextRedoableAction = function () {\n      if (this.offset >= this.actions.length - 1) {\n        return undefined;\n      }\n\n      this.offset++;\n      return this.actions[this.offset];\n    };\n\n    HistoryState.prototype.recordAppliedTransformationToNewAction = function (appliedTransformation) {\n      if (appliedTransformation.getOperations().length === 0) {\n        return;\n      }\n\n      if (this.offset < this.actions.length - 1) {\n        this.actions.splice(this.offset + 1, this.actions.length - 1 - this.offset);\n      }\n\n      var action = new action_1.HistoryAction();\n      action.recordAppliedTransformation(appliedTransformation);\n      this.actions.push(action);\n      this.offset++;\n    };\n\n    HistoryState.prototype.recordAppliedTransformationToLastAction = function (appliedTransformation) {\n      var action = this.actions[this.offset];\n\n      if (!action) {\n        throw new Error('Error recording applied transformation, history is empty.');\n      }\n\n      if (this.offset < this.actions.length - 1) {\n        this.actions.splice(this.offset + 1, this.actions.length - 1 - this.offset);\n      }\n\n      action.recordAppliedTransformation(appliedTransformation);\n    };\n\n    return HistoryState;\n  }();\n\n  exports.HistoryState = HistoryState;\n});","define([\"require\", \"exports\"], function (require, exports) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var HistoryAction =\n  /** @class */\n  function () {\n    function HistoryAction() {\n      this.appliedTransformations = [];\n      this.beganAt = Date.now();\n      this.endedAt = this.beganAt;\n    }\n\n    HistoryAction.prototype.getBeganAt = function () {\n      return this.beganAt;\n    };\n\n    HistoryAction.prototype.getEndedAt = function () {\n      return this.endedAt;\n    };\n\n    HistoryAction.prototype.recordAppliedTransformation = function (appliedTransformation) {\n      this.appliedTransformations.push(appliedTransformation);\n      this.endedAt = Date.now();\n    };\n\n    HistoryAction.prototype.getAppliedTransformations = function () {\n      return this.appliedTransformations;\n    };\n\n    return HistoryAction;\n  }();\n\n  exports.HistoryAction = HistoryAction;\n});","define([\"require\", \"exports\", \"../util/platform\"], function (require, exports, platform_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var KeyBindingService =\n  /** @class */\n  function () {\n    function KeyBindingService(configService, commandService, viewService) {\n      var _this = this;\n\n      this.configService = configService;\n      this.commandService = commandService;\n      this.viewService = viewService;\n      this.keyBindings = new Map();\n\n      this.handleDidPressKey = function (event) {\n        var _a;\n\n        var keyBinding = _this.keyBindings.get(event.key);\n\n        if (!keyBinding) {\n          return;\n        }\n\n        (_a = _this.commandService).executeCommand.apply(_a, [keyBinding.command].concat(keyBinding.args));\n      };\n\n      var keyBindingsConfig = this.configService.getConfig().keyBindings;\n      this.bindKeys(keyBindingsConfig.common);\n\n      switch (platform_1.detectPlatform()) {\n        case 'macOS':\n          if (keyBindingsConfig.macos) {\n            this.bindKeys(keyBindingsConfig.macos);\n          }\n\n          break;\n\n        case 'Windows':\n          if (keyBindingsConfig.windows) {\n            this.bindKeys(keyBindingsConfig.windows);\n          }\n\n          break;\n\n        case 'Linux':\n          if (keyBindingsConfig.linux) {\n            this.bindKeys(keyBindingsConfig.linux);\n          }\n\n          break;\n      }\n\n      viewService.onDidPressKey(this.handleDidPressKey);\n    }\n\n    KeyBindingService.prototype.bindKeys = function (config) {\n      for (var key in config) {\n        var binding = config[key];\n        this.keyBindings.set(key, {\n          command: binding.command,\n          args: binding.args || []\n        });\n      }\n    };\n\n    return KeyBindingService;\n  }();\n\n  exports.KeyBindingService = KeyBindingService;\n});","define([\"require\", \"exports\", \"./state\"], function (require, exports, state_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var LayoutService =\n  /** @class */\n  function () {\n    function LayoutService(componentService, renderService) {\n      this.state = new state_1.LayoutState(componentService, renderService);\n    }\n\n    LayoutService.prototype.onDidUpdateLayoutState = function (listener) {\n      this.state.onDidUpdateLayoutState(listener);\n    };\n\n    LayoutService.prototype.getDocNode = function () {\n      return this.state.getDocNode();\n    };\n\n    LayoutService.prototype.resolvePosition = function (offset) {\n      return this.state.getDocNode().resolvePosition(offset);\n    };\n\n    LayoutService.prototype.resolvePageRects = function (from, to) {\n      return this.state.getDocNode().resolvePageRects(from, to);\n    };\n\n    return LayoutService;\n  }();\n\n  exports.LayoutService = LayoutService;\n});","define([\"require\", \"exports\", \"../event/emitter\", \"./flower\", \"./node-joiner\", \"./tree-builder\", \"./utility\"], function (require, exports, emitter_1, flower_1, node_joiner_1, tree_builder_1, utility_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var LayoutState =\n  /** @class */\n  function () {\n    function LayoutState(componentService, renderService) {\n      var _this = this;\n\n      this.componentService = componentService;\n      this.renderService = renderService;\n      this.didUpdateLayoutStateEventEmitter = new emitter_1.EventEmitter();\n\n      this.handleDidUpdateRenderStateEvent = function (event) {\n        var treeBuilder = new tree_builder_1.LayoutTreeBuilder(_this.componentService);\n        var updatedNode = treeBuilder.buildTree(event.node);\n\n        var node = _this.docNode.findDescendant(event.node.getId());\n\n        if (!node) {\n          throw new Error(\"Render node \" + event.node.getId() + \" is not found.\");\n        }\n\n        _this.deduplicateNode(node);\n\n        node.onDidUpdate(updatedNode);\n        var flower = new flower_1.LayoutFlower();\n        var flowedNode = flower.flow(node);\n\n        _this.didUpdateLayoutStateEventEmitter.emit({\n          node: flowedNode\n        });\n      };\n\n      var docRenderNode = renderService.getDocNode();\n      var treeBuilder = new tree_builder_1.LayoutTreeBuilder(componentService);\n      this.docNode = treeBuilder.buildTree(docRenderNode);\n      var flower = new flower_1.LayoutFlower();\n      flower.flow(this.docNode);\n      renderService.onDidUpdateRenderState(this.handleDidUpdateRenderStateEvent);\n    }\n\n    LayoutState.prototype.onDidUpdateLayoutState = function (listener) {\n      this.didUpdateLayoutStateEventEmitter.on(listener);\n    };\n\n    LayoutState.prototype.getDocNode = function () {\n      return this.docNode;\n    };\n\n    LayoutState.prototype.deduplicateNode = function (node) {\n      switch (utility_1.identifyLayoutNodeType(node)) {\n        case 'Inline':\n          this.deduplicateInlineNode(node);\n          break;\n\n        case 'Block':\n          this.deduplicateBlockNode(node);\n          break;\n      }\n    };\n\n    LayoutState.prototype.deduplicateInlineNode = function (node) {\n      var joiner = new node_joiner_1.NodeJoiner();\n      var nextNode;\n      var lineNode = node.getParent();\n\n      while ((nextNode = node.getNextSiblingAllowCrossParent()) && nextNode.getId() === node.getId()) {\n        var nextLineNode = nextNode.getParent();\n        joiner.join(lineNode, nextLineNode);\n      }\n    };\n\n    LayoutState.prototype.deduplicateBlockNode = function (node) {\n      var joiner = new node_joiner_1.NodeJoiner();\n      var nextNode;\n      var pageNode = node.getParent();\n\n      while ((nextNode = node.getNextSiblingAllowCrossParent()) && nextNode.getId() === node.getId()) {\n        var nextPageNode = nextNode.getParent();\n        joiner.join(pageNode, nextPageNode);\n      }\n    };\n\n    return LayoutState;\n  }();\n\n  exports.LayoutState = LayoutState;\n});","define([\"require\", \"exports\", \"../tree/utility\", \"./node-breaker\", \"./node-joiner\", \"./utility\"], function (require, exports, utility_1, node_breaker_1, node_joiner_1, utility_2) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var NodeQueue =\n  /** @class */\n  function () {\n    function NodeQueue() {\n      this.lineNodes = [];\n      this.pageNodes = [];\n    }\n\n    NodeQueue.prototype.queue = function (node) {\n      switch (utility_2.identifyLayoutNodeType(node)) {\n        case 'Doc':\n          this.queueDocNode(node);\n          break;\n\n        case 'Page':\n          this.queuePageNode(node);\n          break;\n\n        case 'Block':\n          this.queueBlockNode(node);\n          break;\n\n        case 'Line':\n          this.queueLineNode(node);\n          break;\n\n        case 'Inline':\n          this.queueInlineNode(node);\n          break;\n\n        case 'Atomic':\n          this.queueAtomicNode(node);\n          break;\n\n        default:\n          throw new Error('Invalid layout node type.');\n      }\n    };\n\n    NodeQueue.prototype.popLineNode = function () {\n      return this.lineNodes.shift();\n    };\n\n    NodeQueue.prototype.popPageNode = function () {\n      return this.pageNodes.shift();\n    };\n\n    NodeQueue.prototype.queueDocNode = function (node) {\n      var _this = this;\n\n      node.getChildren().forEach(function (child) {\n        return _this.queue(child);\n      });\n    };\n\n    NodeQueue.prototype.queuePageNode = function (node) {\n      var _this = this;\n\n      this.pageNodes.push(node);\n      node.getChildren().forEach(function (child) {\n        return _this.queue(child);\n      });\n    };\n\n    NodeQueue.prototype.queueBlockNode = function (node) {\n      var _this = this;\n\n      node.getChildren().forEach(function (child) {\n        return _this.queue(child);\n      });\n    };\n\n    NodeQueue.prototype.queueLineNode = function (node) {\n      this.lineNodes.push(node);\n    };\n\n    NodeQueue.prototype.queueInlineNode = function (node) {\n      this.queue(node.getParent());\n    };\n\n    NodeQueue.prototype.queueAtomicNode = function (node) {\n      this.queue(node.getParent());\n    };\n\n    return NodeQueue;\n  }();\n\n  var LayoutFlower =\n  /** @class */\n  function () {\n    function LayoutFlower() {\n      this.nodeQueue = new NodeQueue();\n      this.nodeJoiner = new node_joiner_1.NodeJoiner();\n      this.nodeBreaker = new node_breaker_1.NodeBreaker();\n      this.ran = false;\n    }\n\n    LayoutFlower.prototype.flow = function (node) {\n      if (this.ran) {\n        throw new Error('Layout flower has already been run.');\n      }\n\n      this.updatedNode = node;\n      this.nodeQueue.queue(node);\n      this.flushLineNodeQueue();\n      this.flushPageNodeQueue();\n      return this.updatedNode;\n    };\n\n    LayoutFlower.prototype.flushLineNodeQueue = function () {\n      var node;\n\n      while (node = this.nodeQueue.popLineNode()) {\n        this.flowLineNode(node);\n      }\n    };\n\n    LayoutFlower.prototype.flushPageNodeQueue = function () {\n      var node;\n\n      while (node = this.nodeQueue.popPageNode()) {\n        this.flowPageNode(node);\n      }\n    };\n\n    LayoutFlower.prototype.flowPageNode = function (node) {\n      if (node.isFlowed()) {\n        return;\n      }\n\n      if (!node.getParent()) {\n        return;\n      }\n\n      if (this.joinNextPageNode(node)) {\n        this.nodeQueue.queue(node);\n        return;\n      }\n\n      var pageNode = node;\n\n      while (pageNode) {\n        this.recordNodeAsUpdated(pageNode);\n        var newPageNode = this.nodeBreaker.break(pageNode);\n\n        if (!newPageNode) {\n          pageNode.markAsFlowed();\n          break;\n        }\n\n        pageNode.getParent().appendChildAfter(newPageNode, pageNode);\n        pageNode.markAsFlowed();\n        pageNode = newPageNode;\n      }\n    };\n\n    LayoutFlower.prototype.flowLineNode = function (node) {\n      if (node.isFlowed()) {\n        return;\n      }\n\n      if (!node.getParent()) {\n        return;\n      }\n\n      if (this.joinNextLineNode(node)) {\n        this.nodeQueue.queue(node);\n        return;\n      }\n\n      var lineNode = node;\n\n      while (lineNode) {\n        this.recordNodeAsUpdated(lineNode);\n        var newLineNode = this.nodeBreaker.break(lineNode);\n\n        if (!newLineNode) {\n          lineNode.markAsFlowed();\n          break;\n        }\n\n        lineNode.getParent().appendChildAfter(newLineNode, lineNode);\n        lineNode.markAsFlowed();\n        lineNode = newLineNode;\n      }\n\n      var parentNode = node.getParent();\n\n      while (parentNode) {\n        if (utility_2.identifyLayoutNodeType(parentNode) === 'Page') {\n          this.nodeQueue.queue(node.getParent().getParent());\n          break;\n        }\n\n        parentNode = parentNode.getParent();\n      }\n    };\n\n    LayoutFlower.prototype.joinNextPageNode = function (node) {\n      var nextNode = node.getNextSibling();\n\n      if (!nextNode) {\n        return false;\n      }\n\n      var nextBlockChild = node.getFirstChild();\n\n      if (!nextBlockChild) {\n        return false;\n      }\n\n      var nextLineNode = nextBlockChild.getFirstChild();\n\n      if (!nextLineNode) {\n        return false;\n      }\n\n      if (node.getContentHeight() + nextLineNode.getHeight() > node.getHeight()) {\n        return false;\n      }\n\n      this.nodeJoiner.join(node, nextNode);\n      return true;\n    };\n\n    LayoutFlower.prototype.joinNextLineNode = function (node) {\n      var nextNode = node.getNextSibling();\n\n      if (!nextNode) {\n        return false;\n      }\n\n      var nextInlineChild = nextNode.getFirstChild();\n\n      if (!nextInlineChild) {\n        return false;\n      }\n\n      var nextAtomicChild = nextInlineChild.getFirstChild();\n\n      if (!nextAtomicChild) {\n        return false;\n      }\n\n      if (node.getContentWidth() + nextAtomicChild.getWidth() > node.getWidth()) {\n        return false;\n      }\n\n      this.nodeJoiner.join(node, nextNode);\n      return true;\n    };\n\n    LayoutFlower.prototype.recordNodeAsUpdated = function (node) {\n      this.updatedNode = utility_1.findCommonLineage(node, this.updatedNode);\n    };\n\n    LayoutFlower.prototype.getNodeLineage = function (node) {\n      var lineage = [];\n      var currentNode = node;\n\n      while (true) {\n        lineage.unshift(currentNode);\n\n        if (currentNode.isRoot()) {\n          return lineage;\n        }\n\n        currentNode = currentNode.getParent();\n      }\n    };\n\n    return LayoutFlower;\n  }();\n\n  exports.LayoutFlower = LayoutFlower;\n});","define([\"require\", \"exports\", \"./utility\"], function (require, exports, utility_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var NodeBreaker =\n  /** @class */\n  function () {\n    function NodeBreaker() {}\n\n    NodeBreaker.prototype.break = function (node) {\n      switch (utility_1.identifyLayoutNodeType(node)) {\n        case 'Page':\n          return this.breakPageNode(node);\n\n        case 'Line':\n          return this.breakLineNode(node);\n\n        default:\n          return undefined;\n      }\n    };\n\n    NodeBreaker.prototype.breakPageNode = function (node) {\n      var height = node.getInnerHeight();\n      var cumulatedHeight = 0;\n      var blockNodes = node.getChildren();\n\n      for (var n = 0; n < blockNodes.length; n++) {\n        var blockNode = blockNodes[n];\n\n        if (cumulatedHeight + (blockNode.getHeight() - blockNode.getPaddingBottom()) > height) {\n          var newPageNode = node.clone();\n\n          for (var _i = 0, _a = node.getChildren().slice(n + 1); _i < _a.length; _i++) {\n            var blockNodeToMove = _a[_i];\n            node.removeChild(blockNodeToMove);\n            newPageNode.appendChild(blockNodeToMove);\n          }\n\n          var lastBlockNode = node.getLastChild();\n\n          if (lastBlockNode) {\n            var newBlockNode = this.breakBlockNode(lastBlockNode, height - cumulatedHeight);\n\n            if (newBlockNode) {\n              newPageNode.insertChild(newBlockNode);\n            }\n\n            if (lastBlockNode.getChildren().length === 0) {\n              node.removeChild(lastBlockNode);\n            }\n          }\n\n          return newPageNode;\n        }\n\n        cumulatedHeight += blockNode.getHeight();\n      }\n\n      return undefined;\n    };\n\n    NodeBreaker.prototype.breakBlockNode = function (node, height) {\n      var cumulatedHeight = 0;\n      var lineNodes = node.getChildren();\n\n      for (var n = 0; n < lineNodes.length; n++) {\n        var lineNode = lineNodes[n];\n\n        if (cumulatedHeight + lineNode.getHeight() > height) {\n          var newBlockNode = node.clone();\n\n          for (var _i = 0, _a = node.getChildren().slice(n); _i < _a.length; _i++) {\n            var lineNodeToMove = _a[_i];\n            node.removeChild(lineNodeToMove);\n            newBlockNode.appendChild(lineNodeToMove);\n          }\n\n          return newBlockNode;\n        }\n\n        cumulatedHeight += lineNode.getHeight();\n      }\n\n      return undefined;\n    };\n\n    NodeBreaker.prototype.breakLineNode = function (node) {\n      var width = node.getInnerWidth();\n      var cumulatedWidth = 0;\n      var inlineNodes = node.getChildren();\n\n      for (var n = 0; n < inlineNodes.length; n++) {\n        var inlineNode = inlineNodes[n];\n\n        if (cumulatedWidth + inlineNode.getTailTrimmedWidth() > width) {\n          var newLineNode = node.clone();\n\n          for (var _i = 0, _a = node.getChildren().slice(n + 1); _i < _a.length; _i++) {\n            var inlineNodeToMove = _a[_i];\n            node.removeChild(inlineNodeToMove);\n            newLineNode.appendChild(inlineNodeToMove);\n          }\n\n          var lastInlineNode = node.getLastChild();\n\n          if (lastInlineNode) {\n            var newInlineNode = this.breakInlineNode(lastInlineNode, width - cumulatedWidth, width);\n\n            if (newInlineNode) {\n              newLineNode.insertChild(newInlineNode);\n            }\n\n            if (lastInlineNode.getChildren().length === 0) {\n              node.removeChild(lastInlineNode);\n            }\n          }\n\n          return newLineNode;\n        }\n\n        cumulatedWidth += inlineNode.getWidth();\n      }\n\n      return undefined;\n    };\n\n    NodeBreaker.prototype.breakInlineNode = function (node, width, lineWidth) {\n      var cumulatedWidth = 0;\n      var atomicNodes = node.getChildren();\n\n      for (var n = 0; n < atomicNodes.length; n++) {\n        var atomicNode = atomicNodes[n];\n\n        if (cumulatedWidth + atomicNode.getTailTrimmedWidth() > width) {\n          var newInlineNode = node.clone();\n\n          for (var _i = 0, _a = node.getChildren().slice(n); _i < _a.length; _i++) {\n            var atomicNodeToMove = _a[_i];\n            node.removeChild(atomicNodeToMove);\n            newInlineNode.appendChild(atomicNodeToMove);\n          }\n\n          var nextAtomicNode = newInlineNode.getFirstChild();\n\n          if (nextAtomicNode) {\n            var newAtomicNode = this.breakAtomicNode(nextAtomicNode, lineWidth);\n\n            if (newAtomicNode) {\n              newInlineNode.appendChildAfter(newAtomicNode, nextAtomicNode);\n            }\n          }\n\n          return newInlineNode;\n        }\n\n        cumulatedWidth += atomicNode.getWidth();\n      }\n\n      return undefined;\n    };\n\n    NodeBreaker.prototype.breakAtomicNode = function (node, width) {\n      if (node.getTailTrimmedWidth() <= width) {\n        return null;\n      }\n\n      return node.breakAtWidth(width);\n    };\n\n    return NodeBreaker;\n  }();\n\n  exports.NodeBreaker = NodeBreaker;\n});","define([\"require\", \"exports\", \"./block-node\", \"./doc-node\"], function (require, exports, block_node_1, doc_node_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var LayoutTreeBuilder =\n  /** @class */\n  function () {\n    function LayoutTreeBuilder(componentService) {\n      this.componentService = componentService;\n      this.ran = false;\n    }\n\n    LayoutTreeBuilder.prototype.buildTree = function (renderNode) {\n      if (this.ran) {\n        throw new Error('Tree builder has already been run.');\n      }\n\n      this.rootRenderNode = renderNode;\n\n      this._buildTree();\n\n      this.ran = true;\n      return this.rootLayoutNode;\n    };\n\n    LayoutTreeBuilder.prototype._buildTree = function () {\n      this.rootLayoutNode = this.buildNode(this.rootRenderNode);\n      this.ran = true;\n    };\n\n    LayoutTreeBuilder.prototype.buildNode = function (renderNode) {\n      var _this = this;\n\n      var component = this.componentService.getComponent(renderNode.getComponentId());\n\n      if (!component) {\n        throw new Error(\"Component \" + renderNode.getComponentId() + \" is not registered.\");\n      }\n\n      var layoutNode = component.buildLayoutNode(renderNode);\n\n      if (!layoutNode) {\n        throw new Error(\"Could not build layout node from render node \" + renderNode.getId() + \".\");\n      }\n\n      if (!renderNode.isLeaf() && !layoutNode.isLeaf()) {\n        var childLayoutNodes = renderNode.getChildren().map(function (childRenderNode) {\n          return _this.buildNode(childRenderNode);\n        });\n\n        if (layoutNode instanceof doc_node_1.DocLayoutNode) {\n          var pageLayoutNode_1 = this.componentService.getPageComponent().buildPageLayoutNode();\n          childLayoutNodes.forEach(function (childLayoutNode) {\n            pageLayoutNode_1.appendChild(childLayoutNode);\n          });\n          layoutNode.appendChild(pageLayoutNode_1);\n        } else if (layoutNode instanceof block_node_1.BlockLayoutNode) {\n          var lineLayoutNode_1 = this.componentService.getLineComponent().buildLineLayoutNode();\n          childLayoutNodes.forEach(function (childLayoutNode) {\n            lineLayoutNode_1.appendChild(childLayoutNode);\n          });\n          layoutNode.appendChild(lineLayoutNode_1);\n        } else {\n          childLayoutNodes.forEach(function (childLayoutNode) {\n            layoutNode.appendChild(childLayoutNode);\n          });\n        }\n      }\n\n      return layoutNode;\n    };\n\n    return LayoutTreeBuilder;\n  }();\n\n  exports.LayoutTreeBuilder = LayoutTreeBuilder;\n});","define([\"require\", \"exports\", \"./state\"], function (require, exports, state_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var ModelService =\n  /** @class */\n  function () {\n    function ModelService(componentService, stateService) {\n      this.state = new state_1.ModelState(componentService, stateService);\n    }\n\n    ModelService.prototype.onDidUpdateModelState = function (listener) {\n      this.state.onDidUpdateModelState(listener);\n    };\n\n    ModelService.prototype.getDocNode = function () {\n      return this.state.getDocNode();\n    };\n\n    ModelService.prototype.toHTML = function (from, to) {\n      var domNode = this.state.getDocNode().toDOM(from, to);\n      return domNode.outerHTML;\n    };\n\n    ModelService.prototype.resolvePosition = function (offset) {\n      return this.state.getDocNode().resolvePosition(offset);\n    };\n\n    return ModelService;\n  }();\n\n  exports.ModelService = ModelService;\n});","define([\"require\", \"exports\", \"../event/emitter\", \"../state/utility\", \"../tree/utility\", \"./parser\"], function (require, exports, emitter_1, utility_1, utility_2, parser_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var ModelState =\n  /** @class */\n  function () {\n    function ModelState(componentService, stateService) {\n      var _this = this;\n\n      this.componentService = componentService;\n      this.stateService = stateService;\n      this.didUpdateModelStateEventEmitter = new emitter_1.EventEmitter();\n\n      this.handleDidUpdateStateEvent = function (event) {\n        var wrappedDepth = _this.findWrappedDepth(_this.stateService.getTokens(), event.afterFrom, event.afterTo);\n\n        var node = _this.findNodeContainingRange(event.beforeFrom, event.beforeTo, wrappedDepth);\n\n        var updatedTokens = _this.findNodeTokenRange(_this.stateService.getTokens(), node.getId(), event.afterFrom, event.afterTo); // TODO: When there is block insertion or deletion, it\n        // results in reparse of the full token state. While this\n        // is unnoticeable for small documents, it gets noticeably\n        // slow as the documents grows large. There is much room\n        // for optimization, by only reparsing the part of the token\n        // state that got updated.\n\n\n        var parser = new parser_1.TokenParser(_this.componentService);\n        var updatedNode = parser.parse(updatedTokens);\n        node.onDidUpdate(updatedNode);\n\n        _this.didUpdateModelStateEventEmitter.emit({\n          node: node\n        });\n      };\n\n      var tokens = stateService.getTokens();\n      var parser = new parser_1.TokenParser(componentService);\n      this.docNode = parser.parse(tokens);\n      stateService.onDidUpdateState(this.handleDidUpdateStateEvent);\n    }\n\n    ModelState.prototype.onDidUpdateModelState = function (listener) {\n      this.didUpdateModelStateEventEmitter.on(listener);\n    };\n\n    ModelState.prototype.getDocNode = function () {\n      return this.docNode;\n    };\n\n    ModelState.prototype.findUpdatedNode = function (tokens, beforeFrom, beforeTo, afterFrom, afterTo) {\n      var beforeFromPosition = this.docNode.resolvePosition(beforeFrom).getLeaf();\n      var beforeToPosition = this.docNode.resolvePosition(beforeTo).getLeaf();\n      var beforeNode = utility_2.findCommonLineage(beforeFromPosition.getNode(), beforeToPosition.getNode());\n      var afterTokenRange = this.findParentNodeOfTokenRange(tokens, afterFrom, afterTo);\n      var afterNodeID = tokens[afterTokenRange[0]].id;\n      var afterNode = this.findNodeInLineageById(beforeFromPosition.getNode(), afterNodeID);\n      var node = utility_2.findCommonLineage(beforeNode, afterNode);\n      var updatedTokens = this.findNodeTokenRange(tokens, node.getId(), afterTokenRange[0], afterTokenRange[1]);\n      var parser = new parser_1.TokenParser(this.componentService);\n      var updatedNode = parser.parse(updatedTokens);\n      return [node, updatedNode];\n    };\n\n    ModelState.prototype.findWrappedDepth = function (tokens, from, to) {\n      var depth = 0;\n      var maxDepth = 0;\n      var position = from;\n      var token;\n\n      while (position < to) {\n        token = tokens[position];\n        position++;\n\n        switch (utility_1.identifyTokenType(token)) {\n          case 'OpenToken':\n            depth--;\n            break;\n\n          case 'CloseToken':\n            depth++;\n            break;\n        }\n\n        maxDepth = Math.max(maxDepth, depth);\n      }\n\n      return maxDepth;\n    };\n\n    ModelState.prototype.findNodeContainingRange = function (from, to, wrappedDepth) {\n      var fromPosition = this.docNode.resolvePosition(from).getLeaf();\n      var toPosition = this.docNode.resolvePosition(to).getLeaf();\n\n      for (var n = 0; n < wrappedDepth; n++) {\n        fromPosition = fromPosition.getParent();\n        toPosition = toPosition.getParent();\n      }\n\n      return utility_2.findCommonLineage(fromPosition.getNode(), toPosition.getNode());\n    };\n\n    ModelState.prototype.findParentNodeOfTokenRange = function (tokens, hintFrom, hintTo) {\n      var depthPeak = 0;\n      var depth = 0;\n      tokens.slice(hintFrom, hintTo).forEach(function (token) {\n        switch (utility_1.identifyTokenType(token)) {\n          case 'OpenToken':\n            depth--;\n            break;\n\n          case 'CloseToken':\n            depth++;\n            break;\n        }\n\n        if (depth > depthPeak) {\n          depthPeak = depth;\n        }\n      });\n      var from = hintFrom;\n      var opensNeeded = depthPeak + 1;\n      var token;\n\n      while (opensNeeded > 0 && from > 0) {\n        from--;\n        token = tokens[from];\n\n        switch (utility_1.identifyTokenType(token)) {\n          case 'OpenToken':\n            opensNeeded--;\n            break;\n\n          case 'CloseToken':\n            opensNeeded++;\n            break;\n        }\n      }\n\n      var to = hintTo;\n      var closesNeeded = depthPeak + 1;\n      var tokensLength = tokens.length;\n\n      while (closesNeeded > 0 && to < tokensLength) {\n        to++;\n        token = tokens[to - 1];\n\n        switch (utility_1.identifyTokenType(token)) {\n          case 'OpenToken':\n            closesNeeded++;\n            break;\n\n          case 'CloseToken':\n            closesNeeded--;\n            break;\n        }\n      }\n\n      return [from, to];\n    };\n\n    ModelState.prototype.findNodeInLineageById = function (node, id) {\n      if (node.getId() === id) {\n        return node;\n      }\n\n      if (node.isRoot()) {\n        throw new Error(\"Node \" + id + \" is not found in lineage.\");\n      }\n\n      return this.findNodeInLineageById(node.getParent(), id);\n    };\n\n    ModelState.prototype.findNodeTokenRange = function (tokens, nodeId, hintFrom, hintTo) {\n      var _a = this.findNodeOpenTokenPositionAndDepth(tokens, nodeId, hintFrom),\n          from = _a[0],\n          depth = _a[1];\n\n      var to = this.findNodeCloseTokenPosition(tokens, hintTo, depth);\n      return tokens.slice(from, to);\n    };\n\n    ModelState.prototype.findNodeOpenTokenPositionAndDepth = function (tokens, nodeId, hintPosition) {\n      var position = hintPosition;\n      var depth = 0;\n      var token;\n\n      while (position >= 0) {\n        position--;\n        token = tokens[position];\n\n        switch (utility_1.identifyTokenType(token)) {\n          case 'OpenToken':\n            depth--;\n\n            if (token.id === nodeId) {\n              return [position, depth];\n            }\n\n            break;\n\n          case 'CloseToken':\n            depth++;\n            break;\n        }\n      }\n\n      return [position, depth];\n    };\n\n    ModelState.prototype.findNodeCloseTokenPosition = function (tokens, hintPosition, depth) {\n      var tokensLength = tokens.length;\n      var position = hintPosition;\n      var currentDepth = depth;\n      var token;\n\n      while (position < tokensLength) {\n        token = tokens[position];\n        position++;\n\n        switch (utility_1.identifyTokenType(token)) {\n          case 'OpenToken':\n            currentDepth--;\n            break;\n\n          case 'CloseToken':\n            currentDepth++;\n\n            if (currentDepth >= 0) {\n              return position;\n            }\n\n            break;\n        }\n      }\n\n      return position;\n    };\n\n    return ModelState;\n  }();\n\n  exports.ModelState = ModelState;\n});","define([\"require\", \"exports\", \"../state/utility\", \"./inline-node\"], function (require, exports, utility_1, inline_node_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  var ParserState;\n\n  (function (ParserState) {\n    ParserState[ParserState[\"NewNode\"] = 0] = \"NewNode\";\n    ParserState[ParserState[\"Content\"] = 1] = \"Content\";\n  })(ParserState || (ParserState = {}));\n\n  var Stack =\n  /** @class */\n  function () {\n    function Stack() {\n      this.objects = [];\n    }\n\n    Stack.prototype.push = function (object) {\n      this.objects.push(object);\n    };\n\n    Stack.prototype.pop = function () {\n      return this.objects.pop();\n    };\n\n    Stack.prototype.peek = function () {\n      return this.objects[this.objects.length - 1];\n    };\n\n    Stack.prototype.getDoc = function () {\n      if (this.objects.length === 0) {\n        throw new Error('Error parsing state.');\n      }\n\n      return this.objects[0];\n    };\n\n    return Stack;\n  }();\n\n  var TokenParser =\n  /** @class */\n  function () {\n    function TokenParser(componentService) {\n      this.componentService = componentService;\n      this.parserState = ParserState.NewNode;\n      this.stack = new Stack();\n      this.contentBuffer = '';\n      this.ran = false;\n    }\n\n    TokenParser.prototype.parse = function (tokens) {\n      if (this.ran) {\n        throw new Error('Parser has already been run.');\n      }\n\n      this.tokens = tokens;\n\n      this._parse();\n\n      this.ran = true;\n      return this.rootNode;\n    };\n\n    TokenParser.prototype._parse = function () {\n      var tokens = this.tokens;\n      this.stack = new Stack();\n      var token;\n\n      for (var n = 0, nn = tokens.length; n < nn; n++) {\n        token = tokens[n];\n\n        try {\n          this.processToken(token);\n        } catch (error) {\n          error.message = \"Error at token \" + n + \": \" + error.message;\n          throw error;\n        }\n      }\n\n      this.ran = true;\n    };\n\n    TokenParser.prototype.processToken = function (token) {\n      switch (this.parserState) {\n        case ParserState.NewNode:\n          switch (utility_1.identifyTokenType(token)) {\n            case 'OpenToken':\n              this.newNode(token);\n              return;\n\n            case 'ContentToken':\n              this.appendToContent(token);\n              return;\n\n            case 'CloseToken':\n              this.closeNode(token);\n              return;\n          }\n\n        case ParserState.Content:\n          switch (utility_1.identifyTokenType(token)) {\n            case 'ContentToken':\n              this.appendToContent(token);\n              return;\n\n            case 'CloseToken':\n              this.closeNode(token);\n              return;\n          }\n\n        default:\n          throw new Error('Unexpected token encountered.');\n      }\n    };\n\n    TokenParser.prototype.newNode = function (token) {\n      var node = this.buildNode(token.componentId, token.partId, token.id, token.attributes);\n      var parentStackObject = this.stack.peek();\n\n      if (parentStackObject) {\n        parentStackObject.node.appendChild(node);\n      }\n\n      this.stack.push({\n        node: node\n      });\n\n      if (!this.rootNode) {\n        this.rootNode = node;\n      }\n    };\n\n    TokenParser.prototype.appendToContent = function (token) {\n      this.contentBuffer += token;\n      this.parserState = ParserState.Content;\n    };\n\n    TokenParser.prototype.closeNode = function (token) {\n      var stackObject = this.stack.pop();\n\n      if (!stackObject) {\n        throw new Error('Unexpected end of tokens encountered.');\n      }\n\n      if (stackObject.node instanceof inline_node_1.InlineModelNode) {\n        var inlineNode = stackObject.node;\n        inlineNode.setContent(this.contentBuffer);\n      }\n\n      this.contentBuffer = '';\n      this.parserState = ParserState.NewNode;\n    };\n\n    TokenParser.prototype.buildNode = function (componentId, partId, id, attributes) {\n      var component = this.componentService.getComponent(componentId);\n\n      if (!component) {\n        throw new Error(\"Component \" + componentId + \" is not registered.\");\n      }\n\n      var node = component.buildModelNode(partId, id, attributes);\n\n      if (!node) {\n        throw new Error(\"Could not build model node from part \" + partId + \", id \" + id + \" and attributes \" + JSON.stringify(attributes) + \".\");\n      }\n\n      return node;\n    };\n\n    return TokenParser;\n  }();\n\n  exports.TokenParser = TokenParser;\n});","define([\"require\", \"exports\", \"./state\"], function (require, exports, state_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var RenderService =\n  /** @class */\n  function () {\n    function RenderService(componentService, modelService) {\n      this.state = new state_1.RenderState(componentService, modelService);\n    }\n\n    RenderService.prototype.onDidUpdateRenderState = function (listener) {\n      this.state.onDidUpdateRenderState(listener);\n    };\n\n    RenderService.prototype.getDocNode = function () {\n      return this.state.getDocNode();\n    };\n\n    RenderService.prototype.getDocSize = function () {\n      return this.state.getDocNode().getSize();\n    };\n\n    RenderService.prototype.convertOffsetToModelOffset = function (offset) {\n      return this.state.getDocNode().convertOffsetToModelOffset(offset);\n    };\n\n    RenderService.prototype.convertModelOffsetToOffset = function (modelOffset) {\n      return this.state.getDocNode().convertModelOffsetToOffset(modelOffset);\n    };\n\n    RenderService.prototype.resolvePosition = function (offset) {\n      return this.state.getDocNode().resolvePosition(offset);\n    };\n\n    RenderService.prototype.getStylesBetween = function (from, to) {\n      var styles = {};\n      var docNode = this.state.getDocNode();\n      this.extractStyle(styles, docNode, from, to);\n      return styles;\n    };\n\n    RenderService.prototype.extractStyle = function (styles, node, from, to) {\n      var _this = this;\n\n      if (from > to) {\n        return;\n      }\n\n      var componentStyles = styles[node.getComponentId()] = styles[node.getComponentId()] || {};\n      var partStyles = componentStyles[node.getPartId()] = componentStyles[node.getPartId()] || [];\n      partStyles.push(node.getStyle());\n      var position = 0;\n\n      if (node.isLeaf()) {\n        return;\n      }\n\n      node.getChildren().forEach(function (child) {\n        var childSize = child.getSize();\n\n        if (0 <= to - position && from - position <= childSize) {\n          var childFrom = Math.max(0, Math.min(childSize, from - position));\n          var childTo = Math.max(0, Math.min(childSize, to - position));\n\n          _this.extractStyle(styles, child, childFrom, childTo);\n        }\n\n        position += childSize;\n      });\n    };\n\n    return RenderService;\n  }();\n\n  exports.RenderService = RenderService;\n});","define([\"require\", \"exports\", \"../event/emitter\", \"./tree-builder\"], function (require, exports, emitter_1, tree_builder_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var RenderState =\n  /** @class */\n  function () {\n    function RenderState(componentService, modelService) {\n      var _this = this;\n\n      this.componentService = componentService;\n      this.modelService = modelService;\n      this.didUpdateRenderStateEventEmitter = new emitter_1.EventEmitter();\n\n      this.handleDidUpdateModelStateEvent = function (event) {\n        var treeBuilder = new tree_builder_1.RenderTreeBuilder(_this.componentService);\n        var updatedNode = treeBuilder.buildTree(event.node);\n\n        var node = _this.docNode.findDescendant(event.node.getId());\n\n        if (!node) {\n          throw new Error(\"Render node \" + event.node.getId() + \" is not found.\");\n        }\n\n        node.onDidUpdate(updatedNode);\n\n        _this.didUpdateRenderStateEventEmitter.emit({\n          node: node\n        });\n      };\n\n      var docModelNode = modelService.getDocNode();\n      var treeBuilder = new tree_builder_1.RenderTreeBuilder(componentService);\n      this.docNode = treeBuilder.buildTree(docModelNode);\n      modelService.onDidUpdateModelState(this.handleDidUpdateModelStateEvent);\n    }\n\n    RenderState.prototype.onDidUpdateRenderState = function (listener) {\n      this.didUpdateRenderStateEventEmitter.on(listener);\n    };\n\n    RenderState.prototype.getDocNode = function () {\n      return this.docNode;\n    };\n\n    return RenderState;\n  }();\n\n  exports.RenderState = RenderState;\n});","define([\"require\", \"exports\"], function (require, exports) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var RenderTreeBuilder =\n  /** @class */\n  function () {\n    function RenderTreeBuilder(componentService) {\n      this.componentService = componentService;\n      this.ran = false;\n    }\n\n    RenderTreeBuilder.prototype.buildTree = function (modelNode) {\n      if (this.ran) {\n        throw new Error('Tree builder has already been run.');\n      }\n\n      this.rootModelNode = modelNode;\n\n      this._buildTree();\n\n      this.ran = true;\n      return this.rootRenderNode;\n    };\n\n    RenderTreeBuilder.prototype._buildTree = function () {\n      this.rootRenderNode = this.buildNode(this.rootModelNode);\n      this.ran = true;\n    };\n\n    RenderTreeBuilder.prototype.buildNode = function (modelNode) {\n      var _this = this;\n\n      var component = this.componentService.getComponent(modelNode.getComponentId());\n\n      if (!component) {\n        throw new Error(\"Component \" + modelNode.getComponentId() + \" is not registered.\");\n      }\n\n      var renderNode = component.buildRenderNode(modelNode);\n\n      if (!renderNode) {\n        throw new Error(\"Could not build render node from model node \" + modelNode.getId() + \".\");\n      }\n\n      if (!modelNode.isLeaf() && !renderNode.isLeaf()) {\n        modelNode.getChildren().forEach(function (childModelNode) {\n          renderNode.appendChild(_this.buildNode(childModelNode));\n        });\n      }\n\n      return renderNode;\n    };\n\n    return RenderTreeBuilder;\n  }();\n\n  exports.RenderTreeBuilder = RenderTreeBuilder;\n});","define([\"require\", \"exports\"], function (require, exports) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var ServiceRegistry =\n  /** @class */\n  function () {\n    function ServiceRegistry() {\n      this.services = {};\n    }\n\n    ServiceRegistry.prototype.registerService = function (key, service) {\n      this.services[key] = service;\n    };\n\n    ServiceRegistry.prototype.getService = function (key) {\n      var service = this.services[key];\n\n      if (!service) {\n        throw new Error(\"Service \" + key + \" is not registered.\");\n      }\n\n      return service;\n    };\n\n    return ServiceRegistry;\n  }();\n\n  exports.ServiceRegistry = ServiceRegistry;\n});","define([\"require\", \"exports\", \"./state\"], function (require, exports, state_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var StateService =\n  /** @class */\n  function () {\n    function StateService(cursorService, initialMarkup) {\n      this.state = new state_1.State(cursorService, initialMarkup);\n    }\n\n    StateService.prototype.onDidApplyTransformation = function (listener) {\n      this.state.onDidApplyTransformation(listener);\n    };\n\n    StateService.prototype.onDidUpdateState = function (listener) {\n      this.state.onDidUpdateState(listener);\n    };\n\n    StateService.prototype.getTokens = function () {\n      return this.state.getTokens();\n    };\n\n    StateService.prototype.applyTransformations = function (transformations) {\n      var appliedTransformations = this.state.applyTransformations(transformations);\n      return appliedTransformations;\n    };\n\n    StateService.prototype.applyTransformation = function (transformation) {\n      var appliedTransformation = this.state.applyTransformations([transformation])[0];\n      return appliedTransformation;\n    };\n\n    StateService.prototype.unapplyTransformations = function (appliedTransformations) {\n      this.state.unapplyTransformations(appliedTransformations);\n    };\n\n    StateService.prototype.unapplyTransformation = function (appliedTransformation) {\n      return this.state.unapplyTransformations([appliedTransformation]);\n    };\n\n    return StateService;\n  }();\n\n  exports.StateService = StateService;\n});","define([\"require\", \"exports\", \"../event/emitter\", \"./tokenizer\", \"./transformation\"], function (require, exports, emitter_1, tokenizer_1, transformation_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var State =\n  /** @class */\n  function () {\n    function State(cursorService, initialMarkup) {\n      this.cursorService = cursorService;\n      this.didApplyTransformationEventEmitter = new emitter_1.EventEmitter();\n      this.didUpdateStateEventEmitter = new emitter_1.EventEmitter();\n      var tokenizer = new tokenizer_1.Tokenizer();\n      this.tokens = tokenizer.tokenize(initialMarkup);\n    }\n\n    State.prototype.onDidApplyTransformation = function (listener) {\n      this.didApplyTransformationEventEmitter.on(listener);\n    };\n\n    State.prototype.onDidUpdateState = function (listener) {\n      this.didUpdateStateEventEmitter.on(listener);\n    };\n\n    State.prototype.getTokens = function () {\n      return this.tokens;\n    };\n\n    State.prototype.applyTransformations = function (transformations) {\n      var _this = this;\n\n      this.assertInitialized();\n      var appliedTransformations = transformations.map(function (transformation) {\n        var appliedTransformation = _this.applyTransformation(transformation);\n\n        _this.didApplyTransformationEventEmitter.emit({\n          transformation: transformation,\n          appliedTransformation: appliedTransformation\n        });\n\n        return appliedTransformation;\n      });\n      var transformedRange = this.findTransformedRange(appliedTransformations);\n\n      if (transformedRange) {\n        this.didUpdateStateEventEmitter.emit({\n          beforeFrom: transformedRange.beforeFrom,\n          beforeTo: transformedRange.beforeTo,\n          afterFrom: transformedRange.afterFrom,\n          afterTo: transformedRange.afterTo\n        });\n      }\n\n      return appliedTransformations;\n    };\n\n    State.prototype.unapplyTransformations = function (appliedTransformations) {\n      var _this = this;\n\n      this.assertInitialized();\n      appliedTransformations.slice().reverse().forEach(function (appliedTransformation) {\n        return _this.unapplyTransformation(appliedTransformation);\n      });\n      var transformedRange = this.findTransformedRange(appliedTransformations);\n\n      if (transformedRange) {\n        this.didUpdateStateEventEmitter.emit({\n          beforeFrom: transformedRange.beforeFrom,\n          beforeTo: transformedRange.beforeTo,\n          afterFrom: transformedRange.afterFrom,\n          afterTo: transformedRange.afterTo\n        });\n      }\n    };\n\n    State.prototype.applyTransformation = function (transformation) {\n      var _this = this;\n\n      var cursorState = this.cursorService.getCursorState();\n      var appliedTransformation = new transformation_1.AppliedTransformation(transformation, cursorState.anchor, cursorState.head, cursorState.leftLock);\n      var operations = transformation.getOperations();\n      var offsetAdjustments = [];\n      operations.forEach(function (unadjustedOperation) {\n        var _a;\n\n        var operation = unadjustedOperation.adjustOffset(offsetAdjustments);\n\n        if (operation instanceof transformation_1.InsertOperation) {\n          (_a = _this.tokens).splice.apply(_a, [operation.getAt(), 0].concat(operation.getTokens()));\n\n          var appliedOperation = new transformation_1.AppliedInsertOperation(operation.getAt(), operation.getTokens());\n          appliedTransformation.addOperation(appliedOperation);\n        } else if (operation instanceof transformation_1.DeleteOperation) {\n          var deletedTokens = _this.tokens.splice(operation.getFrom(), operation.getTo() - operation.getFrom());\n\n          var appliedOperation = new transformation_1.AppliedDeleteOperation(operation.getFrom(), deletedTokens);\n          appliedTransformation.addOperation(appliedOperation);\n        } else {\n          throw new Error('Unknown transformation operation encountered.');\n        }\n\n        offsetAdjustments.push(operation.getOffsetAdjustment());\n      });\n      var cursorAnchor = transformation.getCursorAnchor();\n      var cursorHead = transformation.getCursorHead();\n      this.cursorService.setCursorState({\n        anchor: cursorAnchor === null ? cursorState.anchor : cursorAnchor,\n        head: cursorHead === null ? cursorState.head : cursorHead,\n        leftLock: transformation.getCursorLockLeft()\n      });\n      return appliedTransformation;\n    };\n\n    State.prototype.unapplyTransformation = function (appliedTransformation) {\n      var _this = this;\n\n      appliedTransformation.getOperations().slice().reverse().forEach(function (appliedOperation) {\n        var _a;\n\n        if (appliedOperation instanceof transformation_1.AppliedInsertOperation) {\n          _this.tokens.splice(appliedOperation.getAt(), appliedOperation.getTokens().length);\n        } else if (appliedOperation instanceof transformation_1.AppliedDeleteOperation) {\n          (_a = _this.tokens).splice.apply(_a, [appliedOperation.getAt(), 0].concat(appliedOperation.getTokens()));\n        } else {\n          throw new Error('Unknown applied transformation operation encountered.');\n        }\n      });\n      this.cursorService.setCursorState({\n        anchor: appliedTransformation.getOriginalCursorAnchor(),\n        head: appliedTransformation.getOriginalCursorHead(),\n        leftLock: appliedTransformation.getOriginalCursorLockLeft()\n      });\n    };\n\n    State.prototype.findTransformedRange = function (appliedTransformations) {\n      var beforeFrom = undefined;\n      var beforeTo = undefined;\n      var afterFrom = undefined;\n      var afterTo = undefined;\n      appliedTransformations.forEach(function (appliedTransformation) {\n        var transformedRange = appliedTransformation.getTransformedRange();\n\n        if (transformedRange) {\n          if (beforeFrom === undefined || transformedRange.beforeFrom < beforeFrom) {\n            beforeFrom = transformedRange.beforeFrom;\n          }\n\n          if (beforeTo === undefined || transformedRange.beforeTo > beforeTo) {\n            beforeTo = transformedRange.beforeTo;\n          }\n\n          if (afterFrom === undefined || transformedRange.afterFrom < afterFrom) {\n            afterFrom = transformedRange.afterFrom;\n          }\n\n          if (afterTo === undefined || transformedRange.afterTo < afterTo) {\n            afterTo = transformedRange.afterTo;\n          }\n        }\n      });\n\n      if (beforeFrom === undefined) {\n        return undefined;\n      }\n\n      return {\n        beforeFrom: beforeFrom,\n        beforeTo: beforeTo,\n        afterFrom: afterFrom,\n        afterTo: afterTo\n      };\n    };\n\n    State.prototype.assertInitialized = function () {\n      if (!this.tokens) {\n        throw new Error('State is not initialized.');\n      }\n    };\n\n    return State;\n  }();\n\n  exports.State = State;\n});","var __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\ndefine([\"require\", \"exports\", \"./token\"], function (require, exports, token_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  var TokenizerState;\n\n  (function (TokenizerState) {\n    TokenizerState[TokenizerState[\"NewToken\"] = 0] = \"NewToken\";\n    TokenizerState[TokenizerState[\"NewTag\"] = 1] = \"NewTag\";\n    TokenizerState[TokenizerState[\"Tag\"] = 2] = \"Tag\";\n    TokenizerState[TokenizerState[\"TagAttributes\"] = 3] = \"TagAttributes\";\n    TokenizerState[TokenizerState[\"TagAttributesString\"] = 4] = \"TagAttributesString\";\n    TokenizerState[TokenizerState[\"TagAttributesStringEscape\"] = 5] = \"TagAttributesStringEscape\";\n    TokenizerState[TokenizerState[\"CloseTag\"] = 6] = \"CloseTag\";\n  })(TokenizerState || (TokenizerState = {}));\n\n  var Tokenizer =\n  /** @class */\n  function () {\n    function Tokenizer() {\n      this.tokenizerState = TokenizerState.NewToken;\n      this.tagBuffer = '';\n      this.attributesBuffer = '';\n      this.ran = false;\n    }\n\n    Tokenizer.prototype.tokenize = function (markup) {\n      if (this.ran) {\n        throw new Error('Tokenizer has already been run.');\n      }\n\n      this.markup = markup;\n\n      this._tokenize();\n\n      this.ran = true;\n      return this.tokens;\n    };\n\n    Tokenizer.prototype._tokenize = function () {\n      this.tokens = [];\n      var markup = this.markup;\n      var char;\n\n      for (var n = 0, nn = markup.length; n < nn; n++) {\n        char = markup[n];\n\n        switch (this.tokenizerState) {\n          case TokenizerState.NewToken:\n            if (/</.test(char)) {\n              this.newTag(char);\n              break;\n            }\n\n            this.appendChar(char);\n            break;\n\n          case TokenizerState.NewTag:\n            if (/A-Z/.test(char)) {\n              this.appendCharToTag(char);\n              break;\n            }\n\n            if (/\\//.test(char)) {\n              this.closeTag(char);\n              break;\n            }\n\n          case TokenizerState.Tag:\n            if (/[A-Za-z]/.test(char)) {\n              this.appendCharToTag(char);\n              break;\n            }\n\n            if (/{/.test(char)) {\n              this.newAttributes(char);\n              break;\n            }\n\n          case TokenizerState.TagAttributes:\n            if (/\"/.test(char)) {\n              this.newAttributesString(char);\n              break;\n            }\n\n            if (/>/.test(char)) {\n              this.endTag(char);\n              break;\n            }\n\n            this.appendCharToAttributes(char);\n            break;\n\n          case TokenizerState.TagAttributesString:\n            if (/\"/.test(char)) {\n              this.endAttributesString(char);\n              break;\n            }\n\n            if (/\\\\/.test(char)) {\n              this.escapeNextAttributesStringChar(char);\n              break;\n            }\n\n            this.appendCharToAttributes(char);\n            break;\n\n          case TokenizerState.TagAttributesStringEscape:\n            this.appendCharToAttributes(char);\n            break;\n\n          case TokenizerState.CloseTag:\n            if (/>/.test(char)) {\n              this.endCloseTag(char);\n              break;\n            }\n\n          default:\n            throw new Error(\"Unexpected character \" + char + \" at offset \" + n + \".\");\n        }\n      }\n    };\n\n    Tokenizer.prototype.newTag = function (char) {\n      this.tokenizerState = TokenizerState.NewTag;\n    };\n\n    Tokenizer.prototype.appendChar = function (char) {\n      this.tokens.push(char);\n    };\n\n    Tokenizer.prototype.appendCharToTag = function (char) {\n      this.tagBuffer += char;\n      this.tokenizerState = TokenizerState.Tag;\n    };\n\n    Tokenizer.prototype.newAttributes = function (char) {\n      this.attributesBuffer += char;\n      this.tokenizerState = TokenizerState.TagAttributes;\n    };\n\n    Tokenizer.prototype.appendCharToAttributes = function (char) {\n      this.attributesBuffer += char;\n\n      if (this.tokenizerState === TokenizerState.TagAttributesStringEscape) {\n        this.tokenizerState = TokenizerState.TagAttributesString;\n      }\n    };\n\n    Tokenizer.prototype.newAttributesString = function (char) {\n      this.attributesBuffer += char;\n      this.tokenizerState = TokenizerState.TagAttributesString;\n    };\n\n    Tokenizer.prototype.endTag = function (char) {\n      var _a;\n\n      var id;\n      var attributes;\n\n      try {\n        _a = JSON.parse(this.attributesBuffer), (id = _a.id, _a), attributes = __rest(_a, [\"id\"]);\n      } catch (error) {\n        throw new Error(\"Invalid attributes JSON: \" + this.attributesBuffer + \".\");\n      }\n\n      if (!id) {\n        throw new Error(\"Missing id in attributes JSON: \" + this.attributesBuffer + \".\");\n      }\n\n      if (!this.tagBuffer) {\n        throw new Error('Open tag type cannot be empty.');\n      }\n\n      if (this.tagBuffer === 'Doc') {\n        id = 'doc';\n      }\n\n      var _b = this.tagBuffer.split('.', 1),\n          componentId = _b[0],\n          partId = _b[1];\n\n      if (!partId) {\n        partId = componentId;\n      }\n\n      this.tokens.push({\n        componentId: componentId,\n        partId: partId,\n        id: id,\n        attributes: attributes\n      });\n      this.attributesBuffer = '';\n      this.tagBuffer = '';\n      this.tokenizerState = TokenizerState.NewToken;\n    };\n\n    Tokenizer.prototype.endAttributesString = function (char) {\n      this.attributesBuffer += char;\n      this.tokenizerState = TokenizerState.TagAttributes;\n    };\n\n    Tokenizer.prototype.escapeNextAttributesStringChar = function (char) {\n      this.tokenizerState = TokenizerState.TagAttributesStringEscape;\n    };\n\n    Tokenizer.prototype.closeTag = function (char) {\n      this.tokenizerState = TokenizerState.CloseTag;\n    };\n\n    Tokenizer.prototype.endCloseTag = function (char) {\n      this.tokens.push(token_1.CLOSE_TOKEN);\n      this.tokenizerState = TokenizerState.NewToken;\n    };\n\n    return Tokenizer;\n  }();\n\n  exports.Tokenizer = Tokenizer;\n});","define([\"require\", \"exports\", \"./cursor\", \"./dom-controller\", \"./state\"], function (require, exports, cursor_1, dom_controller_1, state_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var ViewService =\n  /** @class */\n  function () {\n    function ViewService(instanceId, componentService, layoutService, cursorService, renderService, commandService) {\n      this.state = new state_1.ViewState(instanceId, componentService, layoutService);\n      this.domController = new dom_controller_1.DOMController(instanceId, commandService, this);\n      this.cursor = new cursor_1.CursorView(instanceId, cursorService, renderService, layoutService, this);\n    }\n\n    ViewService.prototype.onDidUpdateViewState = function (listener) {\n      this.state.onDidUpdateViewState(listener);\n    };\n\n    ViewService.prototype.onDidFocus = function (listener) {\n      this.domController.onDidFocus(listener);\n    };\n\n    ViewService.prototype.onDidBlur = function (listener) {\n      this.domController.onDidBlur(listener);\n    };\n\n    ViewService.prototype.onDidPressKey = function (listener) {\n      this.domController.onDidPressKey(listener);\n    };\n\n    ViewService.prototype.getDocNode = function () {\n      return this.state.getDocNode();\n    };\n\n    ViewService.prototype.isFocused = function () {\n      return this.domController.isFocused();\n    };\n\n    ViewService.prototype.attach = function (domContainer) {\n      this.state.attach(domContainer);\n      this.cursor.attach();\n      this.domController.attach();\n    };\n\n    ViewService.prototype.requestFocus = function () {\n      this.domController.requestFocus();\n    };\n\n    ViewService.prototype.requestBlur = function () {\n      this.domController.requestBlur();\n    };\n\n    return ViewService;\n  }();\n\n  exports.ViewService = ViewService;\n});","define([\"require\", \"exports\"], function (require, exports) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  var CURSOR_HUE = 213;\n\n  var CursorView =\n  /** @class */\n  function () {\n    function CursorView(instanceId, cursorService, renderService, layoutService, viewService) {\n      var _this = this;\n\n      this.instanceId = instanceId;\n      this.cursorService = cursorService;\n      this.renderService = renderService;\n      this.layoutService = layoutService;\n      this.viewService = viewService;\n      this.blinkInterval = null;\n      this.blinkState = true;\n      this.domSelections = [];\n      this.attached = false;\n\n      this.handleDidUpdateCursorState = function () {\n        _this.updateView();\n      };\n\n      this.handleDidUpdateViewState = function () {\n        _this.updateView();\n      };\n\n      this.handleDidFocus = function () {\n        _this.updateView();\n      };\n\n      this.handleDidBlur = function () {\n        _this.updateView();\n      };\n\n      this.domCaret = document.createElement('div');\n      this.domCaret.className = 'tw--cursor--caret';\n      this.domCaret.setAttribute('data-tw-instance', this.instanceId);\n      this.domCaret.style.position = 'absolute';\n      this.domCaret.style.userSelect = 'none';\n      this.domCaret.style.pointerEvents = 'none';\n      this.domCaret.style.width = '2px';\n      this.domCaret.style.marginLeft = '-1px';\n      cursorService.onDidUpdateCursor(this.handleDidUpdateCursorState);\n      viewService.onDidUpdateViewState(this.handleDidUpdateViewState);\n      viewService.onDidFocus(this.handleDidFocus);\n      viewService.onDidBlur(this.handleDidBlur);\n    }\n\n    CursorView.prototype.attach = function () {\n      if (this.attached) {\n        throw new Error('Already attached to the DOM.');\n      }\n\n      this.attached = true;\n      this.updateView();\n    };\n\n    CursorView.prototype.updateView = function () {\n      var _this = this;\n\n      if (!this.attached) {\n        return;\n      }\n\n      this.clearDOMSelections();\n      var cursorState = this.cursorService.getCursorState();\n      var anchor = this.boundCursorPosition(cursorState.anchor);\n      var head = this.boundCursorPosition(cursorState.head);\n      var from = Math.min(anchor, head);\n      var to = Math.max(anchor, head);\n      var pageRects = this.layoutService.resolvePageRects(from, to);\n      var pageViewNodes = this.viewService.getDocNode().getChildren();\n      var focused = this.viewService.isFocused();\n      var firstPageOffset = -1;\n      var firstLayoutRectOffset = -1;\n      var lastPageOffset = -1;\n      var lastLayoutRectOffset = -1;\n      pageRects.forEach(function (rects, pageOffset) {\n        var pageDOMContentContainer = pageViewNodes[pageOffset].getDOMContentContainer();\n        rects.forEach(function (rect, rectOffset) {\n          if (firstPageOffset < 0) {\n            firstPageOffset = pageOffset;\n            firstLayoutRectOffset = rectOffset;\n          }\n\n          lastPageOffset = pageOffset;\n          lastLayoutRectOffset = rectOffset;\n\n          if (rect.width === 0) {\n            return;\n          }\n\n          var domSelection = _this.buildDOMSelection(rect);\n\n          if (focused) {\n            domSelection.style.background = \"hsla(\" + CURSOR_HUE + \", 100%, 50%, 0.2)\";\n          } else {\n            domSelection.style.background = 'hsla(0, 0%, 0%, 0.08)';\n          }\n\n          pageDOMContentContainer.appendChild(domSelection);\n\n          _this.domSelections.push(domSelection);\n        });\n      });\n      var headPageOffset;\n      var headLeft;\n      var headTop;\n      var headHeight;\n\n      if (head < anchor) {\n        headPageOffset = firstPageOffset;\n        var rect = pageRects[firstPageOffset][firstLayoutRectOffset];\n        headLeft = rect.left;\n        headTop = rect.top;\n        headHeight = rect.height;\n      } else {\n        headPageOffset = lastPageOffset;\n        var rect = pageRects[lastPageOffset][lastLayoutRectOffset];\n        headLeft = rect.left + rect.width;\n        headTop = rect.top;\n        headHeight = rect.height;\n      }\n\n      if (head === anchor) {\n        this.domCaret.style.display = 'block';\n        this.domCaret.style.top = headTop + \"px\";\n        this.domCaret.style.left = headLeft + \"px\";\n        this.domCaret.style.height = headHeight + \"px\";\n\n        if (focused) {\n          this.domCaret.style.background = \"hsla(\" + CURSOR_HUE + \", 100%, 50%, 1)\";\n        } else {\n          this.domCaret.style.background = 'hsla(0, 0%, 0%, 0.5)';\n        }\n\n        var pageDOMContentContainer = pageViewNodes[headPageOffset].getDOMContentContainer();\n\n        if (this.domCaret.parentElement && this.domCaret.parentElement !== pageDOMContentContainer) {\n          this.domCaret.parentElement.removeChild(this.domCaret);\n        }\n\n        if (!this.domCaret.parentElement) {\n          pageDOMContentContainer.appendChild(this.domCaret);\n        }\n\n        this.blinkStop();\n\n        if (focused) {\n          this.blinkStart();\n        }\n      } else {\n        this.domCaret.style.display = 'none';\n        this.blinkStop();\n      }\n    };\n\n    CursorView.prototype.blinkStart = function () {\n      var _this = this;\n\n      if (this.blinkInterval !== null) {\n        return;\n      }\n\n      this.blinkState = true;\n      this.blinkInterval = window.setInterval(function () {\n        _this.blinkState = !_this.blinkState;\n\n        _this.updateDOMBlink();\n      }, 500);\n    };\n\n    CursorView.prototype.blinkStop = function () {\n      if (this.blinkInterval === null) {\n        return;\n      }\n\n      this.domCaret.style.visibility = 'visible';\n      clearInterval(this.blinkInterval);\n      this.blinkInterval = null;\n    };\n\n    CursorView.prototype.updateDOMBlink = function () {\n      if (this.blinkState) {\n        this.domCaret.style.visibility = 'visible';\n      } else {\n        this.domCaret.style.visibility = 'hidden';\n      }\n    };\n\n    CursorView.prototype.clearDOMSelections = function () {\n      this.domSelections.forEach(function (domSelection) {\n        if (domSelection.parentElement) {\n          domSelection.parentElement.removeChild(domSelection);\n        }\n      });\n      this.domSelections = [];\n    };\n\n    CursorView.prototype.buildDOMSelection = function (layoutRect) {\n      var domSelection = document.createElement('div');\n      domSelection.className = 'tw--cursor--selection';\n      domSelection.setAttribute('data-tw-instance', this.instanceId);\n      domSelection.style.position = 'absolute';\n      domSelection.style.top = layoutRect.top - layoutRect.paddingTop + \"px\";\n      domSelection.style.left = layoutRect.left + \"px\";\n      domSelection.style.width = layoutRect.paddingLeft + layoutRect.width + layoutRect.paddingRight + \"px\";\n      domSelection.style.height = layoutRect.paddingTop + layoutRect.height + layoutRect.paddingBottom + \"px\";\n      domSelection.style.userSelect = 'none';\n      domSelection.style.pointerEvents = 'none';\n      return domSelection;\n    };\n\n    CursorView.prototype.boundCursorPosition = function (offset) {\n      return Math.min(Math.max(offset, 0), this.renderService.getDocNode().getSize() - 1);\n    };\n\n    return CursorView;\n  }();\n\n  exports.CursorView = CursorView;\n});","define([\"require\", \"exports\", \"./clipboard-observer\", \"./focus-observer\", \"./keyboard-observer\", \"./pointer-observer\"], function (require, exports, clipboard_observer_1, focus_observer_1, keyboard_observer_1, pointer_observer_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var DOMController =\n  /** @class */\n  function () {\n    function DOMController(instanceId, commandService, viewService) {\n      var _this = this;\n\n      this.instanceId = instanceId;\n      this.commandService = commandService;\n      this.viewService = viewService;\n      this.focused = false;\n      this.composing = false;\n      this.mouseDown = false;\n\n      this.handleDidInsert = function (event) {\n        _this.commandService.executeCommand('tw.state.insert', event.tokens);\n      };\n\n      this.handleCompositionDidStart = function (event) {\n        _this.composing = true;\n      };\n\n      this.handleCompositionDidEnd = function (event) {\n        _this.composing = false;\n      };\n\n      this.handlePointerDidDown = function (event) {\n        if (event.inPage && !_this.focused) {\n          _this.commandService.executeCommand('tw.view.focus');\n        } else if (!event.inPage && _this.focused) {\n          _this.commandService.executeCommand('tw.view.blur');\n        }\n\n        if (event.inPage) {\n          _this.commandService.executeCommand('tw.cursor.move', event.offset);\n        }\n      };\n\n      this.handlePointerDidMove = function (event) {\n        if (event.pointerDown) {\n          _this.commandService.executeCommand('tw.cursor.moveHead', event.offset);\n        }\n      };\n\n      this.handleDidFocus = function (event) {\n        _this.focused = true;\n      };\n\n      this.handleDidBlur = function (event) {\n        _this.focused = false;\n      };\n\n      this.$iframe = this.createIframe();\n      this.$contentEditable = this.createContentEditable();\n      this.keyboardObserver = new keyboard_observer_1.KeyboardObserver(this.$contentEditable);\n      this.keyboardObserver.onDidInsert(this.handleDidInsert);\n      this.keyboardObserver.onCompositionDidStart(this.handleCompositionDidStart);\n      this.keyboardObserver.onCompositionDidEnd(this.handleCompositionDidEnd);\n      this.pointerObserver = new pointer_observer_1.PointerObserver(instanceId, viewService);\n      this.pointerObserver.onPointerDidDown(this.handlePointerDidDown);\n      this.pointerObserver.onPointerDidMove(this.handlePointerDidMove);\n      this.focusObserver = new focus_observer_1.FocusObserver(this.$contentEditable);\n      this.focusObserver.onDidFocus(this.handleDidFocus);\n      this.focusObserver.onDidBlur(this.handleDidBlur);\n      this.clipboardObserver = new clipboard_observer_1.ClipboardObserver(this.$contentEditable);\n    }\n\n    DOMController.prototype.onDidPressKey = function (listener) {\n      this.keyboardObserver.onDidPressKey(listener);\n    };\n\n    DOMController.prototype.onDidFocus = function (listener) {\n      this.focusObserver.onDidFocus(listener);\n    };\n\n    DOMController.prototype.onDidBlur = function (listener) {\n      this.focusObserver.onDidBlur(listener);\n    };\n\n    DOMController.prototype.attach = function () {\n      var _this = this;\n\n      document.body.appendChild(this.$iframe);\n      setTimeout(function () {\n        _this.$iframe.contentDocument.body.appendChild(_this.$contentEditable);\n      });\n    };\n\n    DOMController.prototype.requestFocus = function () {\n      this.$contentEditable.focus();\n    };\n\n    DOMController.prototype.requestBlur = function () {\n      this.$contentEditable.blur();\n    };\n\n    DOMController.prototype.isFocused = function () {\n      return this.focused;\n    };\n\n    DOMController.prototype.isComposing = function () {\n      return this.composing;\n    };\n\n    DOMController.prototype.createIframe = function () {\n      var $iframe = document.createElement('iframe');\n      $iframe.scrolling = 'no';\n      $iframe.src = 'about:blank';\n      $iframe.style.width = '0';\n      $iframe.style.height = '0';\n      $iframe.style.border = 'none';\n      $iframe.style.position = 'fixed';\n      $iframe.style.zIndex = '-1';\n      $iframe.style.opacity = '0';\n      $iframe.style.overflow = 'hidden';\n      $iframe.style.left = '0';\n      $iframe.style.top = '0';\n      return $iframe;\n    };\n\n    DOMController.prototype.createContentEditable = function () {\n      var $contentEditable = document.createElement('div');\n      $contentEditable.contentEditable = 'true';\n      $contentEditable.style.whiteSpace = 'pre';\n      return $contentEditable;\n    };\n\n    return DOMController;\n  }();\n\n  exports.DOMController = DOMController;\n});","define([\"require\", \"exports\", \"../event/emitter\"], function (require, exports, emitter_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var ClipboardObserver =\n  /** @class */\n  function () {\n    function ClipboardObserver($contentEditable) {\n      var _this = this;\n\n      this.$contentEditable = $contentEditable;\n      this.didCopyEventEmitter = new emitter_1.EventEmitter();\n      this.didPasteEventEmitter = new emitter_1.EventEmitter();\n\n      this.handleCopy = function (event) {\n        event.preventDefault();\n\n        _this.didCopyEventEmitter.emit({});\n      };\n\n      this.handlePaste = function (event) {\n        event.preventDefault();\n        var data = event.clipboardData;\n\n        if (!data) {\n          return;\n        }\n\n        _this.didCopyEventEmitter.emit({\n          data: data\n        });\n      };\n\n      $contentEditable.addEventListener('copy', this.handleCopy);\n      $contentEditable.addEventListener('paste', this.handlePaste);\n    }\n\n    ClipboardObserver.prototype.onDidCopy = function (listener) {\n      this.didCopyEventEmitter.on(listener);\n    };\n\n    ClipboardObserver.prototype.onDidPaste = function (listener) {\n      this.didPasteEventEmitter.on(listener);\n    };\n\n    return ClipboardObserver;\n  }();\n\n  exports.ClipboardObserver = ClipboardObserver;\n});","define([\"require\", \"exports\", \"../event/emitter\"], function (require, exports, emitter_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var FocusObserver =\n  /** @class */\n  function () {\n    function FocusObserver($contentEditable) {\n      var _this = this;\n\n      this.$contentEditable = $contentEditable;\n      this.didFocusEventEmitter = new emitter_1.EventEmitter();\n      this.didBlurEventEmitter = new emitter_1.EventEmitter();\n\n      this.handleFocus = function () {\n        _this.didFocusEventEmitter.emit({});\n      };\n\n      this.handleBlur = function () {\n        _this.didBlurEventEmitter.emit({});\n      };\n\n      $contentEditable.addEventListener('focus', this.handleFocus);\n      $contentEditable.addEventListener('blur', this.handleBlur);\n    }\n\n    FocusObserver.prototype.onDidFocus = function (listener) {\n      this.didFocusEventEmitter.on(listener);\n    };\n\n    FocusObserver.prototype.onDidBlur = function (listener) {\n      this.didBlurEventEmitter.on(listener);\n    };\n\n    return FocusObserver;\n  }();\n\n  exports.FocusObserver = FocusObserver;\n});","define([\"require\", \"exports\", \"../event/emitter\", \"../util/platform\"], function (require, exports, emitter_1, platform_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var KeyboardObserver =\n  /** @class */\n  function () {\n    function KeyboardObserver($contentEditable) {\n      var _this = this;\n\n      this.$contentEditable = $contentEditable;\n      this.composing = false;\n      this.didInsertEventEmitter = new emitter_1.EventEmitter();\n      this.didPressKeyEventEmitter = new emitter_1.EventEmitter();\n      this.compositionDidStartEventEmitter = new emitter_1.EventEmitter();\n      this.compositionDidEndEventEmitter = new emitter_1.EventEmitter();\n      this.keyInterpreter = new KeyInterpreter();\n\n      this.handleDidMutate = function () {\n        setTimeout(function () {\n          if (_this.composing) {\n            return;\n          }\n\n          var tokens = _this.parse();\n\n          _this.$contentEditable.innerHTML = '';\n\n          if (tokens.length === 0) {\n            return;\n          }\n\n          _this.didInsertEventEmitter.emit({\n            tokens: tokens\n          });\n        });\n      };\n\n      this.handleKeyDown = function (event) {\n        var key = _this.keyInterpreter.interpretFromKeyboardEvent(event);\n\n        if (!key) {\n          return;\n        }\n\n        if (key.includes('cmd+') || key.includes('win+') || key.includes('meta+') || key.includes('ctrl+') || key.includes('alt+')) {\n          event.preventDefault();\n        }\n\n        _this.didPressKeyEventEmitter.emit({\n          key: key\n        });\n      };\n\n      this.handleCompositionStart = function () {\n        _this.composing = true;\n      };\n\n      this.handleCompositionEnd = function () {\n        _this.composing = true;\n      };\n\n      this.mutationObserver = new MutationObserver(this.handleDidMutate);\n      $contentEditable.addEventListener('keydown', this.handleKeyDown);\n      $contentEditable.addEventListener('compositionstart', this.handleCompositionStart);\n      $contentEditable.addEventListener('compositionend', this.handleCompositionEnd);\n      this.mutationObserver.observe($contentEditable, {\n        subtree: true,\n        characterData: true,\n        childList: true\n      });\n    }\n\n    KeyboardObserver.prototype.onDidInsert = function (listener) {\n      this.didInsertEventEmitter.on(listener);\n    };\n\n    KeyboardObserver.prototype.onDidPressKey = function (listener) {\n      this.didPressKeyEventEmitter.on(listener);\n    };\n\n    KeyboardObserver.prototype.onCompositionDidStart = function (listener) {\n      this.compositionDidStartEventEmitter.on(listener);\n    };\n\n    KeyboardObserver.prototype.onCompositionDidEnd = function (listener) {\n      this.compositionDidEndEventEmitter.on(listener);\n    };\n\n    KeyboardObserver.prototype.parse = function () {\n      var _this = this;\n\n      var tokens = [];\n      this.$contentEditable.childNodes.forEach(function (child) {\n        tokens.push.apply(tokens, _this.parseNode(child));\n      });\n      return tokens;\n    };\n\n    KeyboardObserver.prototype.parseNode = function (node) {\n      var _this = this;\n\n      if (node.nodeValue) {\n        return node.nodeValue.split('');\n      }\n\n      var tokens = [];\n      node.childNodes.forEach(function (childNode) {\n        tokens.push.apply(tokens, _this.parseNode(childNode));\n      });\n      return tokens;\n    };\n\n    return KeyboardObserver;\n  }();\n\n  exports.KeyboardObserver = KeyboardObserver;\n\n  var KeyInterpreter =\n  /** @class */\n  function () {\n    function KeyInterpreter() {}\n\n    KeyInterpreter.prototype.interpretFromKeyboardEvent = function (event) {\n      var key;\n\n      switch (event.key) {\n        case 'Control':\n        case 'Shift':\n        case 'Alt':\n        case 'Meta':\n          return undefined;\n\n        case 'ArrowLeft':\n          key = 'left';\n          break;\n\n        case 'ArrowRight':\n          key = 'right';\n          break;\n\n        case 'ArrowUp':\n          key = 'up';\n          break;\n\n        case 'ArrowDown':\n          key = 'down';\n          break;\n\n        default:\n          key = event.key.toLowerCase();\n      }\n\n      if (event.metaKey) {\n        switch (platform_1.detectPlatform()) {\n          case 'macOS':\n            key = \"cmd+\" + key;\n            break;\n\n          case 'Windows':\n            key = \"win+\" + key;\n            break;\n\n          case 'Linux':\n          default:\n            key = \"meta+\" + key;\n        }\n      }\n\n      if (event.altKey) {\n        key = \"alt+\" + key;\n      }\n\n      if (event.shiftKey) {\n        key = \"shift+\" + key;\n      }\n\n      if (event.ctrlKey) {\n        key = \"ctrl+\" + key;\n      }\n\n      return key;\n    };\n\n    return KeyInterpreter;\n  }();\n});","define([\"require\", \"exports\", \"../event/emitter\"], function (require, exports, emitter_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var PointerObserver =\n  /** @class */\n  function () {\n    function PointerObserver(instanceId, viewService) {\n      var _this = this;\n\n      this.instanceId = instanceId;\n      this.viewService = viewService;\n      this.pointerDown = false;\n      this.pointerDidDownEventEmitter = new emitter_1.EventEmitter();\n      this.pointerDidMoveEventEmitter = new emitter_1.EventEmitter();\n      this.pointerDidUpEventEmitter = new emitter_1.EventEmitter();\n\n      this.handleMouseDown = function (event) {\n        var offset = _this.resolveCoordinates(event.clientX, event.clientY);\n\n        if (offset === null) {\n          return;\n        } // Bypass browser selection\n\n\n        event.preventDefault();\n        _this.pointerDown = true;\n\n        _this.pointerDidDownEventEmitter.emit({\n          inPage: _this.isDOMElementInPage(event.target),\n          offset: offset\n        });\n      };\n\n      this.handleMouseMove = function (event) {\n        var offset = _this.resolveCoordinates(event.clientX, event.clientY);\n\n        if (offset === null) {\n          return;\n        }\n\n        _this.pointerDidMoveEventEmitter.emit({\n          inPage: _this.isDOMElementInPage(event.target),\n          pointerDown: _this.pointerDown,\n          offset: offset\n        });\n      };\n\n      this.handleMouseUp = function () {\n        _this.pointerDown = false;\n\n        _this.pointerDidUpEventEmitter.emit({});\n      };\n\n      window.addEventListener('mousedown', this.handleMouseDown);\n      window.addEventListener('mousemove', this.handleMouseMove);\n      window.addEventListener('mouseup', this.handleMouseUp);\n    }\n\n    PointerObserver.prototype.onPointerDidDown = function (listener) {\n      this.pointerDidDownEventEmitter.on(listener);\n    };\n\n    PointerObserver.prototype.onPointerDidMove = function (listener) {\n      this.pointerDidMoveEventEmitter.on(listener);\n    };\n\n    PointerObserver.prototype.onPointerDidUp = function (listener) {\n      this.pointerDidUpEventEmitter.on(listener);\n    };\n\n    PointerObserver.prototype.resolveCoordinates = function (x, y) {\n      var pageViewNodes = this.viewService.getDocNode().getChildren();\n      var cumulatedOffset = 0;\n\n      for (var _i = 0, pageViewNodes_1 = pageViewNodes; _i < pageViewNodes_1.length; _i++) {\n        var pageViewNode = pageViewNodes_1[_i];\n        var pageLayoutNode = pageViewNode.getLayoutNode();\n        var pageDOMContainer = pageViewNode.getDOMContainer();\n        var pageBoundingClientRect = pageDOMContainer.getBoundingClientRect();\n\n        if (pageBoundingClientRect.left <= x && pageBoundingClientRect.right >= x && pageBoundingClientRect.top <= y && pageBoundingClientRect.bottom >= y) {\n          var pageX = x - pageBoundingClientRect.left;\n          var pageY = y - pageBoundingClientRect.top;\n          return cumulatedOffset + pageLayoutNode.convertCoordinatesToOffset(pageX, pageY);\n        }\n\n        cumulatedOffset += pageLayoutNode.getSize();\n      }\n\n      return null;\n    };\n\n    PointerObserver.prototype.isDOMElementInPage = function (domElement) {\n      var current = domElement;\n\n      while (current) {\n        var instanceId = current.getAttribute('data-tw-instance');\n        var componentId = current.getAttribute('data-tw-component');\n        var partId = current.getAttribute('data-tw-part');\n\n        if (instanceId === this.instanceId && componentId === 'page' && partId === 'page') {\n          return true;\n        }\n\n        current = current.parentElement;\n      }\n\n      return false;\n    };\n\n    return PointerObserver;\n  }();\n\n  exports.PointerObserver = PointerObserver;\n});","define([\"require\", \"exports\", \"../event/emitter\", \"./tree-builder\"], function (require, exports, emitter_1, tree_builder_1) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var ViewState =\n  /** @class */\n  function () {\n    function ViewState(instanceId, componentService, layoutService) {\n      var _this = this;\n\n      this.instanceId = instanceId;\n      this.componentService = componentService;\n      this.layoutService = layoutService;\n      this.attached = false;\n      this.didUpdateViewStateEventEmitter = new emitter_1.EventEmitter();\n\n      this.handleDidUpdateLayoutStateEvent = function (event) {\n        var treeBuilder = new tree_builder_1.ViewTreeBuilder(_this.instanceId, _this.componentService);\n        var updatedNode = treeBuilder.buildTree(event.node);\n\n        var node = _this.docNode.findDescendant(event.node.getId());\n\n        if (!node) {\n          throw new Error(\"Layout node \" + event.node.getId() + \" is not found.\");\n        }\n\n        node.onDidUpdate(updatedNode);\n\n        _this.didUpdateViewStateEventEmitter.emit({\n          node: node\n        });\n      };\n\n      var docLayoutNode = layoutService.getDocNode();\n      var treeBuilder = new tree_builder_1.ViewTreeBuilder(this.instanceId, componentService);\n      this.docNode = treeBuilder.buildTree(docLayoutNode);\n      layoutService.onDidUpdateLayoutState(this.handleDidUpdateLayoutStateEvent);\n    }\n\n    ViewState.prototype.onDidUpdateViewState = function (listener) {\n      this.didUpdateViewStateEventEmitter.on(listener);\n    };\n\n    ViewState.prototype.getDocNode = function () {\n      return this.docNode;\n    };\n\n    ViewState.prototype.attach = function (domContainer) {\n      if (this.attached) {\n        throw new Error('View is already attached to the DOM.');\n      }\n\n      this.docNode.attach(domContainer);\n      this.attached = true;\n    };\n\n    return ViewState;\n  }();\n\n  exports.ViewState = ViewState;\n});","define([\"require\", \"exports\"], function (require, exports) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var ViewTreeBuilder =\n  /** @class */\n  function () {\n    function ViewTreeBuilder(instanceId, componentService) {\n      this.instanceId = instanceId;\n      this.componentService = componentService;\n      this.ran = false;\n    }\n\n    ViewTreeBuilder.prototype.buildTree = function (layoutNode) {\n      if (this.ran) {\n        throw new Error('Tree builder has already been run.');\n      }\n\n      this.rootLayoutNode = layoutNode;\n\n      this._buildTree();\n\n      this.ran = true;\n      return this.rootViewNode;\n    };\n\n    ViewTreeBuilder.prototype._buildTree = function () {\n      this.rootViewNode = this.buildNode(this.rootLayoutNode);\n      this.ran = true;\n    };\n\n    ViewTreeBuilder.prototype.buildNode = function (layoutNode) {\n      var _this = this;\n\n      var component = this.componentService.getComponent(layoutNode.getComponentId());\n\n      if (!component) {\n        throw new Error(\"Component \" + layoutNode.getComponentId() + \" is not registered.\");\n      }\n\n      var viewNode = component.buildViewNode(layoutNode);\n\n      if (!viewNode) {\n        throw new Error(\"Could not build view node from layout node \" + layoutNode.getId() + \".\");\n      }\n\n      if (!viewNode.isLeaf() && !viewNode.isLeaf()) {\n        var childViewNodes = layoutNode.getChildren().map(function (childLayoutNode) {\n          return _this.buildNode(childLayoutNode);\n        });\n        childViewNodes.forEach(function (childViewNode) {\n          return viewNode.appendChild(childViewNode);\n        });\n      }\n\n      this.applyMetadataToDOMContainer(viewNode);\n      viewNode.onLayoutDidUpdate();\n      return viewNode;\n    };\n\n    ViewTreeBuilder.prototype.applyMetadataToDOMContainer = function (viewNode) {\n      var domContainer = viewNode.getDOMContainer();\n      var componentId = viewNode.getComponentId();\n      var partId = viewNode.getPartId();\n      var id = viewNode.getId();\n      domContainer.className = \"tw--\" + componentId + \"--\" + partId;\n      domContainer.setAttribute('data-tw-instance', this.instanceId);\n      domContainer.setAttribute('data-tw-component', componentId);\n      domContainer.setAttribute('data-tw-part', partId);\n      domContainer.setAttribute('data-tw-id', id);\n    };\n\n    return ViewTreeBuilder;\n  }();\n\n  exports.ViewTreeBuilder = ViewTreeBuilder;\n});","import { Taleweaver } from '@taleweaver/core';\nimport { ITextStyle } from '@taleweaver/core/dist/tw/component/components/text';\nimport React, { useEffect, useMemo, useState } from 'react';\nimport styled from 'styled-components';\n\nconst Wrapper = styled.div`\n    position: sticky;\n    top: 0;\n    padding: 3px 24px;\n    background: white;\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.09);\n    z-index: 10;\n`;\n\nconst Container = styled.div`\n    display: flex;\n    margin: 0 auto;\n    width: 816px;\n`;\n\nconst Group = styled.div`\n    flex: 0 0 auto;\n    display: flex;\n    border-radius: 4px;\n    padding: 0 6px;\n    position: relative;\n    &::before {\n        content: '';\n        position: absolute;\n        top: 9px;\n        bottom: 9px;\n        left: 0;\n        width: 1px;\n        background: rgba(0, 0, 0, 0.15);\n    }\n    &:last-child {\n        &::after {\n            content: '';\n            position: absolute;\n            top: 9px;\n            bottom: 9px;\n            right: 0;\n            width: 1px;\n            background: rgba(0, 0, 0, 0.15);\n        }\n    }\n`;\n\ninterface ItemProps {\n    disabled: boolean;\n    active: boolean;\n}\n\nconst Item = styled.button<ItemProps>`\n    flex: 0 0 auto;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 36px;\n    height: 36px;\n    font-size: 18px;\n    position: relative;\n    color: rgba(0, 0, 0, 0.85);\n    background: transparent;\n    padding: 0;\n    border: none;\n    border-radius: 3px;\n    outline: none;\n    &:after {\n        content: '';\n        position: absolute;\n        bottom: 0;\n        left: 3px;\n        right: 3px;\n        height: 3px;\n    }\n    &:hover,\n    &:focus {\n        background: rgba(0, 0, 0, 0.04);\n    }\n    ${({ disabled }) =>\n        disabled &&\n        `\n        opacity: 0.45;\n        &:hover,\n        &:focus {\n            background: transparent;\n        }\n    `}\n    ${({ active }) =>\n        active &&\n        `\n        color: rgba(255, 0, 0, 1);\n        &:after {\n            background: rgba(255, 0, 0, 1);\n        }\n    `}\n`;\n\ninterface SelectItemProps {\n    disabled: boolean;\n    width: number;\n}\n\nconst SelectItem = styled.select<SelectItemProps>`\n    -webkit-appearance: none;\n    border: none;\n    font-size: 12px;\n    font-weight: 500;\n    width: ${({ width }) => width}px;\n    background: white;\n    border-radius: 3px;\n    padding: 0 9px;\n    outline: none;\n    position: relative;\n    &:hover,\n    &:focus {\n        background: rgba(0, 0, 0, 0.04);\n    }\n    option {\n        color: rgba(0, 0, 0, 0.85);\n    }\n    ${({ disabled }) =>\n        disabled &&\n        `\n        opacity: 0.45;\n        &:hover,\n        &:focus {\n            background: transparent;\n        }\n    `}\n`;\n\ninterface ItemColorLineProps {\n    color: string;\n}\n\nconst ItemColorLine = styled.div<ItemColorLineProps>`\n    position: absolute;\n    bottom: 8px;\n    left: 9px;\n    right: 9px;\n    height: 3px;\n    background: ${({ color }) => color};\n`;\n\ninterface Props {\n    taleweaver: Taleweaver | null;\n}\n\nfunction getTextStyles(taleweaver: Taleweaver): ITextStyle[] {\n    const renderService = taleweaver.getServiceRegistry().getService('render');\n    const cursorService = taleweaver.getServiceRegistry().getService('cursor');\n    const cursorState = cursorService.getCursorState();\n    const styles = renderService.getStylesBetween(\n        Math.min(cursorState.anchor, cursorState.head),\n        Math.max(cursorState.anchor, cursorState.head),\n    );\n    if (!styles.text) {\n        return [];\n    }\n    if (!styles.text.text) {\n        return [];\n    }\n    return styles.text.text as ITextStyle[];\n}\n\nexport default function ToolBar({ taleweaver }: Props) {\n    const [textStyles, setTextStyles] = useState<ITextStyle[]>([]);\n    const updateTextStyle = useMemo(\n        () => (taleweaver: Taleweaver) => {\n            setTextStyles(getTextStyles(taleweaver));\n        },\n        [],\n    );\n    useEffect(() => {\n        if (!taleweaver) {\n            return;\n        }\n        const cursorService = taleweaver.getServiceRegistry().getService('cursor');\n        const renderService = taleweaver.getServiceRegistry().getService('render');\n        cursorService.onDidUpdateCursor(event => updateTextStyle(taleweaver));\n        renderService.onDidUpdateRenderState(event => updateTextStyle(taleweaver));\n        updateTextStyle(taleweaver);\n    }, [taleweaver]);\n    const font = new Set(textStyles.map(s => s.font)).size === 1 ? textStyles[0].font : null;\n    const size = new Set(textStyles.map(s => s.size)).size === 1 ? textStyles[0].size : null;\n    const bold = new Set(textStyles.map(s => s.weight > 400)).size === 1 ? textStyles[0].weight > 400 : false;\n    const italic = new Set(textStyles.map(s => s.italic)).size === 1 ? textStyles[0].italic : false;\n    const underline = new Set(textStyles.map(s => s.underline)).size === 1 ? textStyles[0].underline : false;\n    const strikethrough =\n        new Set(textStyles.map(s => s.strikethrough)).size === 1 ? textStyles[0].strikethrough : false;\n    const color = new Set(textStyles.map(s => s.color)).size === 1 ? textStyles[0].color : null;\n    return (\n        <Wrapper>\n            <Container>\n                <Group>\n                    <SelectItem width={120} value={'Normal'} disabled={false} onChange={event => null}>\n                        <option value=\"\" style={{ display: 'none' }}></option>\n                        <option value=\"Normal\">Normal text</option>\n                        <option value=\"Title\">Title</option>\n                        <option value=\"Subtitle\">Subtitle</option>\n                        <option value=\"Heading 1\">Heading 1</option>\n                        <option value=\"Heading 2\">Heading 2</option>\n                        <option value=\"Heading 3\">Heading 3</option>\n                    </SelectItem>\n                </Group>\n                <Group>\n                    <SelectItem width={120} value={font || ''} disabled={font === null} onChange={event => null}>\n                        <option value=\"\" style={{ display: 'none' }}></option>\n                        <option value=\"sans-serif\">sans-serif</option>\n                    </SelectItem>\n                </Group>\n                <Group>\n                    <SelectItem\n                        width={60}\n                        value={size ? size.toString() : ''}\n                        disabled={size === null}\n                        onChange={event => null}\n                    >\n                        <option value=\"\" style={{ display: 'hidden' }} />\n                        <option value=\"10\">10</option>\n                        <option value=\"12\">12</option>\n                        <option value=\"14\">14</option>\n                        <option value=\"16\">16</option>\n                        <option value=\"18\">18</option>\n                        <option value=\"24\">24</option>\n                        <option value=\"30\">30</option>\n                        <option value=\"36\">36</option>\n                        <option value=\"42\">42</option>\n                    </SelectItem>\n                </Group>\n                <Group>\n                    <Item active={bold} disabled={false} onClick={() => null}>\n                        <i className=\"mdi mdi-format-bold\" />\n                    </Item>\n                    <Item active={italic} disabled={false} onClick={() => null}>\n                        <i className=\"mdi mdi-format-italic\" />\n                    </Item>\n                    <Item active={underline} disabled={false} onClick={() => null}>\n                        <i className=\"mdi mdi-format-underline\" />\n                    </Item>\n                    <Item active={strikethrough} disabled={false} onClick={() => null}>\n                        <i className=\"mdi mdi-format-strikethrough-variant\" />\n                    </Item>\n                    <Item active={false} disabled={color === null} onClick={() => null}>\n                        <i className=\"mdi mdi-format-color-text\" style={{ position: 'relative', top: '-2px' }} />\n                        <ItemColorLine color={color || 'transparent'} />\n                    </Item>\n                </Group>\n            </Container>\n        </Wrapper>\n    );\n}\n","import { IConfig, Taleweaver } from '@taleweaver/core';\nimport React, { useEffect, useRef, useState } from 'react';\nimport styled from 'styled-components';\nimport ToolBar from './ToolBar';\n\nconst Wrapper = styled.div``;\n\nconst EditorWrapper = styled.div`\n    text-align: center;\n    .tw--doc--doc {\n        font-family: 'Source Sans Pro', sans-serif;\n        display: inline-block;\n        padding-bottom: 9px;\n        counter-reset: page-counter;\n    }\n    .tw--page--page {\n        background: rgba(255, 255, 255, 1);\n        margin: 9px auto 0;\n        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.15);\n        position: relative;\n        &::after {\n            counter-increment: page-counter;\n            content: 'Page ' counter(page-counter) '';\n            position: absolute;\n            top: 12px;\n            left: 50%;\n            transform: translateX(-50%);\n            font-size: 10px;\n            font-family: 'Quicksand', sans-serif;\n            font-weight: 500;\n            color: rgba(0, 0, 0, 0.45);\n            pointer-events: none;\n        }\n        *::selection {\n            background: rgba(255, 255, 255, 1);\n        }\n    }\n`;\n\ninterface IProps {\n    initialMarkup: string;\n    config?: IConfig['tw.core'];\n}\n\nexport default function Editor({ initialMarkup, config }: IProps) {\n    const domRef = useRef<HTMLDivElement>(null);\n    const [taleweaver, setTaleweaver] = useState<Taleweaver | null>(null);\n    useEffect(() => {\n        const mergedConfig: IConfig = {};\n        if (config) {\n            mergedConfig['tw.core'] = config;\n        }\n        setTaleweaver(new Taleweaver(initialMarkup, mergedConfig));\n    }, []);\n    useEffect(() => {\n        if (taleweaver && domRef.current) {\n            taleweaver.attach(domRef.current);\n        }\n    }, [taleweaver, domRef.current]);\n    return (\n        <Wrapper key={1}>\n            <ToolBar taleweaver={taleweaver} />\n            <EditorWrapper ref={domRef} />\n        </Wrapper>\n    );\n}\n","import Taleweaver from \"./Editor\";\n\nexport default Taleweaver;\n","export default `\n<doc {\"id\": \"doc\"}>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\", \"weight\": 700}>\n      Once upon a time there lived in a certain village a little country girl, the prettiest creature was ever seen. Her mother was excessively fond of her; and her grandmother doted on her still more. This good woman had made for her a little red riding-hood; which became the girl so extremely well that everybody called her Little Red Riding-Hood.\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\", \"italic\": true}>\n      One day her mother, having made some custards, said to her:\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\", \"color\": \"rgba(255, 0, 0, 1)\"}>\n      \"Go, my dear, and see how thy grandmamma does, for I hear she has been very ill; carry her a custard, and this little pot of butter.\"\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\", \"size\": 24}>\n      Little Red Riding-Hood set out immediately to go to her grandmother, who lived in another village.\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\", \"strikethrough\": true, \"underline\": true}>\n      As she was going through the wood, she met with Gaffer Wolf, who had a very great mind to eat her up, but he dared not, because of some faggot-makers hard by in the forest. He asked her whither she was going. The poor child, who did not know that it was dangerous to stay and hear a wolf talk, said to him:\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      \"I am going to see my grandmamma and carry her a custard and a little pot of butter from my mamma.\"\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      \"Does she live far off?\" said the Wolf.\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      \"Oh! ay,\" answered Little Red Riding-Hood; \"it is beyond that mill you see there, at the first house in the village.\"\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      \"Well,\" said the Wolf, \"and I'll go and see her too. I'll go this way and you go that, and we shall see who will be there soonest.\"\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      The Wolf began to run as fast as he could, taking the nearest way, and the little girl went by that farthest about, diverting herself in gathering nuts, running after butterflies, and making nosegays of such little flowers as she met with. The Wolf was not long before he got to the old woman's house. He knocked at the door--tap, tap.\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      \"Who's there?\"\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      \"Your grandchild, Little Red Riding-Hood,\" replied the Wolf, counterfeiting her voice; \"who has brought you a custard and a little pot of butter sent you by mamma.\"\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      The good grandmother, who was in bed, because she was somewhat ill, cried out\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      \"Pull the bobbin, and the latch will go up.\"\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      The Wolf pulled the bobbin, and the door opened, and then presently he fell upon the good woman and ate her up in a moment, for it was above three days that he had not touched a bit. He then shut the door and went into the grandmother's bed, expecting Little Red Riding- Hood, who came some time afterward and knocked at the door--tap, tap.\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      \"Who's there?\"\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      Little Red Riding-Hood, hearing the big voice of the Wolf, was at first afraid; but believing her grandmother had got a cold and was hoarse, answered:\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      \" 'Tis your grandchild, Little Red Riding-Hood, who has brought you a custard and a little pot of butter mamma sends you.\"\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      The Wolf cried out to her, softening his voice as much as he could:\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      \"Pull the bobbin, and the latch will go up.\"\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      Little Red Riding-Hood pulled the bobbin, and the door opened.\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      The Wolf, seeing her come in, said to her, hiding himself under the bed-clothes:\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      \"Put the custard and the little pot of butter upon the stool, and come and lie down with me.\"\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      Little Red Riding-Hood undressed herself and went into bed, where, being greatly amazed to see how her grandmother looked in her night-clothes, she said to her:\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      \"Grandmamma, what great arms you have got!\"\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      \"That is the better to hug thee, my dear.\"\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      \"Grandmamma, what great legs you have got!\"\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      \"That is to run the better, my child.\"\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      \"Grandmamma, what great ears you have got!\"\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      \"That is to hear the better, my child.\"\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      \"Grandmamma, what great eyes you have got!\"\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      \"It is to see the better, my child.\"\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      \"Grandmamma, what great teeth you have got!\"\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      \"That is to eat thee up.\"\n    </>\n  </>\n  <paragraph {\"id\": \"{{id}}\"}>\n    <text {\"id\": \"{{id}}\"}>\n      And, saying these words, this wicked wolf fell upon Little Red Riding-Hood, and ate her all up.\n    </>\n  </>\n</>\n`\n    .split('\\n')\n    .map(line => line.trim())\n    .join('')\n    .replace(\n        /{{id}}/g,\n        () =>\n            `${Math.random()\n                .toString(36)\n                .substring(2)}`,\n    );\n","import React from 'react';\nimport styled from 'styled-components';\nimport './App.css';\nimport Taleweaver from './Editor';\nimport sampleMarkup from './samples/littleRedRidingHood';\n\nconst Wrapper = styled.div``;\n\nconst Hero = styled.div`\n    text-align: center;\n    padding: 90px 60px 30px;\n`;\n\nconst BrandWrapper = styled.div``;\n\nconst Brand = styled.span`\n    color: rgba(0, 0, 0, 0.65);\n    font-size: 42px;\n    letter-spacing: 0.02em;\n    padding-bottom: 10px;\n    border-bottom: 2px solid rgba(0, 0, 0, 0.65);\n`;\n\nconst Tagline = styled.h1`\n    font-size: 30px;\n    font-weight: 500;\n    color: rgba(0, 0, 0, 0.85);\n    margin: 90px 0 0;\n`;\n\nconst SupportingTagline = styled.h2`\n    font-size: 20px;\n    font-weight: 400;\n    color: rgba(0, 0, 0, 0.85);\n    margin: 30px 0 0;\n`;\n\nconst Links = styled.div`\n    margin-top: 90px;\n`;\n\nconst Link = styled.a`\n    display: inline-block;\n    padding: 15px 60px;\n    outline: none;\n    color: rgba(0, 0, 0, 0.85);\n    text-decoration: none;\n    font-size: 20px;\n    background: transparent;\n    border-radius: 3px;\n    border: 1px solid rgba(0, 0, 0, 0.15);\n    &:hover {\n        color: rgba(0, 0, 0, 1);\n        background: rgba(0, 0, 0, 0.04);\n        border-color: rgba(0, 0, 0, 0.25);\n    }\n`;\n\nconst DemoHintWrapper = styled.div`\n    text-align: center;\n    margin-top: 90px;\n`;\n\nconst DemoHint = styled.span`\n    text-transform: uppercase;\n    font-weight: 500;\n    font-size: 14px;\n    color: rgba(0, 0, 0, 0.65);\n    border-top: 1px solid rgba(0, 0, 0, 0.45);\n    padding-top: 10px;\n    cursor: default;\n`;\n\nclass App extends React.Component {\n    render() {\n        return (\n            <Wrapper>\n                <Hero>\n                    <BrandWrapper>\n                        <Brand>Taleweaver</Brand>\n                    </BrandWrapper>\n                    <Tagline>Word processing in your browser.</Tagline>\n                    <SupportingTagline>\n                        Open source editor delivering true word processing experience.\n                    </SupportingTagline>\n                    <Links>\n                        <Link href=\"https://github.com/yuzhenmi/taleweaver\">GitHub</Link>\n                    </Links>\n                    <DemoHintWrapper>\n                        <DemoHint>&darr; Check it out &darr;</DemoHint>\n                    </DemoHintWrapper>\n                </Hero>\n                <Taleweaver\n                    initialMarkup={sampleMarkup}\n                    config={{\n                        page: {\n                            width: 816,\n                            height: 1056,\n                            paddingTop: 60,\n                            paddingBottom: 60,\n                            paddingLeft: 60,\n                            paddingRight: 60,\n                        },\n                    }}\n                />\n            </Wrapper>\n        );\n    }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}