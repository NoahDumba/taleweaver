{"version":3,"sources":["../../../packages/core/dist/tw/util/id.js","../../../packages/core/dist/tw/command/handlers/clipboard.js","../../../packages/core/dist/tw/util/dom.js","../../../packages/core/dist/tw/transform/transformation.js","../../../packages/core/dist/tw/command/handlers/cursor.js","../../../packages/core/dist/tw/command/handlers/history.js","../../../packages/core/dist/tw/model/change/change.js","../../../packages/core/dist/tw/model/change/mutator.js","../../../packages/core/dist/tw/model/change/inserter.js","../../../packages/core/dist/tw/model/change/mapping.js","../../../packages/core/dist/tw/model/fragment.js","../../../packages/core/dist/tw/model/change/remover.js","../../../packages/core/dist/tw/model/change/replace.js","../../../packages/core/dist/tw/command/handlers/state.js","../../../packages/core/dist/tw/command/handlers/view.js","../../../packages/core/dist/tw/event/emitter.js","../../../packages/core/dist/tw/command/registry.js","../../../packages/core/dist/tw/command/service.js","../../../packages/core/dist/tw/tree/node-list.js","../../../packages/core/dist/tw/tree/node.js","../../../packages/core/dist/tw/tree/position.js","../../../packages/core/dist/tw/model/node.js","../../../packages/core/dist/tw/model/root.js","../../../packages/core/dist/tw/render/node.js","../../../packages/core/dist/tw/render/doc.js","../../../packages/core/dist/tw/view/node.js","../../../packages/core/dist/tw/view/doc.js","../../../packages/core/dist/tw/component/component.js","../../../packages/core/dist/tw/component/components/doc.js","../../../packages/core/dist/tw/model/branch.js","../../../packages/core/dist/tw/render/block.js","../../../packages/core/dist/tw/render/text.js","../../../packages/core/dist/tw/text/service.js","../../../packages/core/dist/tw/view/block.js","../../../packages/core/dist/tw/view/text.js","../../../packages/core/dist/tw/component/components/paragraph.js","../../../packages/core/dist/tw/model/leaf.js","../../../packages/core/dist/tw/component/components/text.js","../../../packages/core/dist/tw/view/line.js","../../../packages/core/dist/tw/component/line-component.js","../../../packages/core/dist/tw/component/components/line.js","../../../packages/core/dist/tw/view/page.js","../../../packages/core/dist/tw/component/page-component.js","../../../packages/core/dist/tw/component/components/page.js","../../../packages/core/dist/tw/component/registry.js","../../../packages/core/dist/tw/component/service.js","../../../packages/core/dist/tw/config/service.js","../../../packages/core/dist/tw/cursor/state.js","../../../packages/core/dist/tw/cursor/service.js","../../../packages/core/dist/tw/dom/service.js","../../../packages/core/dist/tw/history/action.js","../../../packages/core/dist/tw/history/state.js","../../../packages/core/dist/tw/history/service.js","../../../packages/core/dist/tw/util/platform.js","../../../packages/core/dist/tw/key-binding/service.js","../../../packages/core/dist/tw/layout/node.js","../../../packages/core/dist/tw/layout/atom.js","../../../packages/core/dist/tw/layout/block.js","../../../packages/core/dist/tw/layout/doc.js","../../../packages/core/dist/tw/layout/line.js","../../../packages/core/dist/tw/layout/page.js","../../../packages/core/dist/tw/layout/text.js","../../../packages/core/dist/tw/layout/word.js","../../../packages/core/dist/tw/layout/engine.js","../../../packages/core/dist/tw/layout/state.js","../../../packages/core/dist/tw/layout/service.js","../../../packages/core/dist/tw/model/state.js","../../../packages/core/dist/tw/model/service.js","../../../packages/core/dist/tw/render/state.js","../../../packages/core/dist/tw/render/service.js","../../../packages/core/dist/tw/service/registry.js","../../../packages/core/dist/tw/transform/service.js","../../../packages/core/dist/tw/view/cursor.js","../../../packages/core/dist/tw/view/clipboard-observer.js","../../../packages/core/dist/tw/view/focus-observer.js","../../../packages/core/dist/tw/view/keyboard-observer.js","../../../packages/core/dist/tw/view/pointer-observer.js","../../../packages/core/dist/tw/view/dom-controller.js","../../../packages/core/dist/tw/view/state.js","../../../packages/core/dist/tw/view/service.js","../../../packages/core/dist/tw/taleweaver.js","Editor/ToolBar.tsx","Editor/Editor.tsx","Editor/index.ts","../../../packages/core/dist/tw/util/serialize.js","samples/littleRedRidingHood.ts","App.tsx","serviceWorker.ts","index.tsx"],"names":["Buffer","__webpack_require__","d","__webpack_exports__","generateId","crypto__WEBPACK_IMPORTED_MODULE_0__","crypto__WEBPACK_IMPORTED_MODULE_0___default","n","bytes16","Uint8Array","from","String","fromCharCode","apply","Array","a","randomFillSync","toString","iframe","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","__generator","body","f","y","t","g","_","label","sent","trys","ops","verb","throw","return","Symbol","iterator","this","v","op","TypeError","call","pop","length","push","window","document","createElement","scrolling","src","style","width","height","border","position","zIndex","opacity","overflow","left","top","createHiddenIframe","appendChild","copy","serviceRegistry","cursorService","renderService","modelService","_a","anchor","head","html","iframeDocument","_b","getService","hasCursor","getCursor","toDOM","convertOffsetToModelOffset","Math","min","max","outerHTML","contentDocument","innerHTML","execCommand","paste","__spreadArrays","s","i","il","arguments","r","k","j","jl","Transformation","changes","modelCursorHead","modelCursorAnchor","keepLeftLock","prototype","layoutService","originalCursorModelAnchor","undefined","originalCursorModelHead","changeResults","applyChanges","cursorAnchor","cursorHead","convertModelOffsetToOffset","boundModelOffset","boundOffset","setCursor","_c","resolvePosition","atLineDepth","line","node","lineOffset","offset","setLeftLock","resolveBoundingBoxes","boundingBoxes","reverseChanges","reverseMappings","changeResult","reduce","reverseChange","reverseMapping","map","mapping","reverse","TransformationResult","mappings","_loop_1","change","shift","applyChange","c","getRootSize","getDocSize","transformation","reverseTransformation","cursor_awaiter","cursor_generator","atPreviousLine","leftLock","previousLine","previousCrossParentSibling","size","convertCoordinatesToOffset","atNextLine","nextLine","nextCrossParentSibling","atPreviousWord","atReverseDepth","word","wordOffset","previousWord","atNextWord","whitespaceSize","nextWord","atLineStart","atLineEnd","cursor_move","transformService","modelOffset","applyTransformation","cursor_moveBackward","newModelOffset","newOffset","cursor_moveForward","cursor_moveBackwardByLine","cursor_moveForwardByLine","cursor_moveBackwardByWord","cursor_moveForwardByWord","cursor_moveToLineStart","cursor_moveToLineEnd","cursor_moveToDocStart","cursor_moveToDocEnd","cursor_moveHead","modelAnchor","newModelHead","cursor_moveHeadBackward","cursor_moveHeadForward","cursor_moveHeadBackwardByLine","newHead","cursor_moveHeadForwardByLine","cursor_moveHeadBackwardByWord","cursor_moveHeadForwardByWord","cursor_moveHeadToLineStart","cursor_moveHeadToLineEnd","cursor_moveHeadToDocStart","cursor_moveHeadToDocEnd","cursor_selectAll","newModelAnchor","cursor_selectWord","newAnchor","cursor_selectBlock","block","blockOffset","atBlockDepth","history_awaiter","history_generator","undo","redo","ModelChange","mutator_spreadArrays","Mutator","ran","inProgress","run","Error","joinNodes","node1","node2","leaf","replace","text","children","slice","parent","filter","child","__extends","_extendStatics","b","Object","setPrototypeOf","__proto__","p","hasOwnProperty","__","constructor","create","inserter_Inserter","_super","Inserter","root","fragments","componentService","_this","internalInsertedSize","depth","current","index","defineProperty","get","enumerable","configurable","state","handleText","handleSplit","handleLeave","handleNode","handleEnd","currentFragment","content","insertedSize","splitNode","joinNodeWithNextSibling","joinNodeWithPreviousSibling","component","getComponent","componentId","buildModelNode","partId","id","substring","attributes","util_id","atDepth","indexOf","nextSibling","canJoin","previousSibling","Mapping","oldSize","newSize","mapRender","Fragment","isArray","contentType","remover_extends","remover_Remover","Remover","to","removedFragments","nodeFrom","nodeTo","updateCurrentNode","handleFullNode","handlePartialNode","handleForward","handleEnter","stepUp","removeFrom","nodesToRemove","removeToOffset","at","removeTo","recordRemovedNodes","stepDown","removedText","recordRemovedText","stepForward","parentNode","nodeOffset","childNode","nextNode","nodes","getOffsetToRoot","childNodeToJoin","firstChild","getOffsetToParent","replace_extends","replace_ReplaceChange","ReplaceChange","validateInput","validateFit","remover","inserter","ascending","descending","nn","fragment","fromPosition","state_awaiter","state_generator","state_insert","modelFrom","modelTo","state_deleteBackward","state_deleteForward","state_breakLine","view_awaiter","view_generator","view_focus","requestFocus","view_blur","requestBlur","EventEmitter","listeners","on","listener","dispose","splice","emit","event","forEach","CommandRegistry","commandsMap","Map","registerCommand","commandId","commandHandler","set","getCommandHandler","service_awaiter","service_generator","service_spreadArrays","service_CommandService","CommandService","configService","willExecuteCommandEventEmitter","didExecuteCommandEventEmitter","registry","_i","entries","getConfig","commands","onWillExecuteCommand","onDidExecuteCommand","executeCommand","args","NodeList","findIndex","callbackFn","initialValue","callbackfn","start","end","find","node_Node","Node","internalChildren","siblings","ownIndex","parentPreviousSibling","lastChild","parentNextSibling","findDescendant","Position","depths","reverseDepth","node_extends","node_spreadArrays","node_ModelNode","ModelNode","internalNeedRender","childDidUpdateDisposableMap","didUpdateEventEmitter","handleChildDidUpdate","internalText","onDidUpdate","internalSize","clearNeedRender","replacedContent","ModelPosition","cumulatedOffset","childSize","childPosition","m","root_extends","ModelRoot","render_node_extends","node_RenderNode","RenderNode","modelId","internalNeedLayout","pseudo","internalChildrenModelSize","modelSize","clearNeedLayout","RenderPosition","cumulatedSize","cumulatedModelSize","childModelSize","doc_extends","RenderDoc","view_node_extends","node_ViewNode","ViewNode","domContainer","renderId","layoutId","domService","view_doc_extends","ViewDoc","attached","component_Component","components_doc_extends","ModelDoc","$element","childFrom","childTo","$childElement","doc_RenderDoc","paddingTop","paddingBottom","paddingLeft","paddingRight","doc_ViewDoc","textAlign","cursor","userSelect","domContentContainer","setAttribute","DocComponent","buildRenderNode","pageConfig","page","buildViewNode","branch_extends","ModelBranch","block_extends","RenderBlock","text_extends","RenderText","DEFAULT_FONT","weight","family","letterSpacing","underline","italic","strikethrough","color","BREAKABLE_CHARS","TextService","$canvas","measure","font","fontWithDefault","applyDefaultFont","ctx","getContext","fixFontFamily","measurement","measureText","breakIntoWords","words","char","includes","fontConfigWithDefault","key","fontFamily","view_block_extends","ViewBlock","view_text_extends","ViewText","paragraph_extends","paragraph_spreadArrays","ModelParagraph","RenderParagraph","paragraph_RenderParagraphLineBreak","RenderParagraphLineBreak","paragraphModelId","type","ViewParagraph","lineHeight","ViewParagraphLineBreak","ParagraphComponent","leaf_extends","ModelLeaf","components_text_extends","ModelText","JSON","stringify","$component","innerText","text_RenderText","textService","text_ViewText","display","whiteSpace","fontSize","fontWeight","textDecoration","fontStyle","findOrCreateDOMContentContainer","getAttribute","TextComponent","line_extends","ViewLine","LineComponent","components_line_extends","line_ViewLine","line_LineComponent","page_extends","ViewPage","PageComponent","components_page_extends","page_ViewPage","marginLeft","marginRight","page_PageComponent","ComponentRegistry","componentsMap","registerComponent","registerPageComponent","pageComponent","registerLineComponent","lineComponent","getPageComponent","getLineComponent","service_ComponentService","ComponentService","components","Component","ConfigService","config","externalConfig","applyExternalConfig","coreConfig","__assign","assign","state_CursorState","CursorState","internalCursor","disable","assertCursor","service_CursorService","CursorService","DOMService","getWindow","getDocument","getBody","tagName","createContainer","container","createMutationObserver","callback","MutationObserver","HistoryAction","internalTransformationResults","beganAt","Date","now","internalEndedAt","recordTransformationResult","transformationResult","transformationResults","state_HistoryState","HistoryState","actions","handleDidApplyTransformation","some","tnResult","recordToNewAction","currentItem","maxCollapseDuration","endedAt","collapseThreshold","recordToLastAction","history","onDidApplyTransformation","action","consumeNextUndoableAction","results","consumeNextRedoableAction","service_HistoryService","HistoryService","detectPlatform","navigator","platform","startsWith","key_binding_service_spreadArrays","service_KeyBindingService","KeyBindingService","commandService","viewService","keyBindings","handleDidPressKey","keyBinding","preventDefault","originalKeyboardEvent","command","keyBindingsConfig","bindKeys","common","macos","windows","linux","onDidPressKey","binding","layout_node_extends","node_LayoutNode","LayoutNode","internalNeedView","paddingHorizontal","paddingVertical","clearNeedView","LayoutPosition","atom_extends","LayoutAtom","x","innerWidth","innerHeight","right","bottom","layout_block_extends","LayoutBlock","internalHeight","cumulatedHeight","childHeight","childResults","childFrom_1","childTo_1","childResult","boundingBox","layout_doc_extends","LayoutDoc","layout_line_extends","LayoutLine","internalContentWidth","contentWidth","cumulatedWidth","childWidth","lastWord","left1","left2","box","layout_page_extends","LayoutPage","internalContentHeight","contentHeight","contentX","contentY","layout_text_extends","LayoutText","internalWidth","internalTrimmedWidth","trimmedWidth","word_extends","LayoutWord","trimmedText","lastWidth","width_1","breakAt","engine_LayoutEngine","LayoutEngine","updateDoc","doc","renderDoc","needLayout","pages","childrenMap","newChildren","updateBlock","buildDoc","reflowPages","blocks","renderBlock","lines","blocks_1","renderChild","updateText","updateAtom","buildBlock","reflowLines","texts","renderText","buildWord","buildText","atoms","renderAtom","buildAtom","newPages","reflowNeeded","currentHeight","nodeChildren","mm","nodeChild","unshift","newPage","newLines","currentWidth","newNodeChildren","brokenNodeChild1","brokenNodeChild2","newLine","state_LayoutState","LayoutState","didUpdateLayoutStateEventEmitter","engine","internalDoc","getDoc","onDidUpdateRenderState","handleDidUpdateRenderStateEvent","onDidUpdateLayoutState","update","service_LayoutService","LayoutService","state_ModelState","ModelState","service_ModelService","ModelService","getRoot","fromDOM","domNodes","onDidUpdateModelState","state_RenderState","RenderState","didUpdateRenderStateEventEmitter","modelRoot","updateNode","handleDidUpdateModelState","modelNode","needRender","modelChild","buildNode","service_RenderService","RenderService","getStylesBetween","styles","extractStyle","componentStyles","ServiceRegistry","services","registerService","service","service_TransformService","TransformService","didApplyTransformationEventEmitter","tn","CursorView","instanceId","blinkInterval","blinkState","domSelections","cursorConfig","caretColor","caretInactiveColor","selectionColor","selectionInactiveColor","domCaret","className","pointerEvents","onDidFocus","handleDidFocus","onDidBlur","handleDidBlur","attach","updateView","clearDOMSelections","headPageId","headLeft","headTop","headHeight","rect","docBoxResult","viewDoc","layoutDoc","focused","isFocused","firstPageId","firstBoxOffset","lastPageId","lastBoxOffset","pageBoxResult","pageOffset","boxOffset","domSelection","buildDOMSelection","background","pageDOMContentContainer","parentElement","removeChild","blinkStop","blinkStart","setInterval","updateDOMBlink","visibility","clearInterval","clipboard_observer_ClipboardObserver","ClipboardObserver","$contentEditable","didCopyEventEmitter","didPasteEventEmitter","handleCopy","handlePaste","data","clipboardData","addEventListener","onDidCopy","onDidPaste","focus_observer_FocusObserver","FocusObserver","didFocusEventEmitter","didBlurEventEmitter","handleFocus","handleBlur","keyboard_observer_KeyboardObserver","KeyboardObserver","composing","didInsertEventEmitter","didPressKeyEventEmitter","compositionDidStartEventEmitter","compositionDidEndEventEmitter","keyInterpreter","keyboard_observer_KeyInterpreter","handleDidMutate","setTimeout","handleKeyDown","interpretFromKeyboardEvent","handleCompositionStart","handleCompositionEnd","mutationObserver","observe","subtree","characterData","childList","onDidInsert","onCompositionDidStart","onCompositionDidEnd","KeyInterpreter","toLowerCase","metaKey","altKey","shiftKey","ctrlKey","pointer_observer_PointerObserver","PointerObserver","clickThreshold","consecutiveClickThreshold","lastPointerDown","lastClick","consecutiveClickCount","pointerDidDownEventEmitter","pointerDidMoveEventEmitter","pointerDidUpEventEmitter","pointerDidClickEventEmitter","handleMouseDown","resolveOffset","clientX","clientY","timestamp","consecutive","handleMouseMove","pointerDown","handleMouseUp","clicked","consecutiveCount","onPointerDidDown","onPointerDidMove","onPointerDidUp","onPointerDidClick","viewPage","layoutPage","pageBoundingClientRect","getBoundingClientRect","pageX","pageY","dom_controller_DOMController","DOMController","mouseDown","handleDidInsert","handleCompositionDidStart","handleCompositionDidEnd","handlePointerDidDown","handlePointerDidMove","handlePointerDidClick","getData","$container","$body","querySelector","modelNodes","console","log","createContentEditable","keyboardObserver","pointerObserver","focusObserver","clipboardObserver","focus","blur","isComposing","contentEditable","state_ViewState","ViewState","didUpdateViewStateEventEmitter","handleDidUpdateLayoutStateEvent","onDidUpdateViewState","reattachDoc","layoutNode","renderNode","needView","renderChildrenMap","layoutChild","buildPageNode","buildLineNode","join","applyMetadataToDOMContainer","viewNode","service_ViewService","ViewService","domController","taleweaver_Taleweaver","Taleweaver","buildBaseConfig","historyService","keyBindingService","setContent","getServiceRegistry","tw.clipboard.copy","tw.clipboard.paste","tw.cursor.move","tw.cursor.moveBackwardByLine","tw.cursor.moveForwardByLine","tw.cursor.moveBackward","tw.cursor.moveForward","tw.cursor.moveBackwardByWord","tw.cursor.moveForwardByWord","tw.cursor.moveToLineStart","tw.cursor.moveToLineEnd","tw.cursor.moveToDocStart","tw.cursor.moveToDocEnd","tw.cursor.moveHead","tw.cursor.moveHeadBackwardByLine","tw.cursor.moveHeadForwardByLine","tw.cursor.moveHeadBackward","tw.cursor.moveHeadForward","tw.cursor.moveHeadBackwardByWord","tw.cursor.moveHeadForwardByWord","tw.cursor.moveHeadToLineStart","tw.cursor.moveHeadToLineEnd","tw.cursor.moveHeadToDocStart","tw.cursor.moveHeadToDocEnd","tw.cursor.selectAll","tw.cursor.selectWord","tw.cursor.selectBlock","tw.history.undo","tw.history.redo","tw.state.insert","tw.state.deleteBackward","tw.state.deleteForward","tw.state.breakLine","tw.view.focus","tw.view.blur","paragraph","up","down","shift+left","shift+right","shift+up","shift+down","backspace","delete","enter","alt+left","alt+right","shift+alt+left","shift+alt+right","cmd+left","cmd+right","cmd+up","cmd+down","shift+cmd+left","shift+cmd+right","shift+cmd+up","shift+cmd+down","cmd+a","cmd+z","shift+cmd+z","ctrl+left","ctrl+right","ctrl+shift+left","ctrl+shift+right","home","ctrl+home","ctrl+end","shift+home","shift+end","ctrl+shift+home","ctrl+shift+end","ctrl+a","ctrl+z","ctrl+shift+z","Wrapper","styled","div","_templateObject","Container","_templateObject2","Group","_templateObject3","Item","button","_templateObject4","_ref","disabled","_ref2","active","SelectItem","select","_templateObject5","_ref3","_ref4","ItemColorLine","_templateObject6","_ref5","getTextStyles","taleweaver","_cursorService$getCur","getTextStylesByRange","ToolBar","_ref6","_useState","useState","_useState2","slicedToArray","textStyles","setTextStyles","updateTextStyle","useMemo","useEffect","Set","bold","react_default","onChange","onClick","Editor_templateObject","EditorWrapper","Editor_templateObject2","initialDoc","domRef","useRef","setTaleweaver","mergedConfig","parse","Editor_Wrapper","ref","App_templateObject","Hero","App_templateObject2","BrandWrapper","App_templateObject3","Brand","span","App_templateObject4","Tagline","h1","App_templateObject5","SupportingTagline","h2","App_templateObject6","Links","_templateObject7","Link","_templateObject8","DemoHintWrapper","_templateObject9","DemoHint","_templateObject10","App","App_Wrapper","href","src_Editor","sample","React","Boolean","location","hostname","match","ReactDOM","render","src_App_0","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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GAC9C9P,SAAU,MAItB,CACI6C,YAAa,YACbE,OAAQ,YACRC,GAAItR,eACJqO,KAAM,GACNmD,WAAY,GACZlD,SAAU,CACN,CACI6C,YAAa,OACbE,OAAQ,OACRC,GAAItR,eACJqO,KACI,sGACJmD,WAAY,GACZlD,SAAU,MAItB,CACI6C,YAAa,YACbE,OAAQ,YACRC,GAAItR,eACJqO,KAAM,GACNmD,WAAY,GACZlD,SAAU,CACN,CACI6C,YAAa,OACbE,OAAQ,OACRC,GAAItR,eACJqO,KAAM,0CACNmD,WAAY,GACZlD,SAAU,MAItB,CACI6C,YAAa,YACbE,OAAQ,YACRC,GAAItR,eACJqO,KAAM,GACNmD,WAAY,GACZlD,SAAU,CACN,CACI6C,YAAa,OACbE,OAAQ,OACRC,GAAItR,eACJqO,KACI,wHACJmD,WAAY,GACZlD,SAAU,MAItB,CACI6C,YAAa,YACbE,OAAQ,YACRC,GAAItR,eACJqO,KAAM,GACNmD,WAAY,GACZlD,SAAU,CACN,CACI6C,YAAa,OACbE,OAAQ,OACRC,GAAItR,eACJqO,KACI,wIACJmD,WAAY,GACZlD,SAAU,MAItB,CACI6C,YAAa,YACbE,OAAQ,YACRC,GAAItR,eACJqO,KAAM,GACNmD,WAAY,GACZlD,SAAU,CACN,CACI6C,YAAa,OACbE,OAAQ,OACRC,GAAItR,eACJqO,KACI,kVACJmD,WAAY,GACZlD,SAAU,MAItB,CACI6C,YAAa,YACbE,OAAQ,YACRC,GAAItR,eACJqO,KAAM,GACNmD,WAAY,GACZlD,SAAU,CACN,CACI6C,YAAa,OACbE,OAAQ,OACRC,GAAItR,eACJqO,KACI,uKACJmD,WAAY,GACZlD,SAAU,MAItB,CACI6C,YAAa,YACbE,OAAQ,YACRC,GAAItR,eACJqO,KAAM,GACNmD,WAAY,GACZlD,SAAU,CACN,CACI6C,YAAa,OACbE,OAAQ,OACRC,GAAItR,eACJqO,KAAM,gFACNmD,WAAY,GACZlD,SAAU,MAItB,CACI6C,YAAa,YACbE,OAAQ,YACRC,GAAItR,eACJqO,KAAM,GACNmD,WAAY,GACZlD,SAAU,CACN,CACI6C,YAAa,OACbE,OAAQ,OACRC,GAAItR,eACJqO,KAAM,+CACNmD,WAAY,GACZlD,SAAU,MAItB,CACI6C,YAAa,YACbE,OAAQ,YACRC,GAAItR,eACJqO,KAAM,GACNmD,WAAY,GACZlD,SAAU,CACN,CACI6C,YAAa,OACbE,OAAQ,OACRC,GAAItR,eACJqO,KACI,uVACJmD,WAAY,GACZlD,SAAU,MAItB,CACI6C,YAAa,YACbE,OAAQ,YACRC,GAAItR,eACJqO,KAAM,GACNmD,WAAY,GACZlD,SAAU,CACN,CACI6C,YAAa,OACbE,OAAQ,OACRC,GAAItR,eACJqO,KAAM,kBACNmD,WAAY,GACZlD,SAAU,MAItB,CACI6C,YAAa,YACbE,OAAQ,YACRC,GAAItR,eACJqO,KAAM,GACNmD,WAAY,GACZlD,SAAU,CACN,CACI6C,YAAa,OACbE,OAAQ,OACRC,GAAItR,eACJqO,KACI,yJACJmD,WAAY,GACZlD,SAAU,MAItB,CACI6C,YAAa,YACbE,OAAQ,YACRC,GAAItR,eACJqO,KAAM,GACNmD,WAAY,GACZlD,SAAU,CACN,CACI6C,YAAa,OACbE,OAAQ,OACRC,GAAItR,eACJqO,KACI,8HACJmD,WAAY,GACZlD,SAAU,MAItB,CACI6C,YAAa,YACbE,OAAQ,YACRC,GAAItR,eACJqO,KAAM,GACNmD,WAAY,GACZlD,SAAU,CACN,CACI6C,YAAa,OACbE,OAAQ,OACRC,GAAItR,eACJqO,KAAM,sEACNmD,WAAY,GACZlD,SAAU,MAItB,CACI6C,YAAa,YACbE,OAAQ,YACRC,GAAItR,eACJqO,KAAM,GACNmD,WAAY,GACZlD,SAAU,CACN,CACI6C,YAAa,OACbE,OAAQ,OACRC,GAAItR,eACJqO,KAAM,+CACNmD,WAAY,GACZlD,SAAU,MAItB,CACI6C,YAAa,YACbE,OAAQ,YACRC,GAAItR,eACJqO,KAAM,GACNmD,WAAY,GACZlD,SAAU,CACN,CACI6C,YAAa,OACbE,OAAQ,OACRC,GAAItR,eACJqO,KAAM,iEACNmD,WAAY,GACZlD,SAAU,MAItB,CACI6C,YAAa,YACbE,OAAQ,YACRC,GAAItR,eACJq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","file":"static/js/main.3ca0ea29.chunk.js","sourcesContent":["import crypto from 'crypto';\nvar bytes16 = new Uint8Array(16);\n\nfunction generateRandomBytes16() {\n  return crypto.randomFillSync(bytes16);\n}\n\nexport function generateId() {\n  return Buffer.from(String.fromCharCode.apply(String, Array.from(generateRandomBytes16()))).toString('base64');\n}","var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nimport { createHiddenIframe, isDOMAvailable } from '../../util/dom';\nvar iframe;\n\nif (isDOMAvailable()) {\n  iframe = createHiddenIframe();\n  document.body.appendChild(iframe);\n}\n\nexport var copy = function copy(serviceRegistry) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var cursorService, renderService, modelService, _a, anchor, head, html, iframeDocument;\n\n    return __generator(this, function (_b) {\n      if (!iframe) {\n        return [2\n        /*return*/\n        ];\n      }\n\n      cursorService = serviceRegistry.getService('cursor');\n      renderService = serviceRegistry.getService('render');\n      modelService = serviceRegistry.getService('model');\n\n      if (!cursorService.hasCursor()) {\n        return [2\n        /*return*/\n        ];\n      }\n\n      _a = cursorService.getCursor(), anchor = _a.anchor, head = _a.head;\n\n      if (anchor === head) {\n        return [2\n        /*return*/\n        ];\n      }\n\n      html = modelService.toDOM(renderService.convertOffsetToModelOffset(Math.min(anchor, head)), renderService.convertOffsetToModelOffset(Math.max(anchor, head))).outerHTML;\n      iframeDocument = iframe.contentDocument;\n\n      if (!iframeDocument) {\n        return [2\n        /*return*/\n        ];\n      }\n\n      iframeDocument.body.innerHTML = html;\n      iframeDocument.execCommand('selectAll');\n      iframeDocument.execCommand('copy');\n      iframeDocument.body.innerHTML = '';\n      return [2\n      /*return*/\n      ];\n    });\n  });\n};\nexport var paste = function paste(serviceRegistry) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    return __generator(this, function (_a) {\n      return [2\n      /*return*/\n      ];\n    });\n  });\n};","export function isDOMAvailable() {\n  return typeof window !== 'undefined';\n}\nexport function createHiddenIframe() {\n  var iframe = document.createElement('iframe');\n  iframe.scrolling = 'no';\n  iframe.src = 'about:blank';\n  iframe.style.width = '0';\n  iframe.style.height = '0';\n  iframe.style.border = 'none';\n  iframe.style.position = 'fixed';\n  iframe.style.zIndex = '-1';\n  iframe.style.opacity = '0';\n  iframe.style.overflow = 'hidden';\n  iframe.style.left = '-1000000px';\n  iframe.style.top = '-1000000px';\n  return iframe;\n}","var __spreadArrays = this && this.__spreadArrays || function () {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) {\n    s += arguments[i].length;\n  }\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) {\n    for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) {\n      r[k] = a[j];\n    }\n  }\n\n  return r;\n};\n\nvar Transformation =\n/** @class */\nfunction () {\n  function Transformation(changes, modelCursorHead, modelCursorAnchor, keepLeftLock) {\n    if (keepLeftLock === void 0) {\n      keepLeftLock = false;\n    }\n\n    this.changes = changes;\n    this.modelCursorHead = modelCursorHead;\n    this.modelCursorAnchor = modelCursorAnchor;\n    this.keepLeftLock = keepLeftLock;\n  }\n\n  Transformation.prototype.apply = function (modelService, cursorService, renderService, layoutService) {\n    var originalCursorModelAnchor = undefined;\n    var originalCursorModelHead = undefined;\n\n    if (cursorService.hasCursor()) {\n      var _a = cursorService.getCursor(),\n          anchor = _a.anchor,\n          head = _a.head;\n\n      originalCursorModelAnchor = renderService.convertOffsetToModelOffset(anchor);\n      originalCursorModelHead = renderService.convertOffsetToModelOffset(head);\n    }\n\n    var changeResults = this.applyChanges(modelService);\n\n    if (cursorService.hasCursor()) {\n      var _b = cursorService.getCursor(),\n          cursorAnchor = _b.anchor,\n          cursorHead = _b.head;\n\n      if (this.modelCursorHead !== undefined) {\n        cursorHead = renderService.convertModelOffsetToOffset(this.boundModelOffset(this.modelCursorHead, modelService));\n        cursorAnchor = cursorHead;\n\n        if (this.modelCursorAnchor !== undefined) {\n          cursorAnchor = renderService.convertModelOffsetToOffset(this.boundModelOffset(this.modelCursorAnchor, modelService));\n        }\n      }\n\n      cursorAnchor = this.boundOffset(cursorAnchor, renderService);\n      cursorHead = this.boundOffset(cursorHead, renderService);\n      cursorService.setCursor(cursorAnchor, cursorHead);\n\n      if (!this.keepLeftLock) {\n        var _c = layoutService.resolvePosition(cursorService.getCursor().head).atLineDepth(),\n            line = _c.node,\n            lineOffset = _c.offset;\n\n        cursorService.setLeftLock(line.resolveBoundingBoxes(lineOffset, lineOffset).boundingBoxes[0].left);\n      }\n    }\n\n    var reverseChanges = [];\n    var reverseMappings = [];\n\n    for (var n = changeResults.length - 1; n >= 0; n--) {\n      var changeResult = changeResults[n];\n      reverseChanges.push(reverseMappings.reduce(function (reverseChange, reverseMapping) {\n        return reverseChange.map(reverseMapping);\n      }, changeResult.reverseChange));\n      reverseMappings.push(changeResult.mapping.reverse());\n    }\n\n    return new TransformationResult(this, changeResults, new Transformation(reverseChanges, originalCursorModelHead, originalCursorModelAnchor, this.keepLeftLock));\n  };\n\n  Transformation.prototype.applyChanges = function (modelService) {\n    var changeResults = [];\n    var mappings = [];\n\n    var changes = __spreadArrays(this.changes);\n\n    var _loop_1 = function _loop_1() {\n      var change = changes.shift();\n      var changeResult = modelService.applyChange(change);\n      var mapping = changeResult.mapping;\n      mappings.push(mapping);\n      changes = changes.map(function (c) {\n        return c.map(mapping);\n      });\n      changeResults.push(changeResult);\n    };\n\n    while (changes.length > 0) {\n      _loop_1();\n    }\n\n    return changeResults;\n  };\n\n  Transformation.prototype.boundModelOffset = function (offset, modelService) {\n    return Math.max(0, Math.min(modelService.getRootSize() - 1, offset));\n  };\n\n  Transformation.prototype.boundOffset = function (offset, renderService) {\n    return Math.max(0, Math.min(renderService.getDocSize() - 1, offset));\n  };\n\n  return Transformation;\n}();\n\nexport { Transformation };\n\nvar TransformationResult =\n/** @class */\nfunction () {\n  function TransformationResult(transformation, changeResults, reverseTransformation) {\n    this.transformation = transformation;\n    this.changeResults = changeResults;\n    this.reverseTransformation = reverseTransformation;\n  }\n\n  return TransformationResult;\n}();\n\nexport { TransformationResult };","var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nimport { Transformation } from '../../transform/transformation';\n\nfunction atPreviousLine(offset, leftLock, layoutService) {\n  var _a = layoutService.resolvePosition(offset).atLineDepth(),\n      line = _a.node,\n      lineOffset = _a.offset;\n\n  var previousLine = line.previousCrossParentSibling;\n\n  if (!previousLine) {\n    return offset - lineOffset;\n  }\n\n  return offset - lineOffset - previousLine.size + previousLine.convertCoordinatesToOffset(leftLock, 0);\n}\n\nfunction atNextLine(offset, leftLock, layoutService) {\n  var _a = layoutService.resolvePosition(offset).atLineDepth(),\n      line = _a.node,\n      lineOffset = _a.offset;\n\n  var nextLine = line.nextCrossParentSibling;\n\n  if (!nextLine) {\n    return offset - lineOffset + line.size - 1;\n  }\n\n  return offset - lineOffset + line.size + nextLine.convertCoordinatesToOffset(leftLock, 0);\n}\n\nfunction atPreviousWord(offset, layoutService) {\n  var _a = layoutService.resolvePosition(offset).atReverseDepth(0),\n      word = _a.node,\n      wordOffset = _a.offset;\n\n  if (wordOffset > 0) {\n    return offset - wordOffset;\n  }\n\n  var previousWord = word.previousCrossParentSibling;\n\n  if (!previousWord) {\n    return offset;\n  }\n\n  return offset - previousWord.size;\n}\n\nfunction atNextWord(offset, layoutService) {\n  var _a = layoutService.resolvePosition(offset).atReverseDepth(0),\n      word = _a.node,\n      wordOffset = _a.offset;\n\n  if (wordOffset < word.size - 1) {\n    return offset - wordOffset + word.size - word.whitespaceSize;\n  }\n\n  var nextWord = word.nextCrossParentSibling;\n\n  if (!nextWord) {\n    return offset;\n  }\n\n  return offset - wordOffset + word.size + nextWord.size - nextWord.whitespaceSize;\n}\n\nfunction atLineStart(offset, layoutService) {\n  var lineOffset = layoutService.resolvePosition(offset).atLineDepth().offset;\n\n  if (lineOffset === 0) {\n    return offset;\n  }\n\n  return offset - lineOffset;\n}\n\nfunction atLineEnd(offset, layoutService) {\n  var _a = layoutService.resolvePosition(offset).atLineDepth(),\n      line = _a.node,\n      lineOffset = _a.offset;\n\n  if (lineOffset >= line.size - 1) {\n    return offset;\n  }\n\n  return offset - lineOffset + line.size - 1;\n}\n\nexport var move = function move(serviceRegistry, offset) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var transformService, renderService, modelOffset;\n    return __generator(this, function (_a) {\n      transformService = serviceRegistry.getService('transform');\n      renderService = serviceRegistry.getService('render');\n      modelOffset = renderService.convertOffsetToModelOffset(offset);\n      transformService.applyTransformation(new Transformation([], modelOffset));\n      return [2\n      /*return*/\n      ];\n    });\n  });\n};\nexport var moveBackward = function moveBackward(serviceRegistry) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var transformService, cursorService, renderService, _a, anchor, head, newModelOffset, newOffset;\n\n    return __generator(this, function (_b) {\n      transformService = serviceRegistry.getService('transform');\n      cursorService = serviceRegistry.getService('cursor');\n      renderService = serviceRegistry.getService('render');\n      _a = cursorService.getCursor(), anchor = _a.anchor, head = _a.head;\n\n      if (anchor === head) {\n        newModelOffset = renderService.convertOffsetToModelOffset(anchor) - 1;\n      } else {\n        newOffset = Math.min(anchor, head);\n        newModelOffset = renderService.convertOffsetToModelOffset(newOffset);\n      }\n\n      transformService.applyTransformation(new Transformation([], newModelOffset));\n      return [2\n      /*return*/\n      ];\n    });\n  });\n};\nexport var moveForward = function moveForward(serviceRegistry) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var transformService, cursorService, renderService, _a, anchor, head, newModelOffset, newOffset;\n\n    return __generator(this, function (_b) {\n      transformService = serviceRegistry.getService('transform');\n      cursorService = serviceRegistry.getService('cursor');\n      renderService = serviceRegistry.getService('render');\n      _a = cursorService.getCursor(), anchor = _a.anchor, head = _a.head;\n\n      if (anchor === head) {\n        newModelOffset = renderService.convertOffsetToModelOffset(anchor) + 1;\n      } else {\n        newOffset = Math.max(anchor, head);\n        newModelOffset = renderService.convertOffsetToModelOffset(newOffset);\n      }\n\n      transformService.applyTransformation(new Transformation([], newModelOffset));\n      return [2\n      /*return*/\n      ];\n    });\n  });\n};\nexport var moveBackwardByLine = function moveBackwardByLine(serviceRegistry) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var transformService, cursorService, layoutService, _a, anchor, head, leftLock, offset, newOffset, renderService, newModelOffset;\n\n    return __generator(this, function (_b) {\n      transformService = serviceRegistry.getService('transform');\n      cursorService = serviceRegistry.getService('cursor');\n      layoutService = serviceRegistry.getService('layout');\n\n      if (!cursorService.hasCursor()) {\n        return [2\n        /*return*/\n        ];\n      }\n\n      _a = cursorService.getCursor(), anchor = _a.anchor, head = _a.head, leftLock = _a.leftLock;\n      offset = Math.min(anchor, head);\n      newOffset = atPreviousLine(offset, leftLock, layoutService);\n      renderService = serviceRegistry.getService('render');\n      newModelOffset = renderService.convertOffsetToModelOffset(newOffset);\n      transformService.applyTransformation(new Transformation([], newModelOffset, newModelOffset, true));\n      return [2\n      /*return*/\n      ];\n    });\n  });\n};\nexport var moveForwardByLine = function moveForwardByLine(serviceRegistry) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var transformService, cursorService, layoutService, _a, anchor, head, leftLock, offset, newOffset, renderService, newModelOffset;\n\n    return __generator(this, function (_b) {\n      transformService = serviceRegistry.getService('transform');\n      cursorService = serviceRegistry.getService('cursor');\n      layoutService = serviceRegistry.getService('layout');\n\n      if (!cursorService.hasCursor()) {\n        return [2\n        /*return*/\n        ];\n      }\n\n      _a = cursorService.getCursor(), anchor = _a.anchor, head = _a.head, leftLock = _a.leftLock;\n      offset = Math.max(anchor, head);\n      newOffset = atNextLine(offset, leftLock, layoutService);\n      renderService = serviceRegistry.getService('render');\n      newModelOffset = renderService.convertOffsetToModelOffset(newOffset);\n      transformService.applyTransformation(new Transformation([], newModelOffset, newModelOffset, true));\n      return [2\n      /*return*/\n      ];\n    });\n  });\n};\nexport var moveBackwardByWord = function moveBackwardByWord(serviceRegistry) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var transformService, cursorService, layoutService, _a, anchor, head, offset, newOffset, renderService, newModelOffset;\n\n    return __generator(this, function (_b) {\n      transformService = serviceRegistry.getService('transform');\n      cursorService = serviceRegistry.getService('cursor');\n      layoutService = serviceRegistry.getService('layout');\n\n      if (!cursorService.hasCursor()) {\n        return [2\n        /*return*/\n        ];\n      }\n\n      _a = cursorService.getCursor(), anchor = _a.anchor, head = _a.head;\n      offset = Math.min(anchor, head);\n      newOffset = atPreviousWord(offset, layoutService);\n      renderService = serviceRegistry.getService('render');\n      newModelOffset = renderService.convertOffsetToModelOffset(newOffset);\n      transformService.applyTransformation(new Transformation([], newModelOffset));\n      return [2\n      /*return*/\n      ];\n    });\n  });\n};\nexport var moveForwardByWord = function moveForwardByWord(serviceRegistry) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var transformService, cursorService, layoutService, _a, anchor, head, offset, newOffset, renderService, newModelOffset;\n\n    return __generator(this, function (_b) {\n      transformService = serviceRegistry.getService('transform');\n      cursorService = serviceRegistry.getService('cursor');\n      layoutService = serviceRegistry.getService('layout');\n\n      if (!cursorService.hasCursor()) {\n        return [2\n        /*return*/\n        ];\n      }\n\n      _a = cursorService.getCursor(), anchor = _a.anchor, head = _a.head;\n      offset = Math.max(anchor, head);\n      newOffset = atNextWord(offset, layoutService);\n      renderService = serviceRegistry.getService('render');\n      newModelOffset = renderService.convertOffsetToModelOffset(newOffset);\n      transformService.applyTransformation(new Transformation([], newModelOffset));\n      return [2\n      /*return*/\n      ];\n    });\n  });\n};\nexport var moveToLineStart = function moveToLineStart(serviceRegistry) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var transformService, cursorService, layoutService, _a, anchor, head, offset, newOffset, renderService, newModelOffset;\n\n    return __generator(this, function (_b) {\n      transformService = serviceRegistry.getService('transform');\n      cursorService = serviceRegistry.getService('cursor');\n      layoutService = serviceRegistry.getService('layout');\n\n      if (!cursorService.hasCursor()) {\n        return [2\n        /*return*/\n        ];\n      }\n\n      _a = cursorService.getCursor(), anchor = _a.anchor, head = _a.head;\n      offset = Math.min(anchor, head);\n      newOffset = atLineStart(offset, layoutService);\n      renderService = serviceRegistry.getService('render');\n      newModelOffset = renderService.convertOffsetToModelOffset(newOffset);\n      transformService.applyTransformation(new Transformation([], newModelOffset));\n      return [2\n      /*return*/\n      ];\n    });\n  });\n};\nexport var moveToLineEnd = function moveToLineEnd(serviceRegistry) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var transformService, cursorService, layoutService, _a, anchor, head, offset, newOffset, renderService, newModelOffset;\n\n    return __generator(this, function (_b) {\n      transformService = serviceRegistry.getService('transform');\n      cursorService = serviceRegistry.getService('cursor');\n      layoutService = serviceRegistry.getService('layout');\n\n      if (!cursorService.hasCursor()) {\n        return [2\n        /*return*/\n        ];\n      }\n\n      _a = cursorService.getCursor(), anchor = _a.anchor, head = _a.head;\n      offset = Math.max(anchor, head);\n      newOffset = atLineEnd(offset, layoutService);\n      renderService = serviceRegistry.getService('render');\n      newModelOffset = renderService.convertOffsetToModelOffset(newOffset);\n      transformService.applyTransformation(new Transformation([], newModelOffset));\n      return [2\n      /*return*/\n      ];\n    });\n  });\n};\nexport var moveToDocStart = function moveToDocStart(serviceRegistry) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var transformService, renderService, newOffset, newModelOffset;\n    return __generator(this, function (_a) {\n      transformService = serviceRegistry.getService('transform');\n      renderService = serviceRegistry.getService('render');\n      newOffset = 0;\n      newModelOffset = renderService.convertOffsetToModelOffset(newOffset);\n      transformService.applyTransformation(new Transformation([], newModelOffset));\n      return [2\n      /*return*/\n      ];\n    });\n  });\n};\nexport var moveToDocEnd = function moveToDocEnd(serviceRegistry) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var transformService, renderService, newOffset, newModelOffset;\n    return __generator(this, function (_a) {\n      transformService = serviceRegistry.getService('transform');\n      renderService = serviceRegistry.getService('render');\n      newOffset = renderService.getDocSize() - 1;\n      newModelOffset = renderService.convertOffsetToModelOffset(newOffset);\n      transformService.applyTransformation(new Transformation([], newModelOffset));\n      return [2\n      /*return*/\n      ];\n    });\n  });\n};\nexport var moveHead = function moveHead(serviceRegistry, offset) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var transformService, cursorService, renderService, anchor, modelAnchor, newModelHead;\n    return __generator(this, function (_a) {\n      transformService = serviceRegistry.getService('transform');\n      cursorService = serviceRegistry.getService('cursor');\n      renderService = serviceRegistry.getService('render');\n      anchor = cursorService.getCursor().anchor;\n      modelAnchor = renderService.convertOffsetToModelOffset(anchor);\n      newModelHead = renderService.convertOffsetToModelOffset(offset);\n      transformService.applyTransformation(new Transformation([], newModelHead, modelAnchor));\n      return [2\n      /*return*/\n      ];\n    });\n  });\n};\nexport var moveHeadBackward = function moveHeadBackward(serviceRegistry) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var transformService, cursorService, renderService, _a, anchor, head, modelAnchor, newModelHead;\n\n    return __generator(this, function (_b) {\n      transformService = serviceRegistry.getService('transform');\n      cursorService = serviceRegistry.getService('cursor');\n      renderService = serviceRegistry.getService('render');\n      _a = cursorService.getCursor(), anchor = _a.anchor, head = _a.head;\n      modelAnchor = renderService.convertOffsetToModelOffset(anchor);\n      newModelHead = renderService.convertOffsetToModelOffset(head - 1);\n      transformService.applyTransformation(new Transformation([], newModelHead, modelAnchor));\n      return [2\n      /*return*/\n      ];\n    });\n  });\n};\nexport var moveHeadForward = function moveHeadForward(serviceRegistry) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var transformService, cursorService, renderService, _a, anchor, head, modelAnchor, newModelHead;\n\n    return __generator(this, function (_b) {\n      transformService = serviceRegistry.getService('transform');\n      cursorService = serviceRegistry.getService('cursor');\n      renderService = serviceRegistry.getService('render');\n      _a = cursorService.getCursor(), anchor = _a.anchor, head = _a.head;\n      modelAnchor = renderService.convertOffsetToModelOffset(anchor);\n      newModelHead = renderService.convertOffsetToModelOffset(head + 1);\n      transformService.applyTransformation(new Transformation([], newModelHead, modelAnchor));\n      return [2\n      /*return*/\n      ];\n    });\n  });\n};\nexport var moveHeadBackwardByLine = function moveHeadBackwardByLine(serviceRegistry) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var transformService, cursorService, renderService, layoutService, _a, anchor, head, leftLock, newHead, modelAnchor, newModelHead;\n\n    return __generator(this, function (_b) {\n      transformService = serviceRegistry.getService('transform');\n      cursorService = serviceRegistry.getService('cursor');\n      renderService = serviceRegistry.getService('render');\n      layoutService = serviceRegistry.getService('layout');\n\n      if (!cursorService.hasCursor()) {\n        return [2\n        /*return*/\n        ];\n      }\n\n      _a = cursorService.getCursor(), anchor = _a.anchor, head = _a.head, leftLock = _a.leftLock;\n      newHead = atPreviousLine(head, leftLock, layoutService);\n      modelAnchor = renderService.convertOffsetToModelOffset(anchor);\n      newModelHead = renderService.convertOffsetToModelOffset(newHead);\n      transformService.applyTransformation(new Transformation([], newModelHead, modelAnchor));\n      return [2\n      /*return*/\n      ];\n    });\n  });\n};\nexport var moveHeadForwardByLine = function moveHeadForwardByLine(serviceRegistry) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var transformService, cursorService, renderService, layoutService, _a, anchor, head, leftLock, newHead, modelAnchor, newModelHead;\n\n    return __generator(this, function (_b) {\n      transformService = serviceRegistry.getService('transform');\n      cursorService = serviceRegistry.getService('cursor');\n      renderService = serviceRegistry.getService('render');\n      layoutService = serviceRegistry.getService('layout');\n\n      if (!cursorService.hasCursor()) {\n        return [2\n        /*return*/\n        ];\n      }\n\n      _a = cursorService.getCursor(), anchor = _a.anchor, head = _a.head, leftLock = _a.leftLock;\n      newHead = atNextLine(head, leftLock, layoutService);\n      modelAnchor = renderService.convertOffsetToModelOffset(anchor);\n      newModelHead = renderService.convertOffsetToModelOffset(newHead);\n      transformService.applyTransformation(new Transformation([], newModelHead, modelAnchor));\n      return [2\n      /*return*/\n      ];\n    });\n  });\n};\nexport var moveHeadBackwardByWord = function moveHeadBackwardByWord(serviceRegistry) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var transformService, cursorService, renderService, layoutService, _a, anchor, head, newHead, modelAnchor, newModelHead;\n\n    return __generator(this, function (_b) {\n      transformService = serviceRegistry.getService('transform');\n      cursorService = serviceRegistry.getService('cursor');\n      renderService = serviceRegistry.getService('render');\n      layoutService = serviceRegistry.getService('layout');\n\n      if (!cursorService.hasCursor()) {\n        return [2\n        /*return*/\n        ];\n      }\n\n      _a = cursorService.getCursor(), anchor = _a.anchor, head = _a.head;\n      newHead = atPreviousWord(head, layoutService);\n      modelAnchor = renderService.convertOffsetToModelOffset(anchor);\n      newModelHead = renderService.convertOffsetToModelOffset(newHead);\n      transformService.applyTransformation(new Transformation([], newModelHead, modelAnchor));\n      return [2\n      /*return*/\n      ];\n    });\n  });\n};\nexport var moveHeadForwardByWord = function moveHeadForwardByWord(serviceRegistry) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var transformService, cursorService, renderService, layoutService, _a, anchor, head, newHead, modelAnchor, newModelHead;\n\n    return __generator(this, function (_b) {\n      transformService = serviceRegistry.getService('transform');\n      cursorService = serviceRegistry.getService('cursor');\n      renderService = serviceRegistry.getService('render');\n      layoutService = serviceRegistry.getService('layout');\n\n      if (!cursorService.hasCursor()) {\n        return [2\n        /*return*/\n        ];\n      }\n\n      _a = cursorService.getCursor(), anchor = _a.anchor, head = _a.head;\n      newHead = atNextWord(head, layoutService);\n      modelAnchor = renderService.convertOffsetToModelOffset(anchor);\n      newModelHead = renderService.convertOffsetToModelOffset(newHead);\n      transformService.applyTransformation(new Transformation([], newModelHead, modelAnchor));\n      return [2\n      /*return*/\n      ];\n    });\n  });\n};\nexport var moveHeadToLineStart = function moveHeadToLineStart(serviceRegistry) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var transformService, cursorService, renderService, layoutService, _a, anchor, head, newHead, modelAnchor, newModelHead;\n\n    return __generator(this, function (_b) {\n      transformService = serviceRegistry.getService('transform');\n      cursorService = serviceRegistry.getService('cursor');\n      renderService = serviceRegistry.getService('render');\n      layoutService = serviceRegistry.getService('layout');\n\n      if (!cursorService.hasCursor()) {\n        return [2\n        /*return*/\n        ];\n      }\n\n      _a = cursorService.getCursor(), anchor = _a.anchor, head = _a.head;\n      newHead = atLineStart(head, layoutService);\n      modelAnchor = renderService.convertOffsetToModelOffset(anchor);\n      newModelHead = renderService.convertOffsetToModelOffset(newHead);\n      transformService.applyTransformation(new Transformation([], newModelHead, modelAnchor));\n      return [2\n      /*return*/\n      ];\n    });\n  });\n};\nexport var moveHeadToLineEnd = function moveHeadToLineEnd(serviceRegistry) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var transformService, cursorService, renderService, layoutService, _a, anchor, head, newHead, modelAnchor, newModelHead;\n\n    return __generator(this, function (_b) {\n      transformService = serviceRegistry.getService('transform');\n      cursorService = serviceRegistry.getService('cursor');\n      renderService = serviceRegistry.getService('render');\n      layoutService = serviceRegistry.getService('layout');\n\n      if (!cursorService.hasCursor()) {\n        return [2\n        /*return*/\n        ];\n      }\n\n      _a = cursorService.getCursor(), anchor = _a.anchor, head = _a.head;\n      newHead = atLineEnd(head, layoutService);\n      modelAnchor = renderService.convertOffsetToModelOffset(anchor);\n      newModelHead = renderService.convertOffsetToModelOffset(newHead);\n      transformService.applyTransformation(new Transformation([], newModelHead, modelAnchor));\n      return [2\n      /*return*/\n      ];\n    });\n  });\n};\nexport var moveHeadToDocStart = function moveHeadToDocStart(serviceRegistry) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var transformService, cursorService, renderService, anchor, newHead, modelAnchor, newModelHead;\n    return __generator(this, function (_a) {\n      transformService = serviceRegistry.getService('transform');\n      cursorService = serviceRegistry.getService('cursor');\n      renderService = serviceRegistry.getService('render');\n      anchor = cursorService.getCursor().anchor;\n      newHead = 0;\n      modelAnchor = renderService.convertOffsetToModelOffset(anchor);\n      newModelHead = renderService.convertOffsetToModelOffset(newHead);\n      transformService.applyTransformation(new Transformation([], newModelHead, modelAnchor));\n      return [2\n      /*return*/\n      ];\n    });\n  });\n};\nexport var moveHeadToDocEnd = function moveHeadToDocEnd(serviceRegistry) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var transformService, cursorService, renderService, anchor, newHead, modelAnchor, newModelHead;\n    return __generator(this, function (_a) {\n      transformService = serviceRegistry.getService('transform');\n      cursorService = serviceRegistry.getService('cursor');\n      renderService = serviceRegistry.getService('render');\n      anchor = cursorService.getCursor().anchor;\n      newHead = renderService.getDocSize() - 1;\n      modelAnchor = renderService.convertOffsetToModelOffset(anchor);\n      newModelHead = renderService.convertOffsetToModelOffset(newHead);\n      transformService.applyTransformation(new Transformation([], newModelHead, modelAnchor));\n      return [2\n      /*return*/\n      ];\n    });\n  });\n};\nexport var selectAll = function selectAll(serviceRegistry) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var transformService, cursorService, renderService, newAnchor, newHead, newModelAnchor, newModelHead;\n    return __generator(this, function (_a) {\n      transformService = serviceRegistry.getService('transform');\n      cursorService = serviceRegistry.getService('cursor');\n      renderService = serviceRegistry.getService('render');\n\n      if (!cursorService.hasCursor()) {\n        return [2\n        /*return*/\n        ];\n      }\n\n      newAnchor = 0;\n      newHead = renderService.getDocSize() - 1;\n      newModelAnchor = renderService.convertOffsetToModelOffset(newAnchor);\n      newModelHead = renderService.convertOffsetToModelOffset(newHead);\n      transformService.applyTransformation(new Transformation([], newModelHead, newModelAnchor));\n      return [2\n      /*return*/\n      ];\n    });\n  });\n};\nexport var selectWord = function selectWord(serviceRegistry, offset) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var transformService, cursorService, renderService, layoutService, _a, word, wordOffset, previousWord, newHead, newAnchor, newModelHead, newModelAnchor;\n\n    return __generator(this, function (_b) {\n      transformService = serviceRegistry.getService('transform');\n      cursorService = serviceRegistry.getService('cursor');\n      renderService = serviceRegistry.getService('render');\n      layoutService = serviceRegistry.getService('layout');\n\n      if (!cursorService.hasCursor()) {\n        return [2\n        /*return*/\n        ];\n      }\n\n      _a = layoutService.resolvePosition(offset).atReverseDepth(0), word = _a.node, wordOffset = _a.offset;\n\n      if (word.size - word.whitespaceSize === 0) {\n        previousWord = word.previousCrossParentSibling;\n\n        if (!previousWord) {\n          return [2\n          /*return*/\n          ];\n        }\n\n        word = previousWord;\n        wordOffset += word.size;\n      }\n\n      newHead = offset - wordOffset + word.size - word.whitespaceSize;\n      newAnchor = offset - wordOffset;\n      newModelHead = renderService.convertOffsetToModelOffset(newHead);\n      newModelAnchor = renderService.convertOffsetToModelOffset(newAnchor);\n      transformService.applyTransformation(new Transformation([], newModelHead, newModelAnchor));\n      return [2\n      /*return*/\n      ];\n    });\n  });\n};\nexport var selectBlock = function selectBlock(serviceRegistry, offset) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var transformService, cursorService, renderService, layoutService, _a, block, blockOffset, newHead, newAnchor, newModelHead, newModelAnchor;\n\n    return __generator(this, function (_b) {\n      transformService = serviceRegistry.getService('transform');\n      cursorService = serviceRegistry.getService('cursor');\n      renderService = serviceRegistry.getService('render');\n      layoutService = serviceRegistry.getService('layout');\n\n      if (!cursorService.hasCursor()) {\n        return [2\n        /*return*/\n        ];\n      }\n\n      _a = layoutService.resolvePosition(offset).atBlockDepth(), block = _a.node, blockOffset = _a.offset;\n      newHead = offset - blockOffset + block.size - 1;\n      newAnchor = offset - blockOffset;\n      newModelHead = renderService.convertOffsetToModelOffset(newHead);\n      newModelAnchor = renderService.convertOffsetToModelOffset(newAnchor);\n      transformService.applyTransformation(new Transformation([], newModelHead, newModelAnchor));\n      return [2\n      /*return*/\n      ];\n    });\n  });\n};","var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nexport var undo = function undo(serviceRegistry) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    return __generator(this, function (_a) {\n      serviceRegistry.getService('history').undo();\n      return [2\n      /*return*/\n      ];\n    });\n  });\n};\nexport var redo = function redo(serviceRegistry) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    return __generator(this, function (_a) {\n      serviceRegistry.getService('history').redo();\n      return [2\n      /*return*/\n      ];\n    });\n  });\n};","var ModelChange =\n/** @class */\nfunction () {\n  function ModelChange() {}\n\n  return ModelChange;\n}();\n\nexport { ModelChange };","var __spreadArrays = this && this.__spreadArrays || function () {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) {\n    s += arguments[i].length;\n  }\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) {\n    for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) {\n      r[k] = a[j];\n    }\n  }\n\n  return r;\n};\n\nvar Mutator =\n/** @class */\nfunction () {\n  function Mutator() {\n    this.ran = false;\n    this.inProgress = false;\n  }\n\n  Mutator.prototype.run = function () {\n    if (this.ran) {\n      throw new Error('Already ran.');\n    }\n\n    this.inProgress = true;\n\n    while (this.inProgress) {\n      this.next();\n    }\n\n    this.ran = true;\n  };\n\n  Mutator.prototype.joinNodes = function (node1, node2) {\n    if (node1.leaf) {\n      node1.replace(0, node1.text.length, node1.text + node2.text);\n    } else {\n      node1.replace(0, node1.children.length, __spreadArrays(node1.children.slice(), node2.children.slice()));\n    }\n\n    var parent = node1.parent;\n    parent.replace(0, parent.children.length, parent.children.filter(function (child) {\n      return child !== node2;\n    }));\n  };\n\n  return Mutator;\n}();\n\nexport { Mutator };","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { generateId } from '../../util/id';\nimport { Mutator } from './mutator';\n\nvar Inserter =\n/** @class */\nfunction (_super) {\n  __extends(Inserter, _super);\n\n  function Inserter(root, offset, fragments, componentService) {\n    var _this = _super.call(this) || this;\n\n    _this.root = root;\n    _this.fragments = fragments;\n    _this.componentService = componentService;\n    _this.internalInsertedSize = 0;\n    _this.depth = root.resolvePosition(offset).depth;\n    _this.current = {\n      offset: offset,\n      index: 0\n    };\n    return _this;\n  }\n\n  Object.defineProperty(Inserter.prototype, \"insertedSize\", {\n    get: function get() {\n      return this.internalInsertedSize;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  Inserter.prototype.next = function () {\n    switch (this.state) {\n      case 'text':\n        this.handleText();\n        break;\n\n      case 'split':\n        this.handleSplit();\n        break;\n\n      case 'leave':\n        this.handleLeave();\n        break;\n\n      case 'node':\n        this.handleNode();\n        break;\n\n      case 'end':\n        this.handleEnd();\n        break;\n    }\n  };\n\n  Inserter.prototype.handleText = function () {\n    var position = this.root.resolvePosition(this.current.offset);\n\n    var _a = position.atReverseDepth(0),\n        node = _a.node,\n        index = _a.index;\n\n    var currentFragment = this.currentFragment;\n    var content = currentFragment.content;\n    node.replace(index, index, content);\n    this.current = {\n      offset: this.current.offset + currentFragment.size,\n      index: this.current.index + 1\n    };\n    this.internalInsertedSize += currentFragment.size;\n  };\n\n  Inserter.prototype.handleSplit = function () {\n    var position = this.root.resolvePosition(this.current.offset);\n\n    var _a = position.atReverseDepth(this.currentFragment.depth - 1),\n        node = _a.node,\n        offset = _a.offset;\n\n    var insertedSize = this.splitNode(node, offset);\n    this.current = {\n      offset: this.current.offset + insertedSize / 2,\n      index: this.current.index\n    };\n    this.internalInsertedSize += insertedSize;\n  };\n\n  Inserter.prototype.handleLeave = function () {\n    this.current = {\n      offset: this.current.offset + 1,\n      index: this.current.index\n    };\n  };\n\n  Inserter.prototype.handleNode = function () {\n    var position = this.root.resolvePosition(this.current.offset);\n\n    var _a = position.atReverseDepth(0),\n        node = _a.node,\n        index = _a.index;\n\n    var currentFragment = this.currentFragment;\n    var content = currentFragment.content;\n    node.replace(index, index, content);\n\n    if (content.length > 0) {\n      this.joinNodeWithNextSibling(content[content.length - 1]);\n      this.joinNodeWithPreviousSibling(content[0]);\n    }\n\n    this.current = {\n      offset: this.current.offset + currentFragment.size,\n      index: this.current.index + 1\n    };\n    this.internalInsertedSize += currentFragment.size;\n  };\n\n  Inserter.prototype.handleEnd = function () {\n    this.inProgress = false;\n  };\n\n  Object.defineProperty(Inserter.prototype, \"state\", {\n    get: function get() {\n      if (!this.currentFragment) {\n        return 'end';\n      }\n\n      var position = this.root.resolvePosition(this.current.offset);\n\n      if (position.depth > this.depth - this.currentFragment.depth) {\n        return 'split';\n      }\n\n      if (position.depth < this.depth - this.currentFragment.depth) {\n        return 'leave';\n      }\n\n      if (this.currentFragment.depth === 0) {\n        return 'text';\n      }\n\n      return 'node';\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Inserter.prototype, \"currentFragment\", {\n    get: function get() {\n      if (this.current.index >= this.fragments.length) {\n        return null;\n      }\n\n      return this.fragments[this.current.index];\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  Inserter.prototype.splitNode = function (node, offset) {\n    var insertedSize = 0;\n    var component = this.componentService.getComponent(node.componentId);\n    var position = node.resolvePosition(offset);\n    var node1;\n    var node2;\n\n    if (position.depth === 1) {\n      node1 = component.buildModelNode(node.partId, node.id, node.text.substring(0, offset - 1), node.attributes, []);\n      node2 = component.buildModelNode(node.partId, generateId(), node.text.substring(offset - 1), node.attributes, []);\n    } else {\n      if (position.atDepth(1).offset !== 0) {\n        insertedSize += this.splitNode(position.atDepth(1).node, position.atDepth(1).offset);\n      }\n\n      position = node.resolvePosition(offset + insertedSize / 2);\n      node1 = component.buildModelNode(node.partId, node.id, '', node.attributes, node.children.slice(0, position.atDepth(0).index));\n      node2 = component.buildModelNode(node.partId, generateId(), '', node.attributes, node.children.slice(position.atDepth(0).index));\n    }\n\n    var parent = node.parent;\n    var index = parent.children.indexOf(node);\n    parent.replace(index, index + 1, [node1, node2]);\n    insertedSize += 2;\n    return insertedSize;\n  };\n\n  Inserter.prototype.joinNodeWithNextSibling = function (node) {\n    var nextSibling = node.nextSibling;\n\n    if (!nextSibling) {\n      return;\n    }\n\n    if (!node.canJoin(nextSibling)) {\n      return;\n    }\n\n    this.joinNodes(node, nextSibling);\n  };\n\n  Inserter.prototype.joinNodeWithPreviousSibling = function (node) {\n    var previousSibling = node.previousSibling;\n\n    if (!previousSibling) {\n      return;\n    }\n\n    if (!previousSibling.canJoin(node)) {\n      return;\n    }\n\n    this.joinNodes(previousSibling, node);\n  };\n\n  return Inserter;\n}(Mutator);\n\nexport { Inserter };","var Mapping =\n/** @class */\nfunction () {\n  function Mapping(from, oldSize, newSize) {\n    this.from = from;\n    this.oldSize = oldSize;\n    this.newSize = newSize;\n  }\n\n  Mapping.prototype.map = function (offset) {\n    if (offset <= this.from) {\n      return offset;\n    }\n\n    if (offset >= this.from + this.oldSize) {\n      return offset - this.oldSize + this.newSize;\n    }\n\n    throw new Error('Offset no longer exists.');\n  };\n\n  Mapping.prototype.mapRender = function (offset, renderService) {\n    var modelOffset = renderService.convertOffsetToModelOffset(offset);\n    var newModelOffset = this.map(modelOffset);\n    return renderService.convertModelOffsetToOffset(newModelOffset);\n  };\n\n  Mapping.prototype.reverse = function () {\n    return new Mapping(this.from, this.newSize, this.oldSize);\n  };\n\n  return Mapping;\n}();\n\nexport { Mapping };","var Fragment =\n/** @class */\nfunction () {\n  function Fragment(content, depth) {\n    this.content = content;\n    this.depth = depth;\n\n    if (Array.isArray(content)) {\n      this.contentType = 'nodes';\n      this.size = content.reduce(function (size, node) {\n        return size + node.size;\n      }, 0);\n    } else {\n      this.contentType = 'text';\n      this.size = content.length;\n    }\n  }\n\n  return Fragment;\n}();\n\nexport { Fragment };","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { Fragment } from '../fragment';\nimport { Mutator } from './mutator';\n\nvar Remover =\n/** @class */\nfunction (_super) {\n  __extends(Remover, _super);\n\n  function Remover(root, from, to) {\n    var _this = _super.call(this) || this;\n\n    _this.root = root;\n    _this.from = from;\n    _this.to = to;\n    _this.removedFragments = [];\n    var position = root.resolvePosition(from);\n    var node = position.atReverseDepth(0).node;\n    _this.current = {\n      offset: from,\n      node: node,\n      nodeFrom: -1,\n      nodeTo: -1\n    };\n\n    _this.updateCurrentNode(node);\n\n    return _this;\n  }\n\n  Remover.prototype.next = function () {\n    switch (this.state) {\n      case 'fullNode':\n        this.handleFullNode();\n        break;\n\n      case 'partialNode':\n        this.handlePartialNode();\n        break;\n\n      case 'text':\n        this.handleText();\n        break;\n\n      case 'forward':\n        this.handleForward();\n        break;\n\n      case 'enter':\n        this.handleEnter();\n        break;\n\n      case 'end':\n        this.handleEnd();\n        break;\n    }\n  };\n\n  Remover.prototype.handleFullNode = function () {\n    this.stepUp();\n  };\n\n  Remover.prototype.handlePartialNode = function () {\n    var position = this.current.node.resolvePosition(this.current.offset - this.current.nodeFrom);\n\n    if (position.depth === 1) {\n      var removeFrom = position.atDepth(0).index;\n      var nodesToRemove = [];\n      var removeToOffset = Math.min(this.to - this.current.nodeFrom, this.current.node.size);\n      var offset = position.atDepth(0).offset;\n      var node = this.current.node.children.at(removeFrom);\n\n      while (node && offset + node.size <= removeToOffset) {\n        nodesToRemove.push(node);\n        offset += node.size;\n        node = node.nextSibling;\n      }\n\n      var removeTo = removeFrom + nodesToRemove.length;\n      this.recordRemovedNodes(nodesToRemove, position.depth);\n      this.current.node.replace(removeFrom, removeTo, []);\n\n      if (node) {\n        this.joinNodeWithPreviousSibling(node);\n      }\n    }\n\n    this.stepDown();\n  };\n\n  Remover.prototype.handleText = function () {\n    var removeFrom = this.current.offset - this.current.nodeFrom - 1;\n    var removeTo = Math.min(this.to - this.current.nodeFrom - 1, this.current.node.size - 2);\n    var removedText = this.current.node.replace(removeFrom, removeTo, '');\n    this.recordRemovedText(removedText);\n  };\n\n  Remover.prototype.handleForward = function () {\n    this.stepForward();\n  };\n\n  Remover.prototype.handleEnter = function () {\n    this.current.offset++;\n  };\n\n  Remover.prototype.handleEnd = function () {\n    this.inProgress = false;\n  };\n\n  Remover.prototype.stepUp = function () {\n    var parentNode = this.current.node.parent;\n    this.updateCurrentNode(parentNode);\n  };\n\n  Remover.prototype.stepDown = function () {\n    if (this.current.node.children.length === 0) {\n      return;\n    }\n\n    var nodeOffset = this.current.offset - this.current.nodeFrom;\n    var position = this.current.node.resolvePosition(nodeOffset);\n    var childNode = this.current.node.children.at(position.atDepth(0).index);\n    this.updateCurrentNode(childNode);\n  };\n\n  Remover.prototype.stepForward = function () {\n    var nextNode = this.current.node.nextSibling;\n\n    if (nextNode) {\n      this.updateCurrentNode(nextNode);\n      this.current.offset = this.current.nodeFrom;\n    } else {\n      var parentNode = this.current.node.parent;\n      this.current.offset = this.current.nodeTo;\n      this.updateCurrentNode(parentNode);\n    }\n  };\n\n  Object.defineProperty(Remover.prototype, \"state\", {\n    get: function get() {\n      if (this.current.offset >= this.to) {\n        return 'end';\n      }\n\n      if (this.current.nodeTo - this.current.offset === 1) {\n        return 'forward';\n      }\n\n      if (this.current.offset === this.current.nodeFrom && this.current.nodeTo <= this.to) {\n        return 'fullNode';\n      }\n\n      if (this.current.offset === this.current.nodeFrom) {\n        return 'enter';\n      }\n\n      if (this.current.node.leaf) {\n        return 'text';\n      }\n\n      return 'partialNode';\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  Remover.prototype.recordRemovedNodes = function (nodes, depth) {\n    this.removedFragments.push(new Fragment(nodes, depth));\n    var size = nodes.reduce(function (size, node) {\n      return size + node.size;\n    }, 0);\n    this.current.nodeTo -= size;\n    this.to -= size;\n  };\n\n  Remover.prototype.recordRemovedText = function (text) {\n    this.removedFragments.push(new Fragment(text, 0));\n    this.current.nodeTo -= text.length;\n    this.to -= text.length;\n  };\n\n  Remover.prototype.joinNodeWithPreviousSibling = function (node) {\n    var previousSibling = node.previousSibling;\n\n    if (!previousSibling) {\n      if (node.parent) {\n        this.joinNodeWithPreviousSibling(node.parent);\n      }\n\n      return;\n    }\n\n    var nodeOffset = this.getOffsetToRoot(node);\n\n    if (this.current.offset >= nodeOffset - 1) {\n      if (this.current.offset > nodeOffset) {\n        this.current.offset--;\n      }\n\n      this.current.offset--;\n    }\n\n    this.to -= 2;\n    var childNodeToJoin = node.firstChild;\n    this.joinNodes(previousSibling, node);\n\n    if (childNodeToJoin) {\n      this.joinNodeWithPreviousSibling(childNodeToJoin);\n    }\n\n    if (this.current.node === node) {\n      this.updateCurrentNode(previousSibling);\n    }\n  };\n\n  Remover.prototype.updateCurrentNode = function (node) {\n    this.current.node = node;\n    this.current.nodeFrom = this.getOffsetToRoot(node);\n    this.current.nodeTo = this.current.nodeFrom + node.size;\n  };\n\n  Remover.prototype.getOffsetToRoot = function (node) {\n    var offset = 0;\n    var n = node;\n\n    while (n.parent) {\n      offset += this.getOffsetToParent(n);\n      n = n.parent;\n    }\n\n    return offset;\n  };\n\n  Remover.prototype.getOffsetToParent = function (node) {\n    var offset = 1;\n    var previousSibling = node.previousSibling;\n\n    while (previousSibling) {\n      offset += previousSibling.size;\n      previousSibling = previousSibling.previousSibling;\n    }\n\n    return offset;\n  };\n\n  return Remover;\n}(Mutator);\n\nexport { Remover };","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { ModelChange } from './change';\nimport { Inserter } from './inserter';\nimport { Mapping } from './mapping';\nimport { Remover } from './remover';\n\nvar ReplaceChange =\n/** @class */\nfunction (_super) {\n  __extends(ReplaceChange, _super);\n\n  function ReplaceChange(from, to, fragments) {\n    var _this = _super.call(this) || this;\n\n    _this.from = from;\n    _this.to = to;\n    _this.fragments = fragments;\n\n    _this.validateInput();\n\n    return _this;\n  }\n\n  ReplaceChange.prototype.map = function (mapping) {\n    var from = mapping.map(this.from);\n    var to = mapping.map(this.to);\n    return new ReplaceChange(from, to, this.fragments);\n  };\n\n  ReplaceChange.prototype.apply = function (root, componentService) {\n    this.validateFit(root);\n    var remover = new Remover(root, this.from, this.to);\n    remover.run();\n    var inserter = new Inserter(root, this.from, this.fragments, componentService);\n    inserter.run();\n    return {\n      change: this,\n      reverseChange: new ReplaceChange(this.from, this.from + inserter.insertedSize, remover.removedFragments),\n      mapping: new Mapping(this.from, this.to - this.from, inserter.insertedSize)\n    };\n  };\n\n  ReplaceChange.prototype.validateInput = function () {\n    // Validate range is valid\n    if (this.from > this.to) {\n      throw new Error('Range is invalid.');\n    } // Validate fragments depths are valid\n\n\n    if (this.fragments.length > 0) {\n      var ascending = true;\n      var descending = false;\n      var depth = this.fragments[0].depth;\n\n      for (var n = 1, nn = this.fragments.length; n < nn; n++) {\n        var fragment = this.fragments[n];\n\n        if (fragment.depth > depth) {\n          if (!ascending) {\n            throw new Error('Fragments have invalid depths.');\n          }\n        } else if (fragment.depth < depth) {\n          if (ascending) {\n            ascending = false;\n            descending = true;\n          }\n\n          if (!descending) {\n            throw new Error('Fragments have invalid depths.');\n          }\n        }\n\n        depth = fragment.depth;\n      }\n    }\n  };\n\n  ReplaceChange.prototype.validateFit = function (root) {\n    // Fragments depths must be less than depth at from position\n    var fromPosition = root.resolvePosition(this.from);\n    var maxFragmentDepth = Math.max.apply(Math, this.fragments.map(function (fragment) {\n      return fragment.depth;\n    }));\n\n    if (maxFragmentDepth >= fromPosition.depth) {\n      throw new Error('Fragments do not fit in range.');\n    }\n  };\n\n  return ReplaceChange;\n}(ModelChange);\n\nexport { ReplaceChange };","var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nimport { ReplaceChange } from '../../model/change/replace';\nimport { Fragment } from '../../model/fragment';\nimport { Transformation } from '../../transform/transformation';\nexport var insert = function insert(serviceRegistry, content) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var transformService, cursorService, renderService, _a, anchor, head, from, to, modelFrom, modelTo, newModelOffset;\n\n    return __generator(this, function (_b) {\n      transformService = serviceRegistry.getService('transform');\n      cursorService = serviceRegistry.getService('cursor');\n      renderService = serviceRegistry.getService('render');\n\n      if (!cursorService.hasCursor()) {\n        return [2\n        /*return*/\n        ];\n      }\n\n      _a = cursorService.getCursor(), anchor = _a.anchor, head = _a.head;\n      from = Math.min(anchor, head);\n      to = Math.max(anchor, head);\n      modelFrom = renderService.convertOffsetToModelOffset(from);\n      modelTo = renderService.convertOffsetToModelOffset(to);\n      newModelOffset = modelFrom + content.length;\n      transformService.applyTransformation(new Transformation([new ReplaceChange(modelFrom, modelTo, [new Fragment(content, 0)])], newModelOffset));\n      return [2\n      /*return*/\n      ];\n    });\n  });\n};\nexport var deleteBackward = function deleteBackward(serviceRegistry) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var transformService, cursorService, renderService, _a, anchor, head, from, to, modelFrom, modelTo;\n\n    return __generator(this, function (_b) {\n      transformService = serviceRegistry.getService('transform');\n      cursorService = serviceRegistry.getService('cursor');\n      renderService = serviceRegistry.getService('render');\n\n      if (!cursorService.hasCursor()) {\n        return [2\n        /*return*/\n        ];\n      }\n\n      _a = cursorService.getCursor(), anchor = _a.anchor, head = _a.head;\n\n      if (anchor === head) {\n        if (head === 0) {\n          return [2\n          /*return*/\n          ];\n        }\n\n        from = head - 1;\n        to = head;\n      } else {\n        from = Math.min(anchor, head);\n        to = Math.max(anchor, head);\n      }\n\n      modelFrom = renderService.convertOffsetToModelOffset(from);\n      modelTo = renderService.convertOffsetToModelOffset(to);\n      transformService.applyTransformation(new Transformation([new ReplaceChange(modelFrom, modelTo, [])], modelFrom));\n      return [2\n      /*return*/\n      ];\n    });\n  });\n};\nexport var deleteForward = function deleteForward(serviceRegistry) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var transformService, cursorService, renderService, _a, anchor, head, from, to, modelFrom, modelTo;\n\n    return __generator(this, function (_b) {\n      transformService = serviceRegistry.getService('transform');\n      cursorService = serviceRegistry.getService('cursor');\n      renderService = serviceRegistry.getService('render');\n\n      if (!cursorService.hasCursor()) {\n        return [2\n        /*return*/\n        ];\n      }\n\n      _a = cursorService.getCursor(), anchor = _a.anchor, head = _a.head;\n\n      if (anchor === head) {\n        if (head >= renderService.getDocSize() - 1) {\n          return [2\n          /*return*/\n          ];\n        }\n\n        from = head;\n        to = head + 1;\n      } else {\n        from = Math.min(anchor, head);\n        to = Math.max(anchor, head);\n      }\n\n      modelFrom = renderService.convertOffsetToModelOffset(from);\n      modelTo = renderService.convertOffsetToModelOffset(to);\n      transformService.applyTransformation(new Transformation([new ReplaceChange(modelFrom, modelTo, [])], modelFrom));\n      return [2\n      /*return*/\n      ];\n    });\n  });\n};\nexport var breakLine = function breakLine(serviceRegistry) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var transformService, cursorService, renderService, _a, anchor, head, from, to, modelFrom, modelTo, newModelOffset;\n\n    return __generator(this, function (_b) {\n      transformService = serviceRegistry.getService('transform');\n      cursorService = serviceRegistry.getService('cursor');\n      renderService = serviceRegistry.getService('render');\n\n      if (!cursorService.hasCursor()) {\n        return [2\n        /*return*/\n        ];\n      }\n\n      _a = cursorService.getCursor(), anchor = _a.anchor, head = _a.head;\n      from = Math.min(anchor, head);\n      to = Math.max(anchor, head);\n      modelFrom = renderService.convertOffsetToModelOffset(from);\n      modelTo = renderService.convertOffsetToModelOffset(to);\n      newModelOffset = modelFrom + 4;\n      transformService.applyTransformation(new Transformation([new ReplaceChange(modelFrom, modelTo, [new Fragment([], 2)])], newModelOffset));\n      return [2\n      /*return*/\n      ];\n    });\n  });\n};","var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nexport var focus = function focus(serviceRegistry) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    return __generator(this, function (_a) {\n      serviceRegistry.getService('view').requestFocus();\n      return [2\n      /*return*/\n      ];\n    });\n  });\n};\nexport var blur = function blur(serviceRegistry) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    return __generator(this, function (_a) {\n      serviceRegistry.getService('view').requestBlur();\n      return [2\n      /*return*/\n      ];\n    });\n  });\n};","var EventEmitter =\n/** @class */\nfunction () {\n  function EventEmitter() {\n    this.listeners = [];\n  }\n\n  EventEmitter.prototype.on = function (listener) {\n    var _this = this;\n\n    this.listeners.push(listener);\n    return {\n      dispose: function dispose() {\n        var index = _this.listeners.indexOf(listener);\n\n        if (index < 0) {\n          return;\n        }\n\n        _this.listeners.splice(index, 1);\n      }\n    };\n  };\n\n  EventEmitter.prototype.emit = function (event) {\n    this.listeners.forEach(function (listener) {\n      return listener(event);\n    });\n  };\n\n  return EventEmitter;\n}();\n\nexport { EventEmitter };","var CommandRegistry =\n/** @class */\nfunction () {\n  function CommandRegistry() {\n    this.commandsMap = new Map();\n  }\n\n  CommandRegistry.prototype.registerCommand = function (commandId, commandHandler) {\n    this.commandsMap.set(commandId, commandHandler);\n  };\n\n  CommandRegistry.prototype.getCommandHandler = function (commandId) {\n    return this.commandsMap.get(commandId);\n  };\n\n  return CommandRegistry;\n}();\n\nexport { CommandRegistry };","var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nvar __spreadArrays = this && this.__spreadArrays || function () {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) {\n    s += arguments[i].length;\n  }\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) {\n    for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) {\n      r[k] = a[j];\n    }\n  }\n\n  return r;\n};\n\nimport { EventEmitter } from '../event/emitter';\nimport { CommandRegistry } from './registry';\n\nvar CommandService =\n/** @class */\nfunction () {\n  function CommandService(configService, serviceRegistry) {\n    this.serviceRegistry = serviceRegistry;\n    this.willExecuteCommandEventEmitter = new EventEmitter();\n    this.didExecuteCommandEventEmitter = new EventEmitter();\n    this.registry = new CommandRegistry();\n\n    for (var _i = 0, _a = Object.entries(configService.getConfig().commands); _i < _a.length; _i++) {\n      var _b = _a[_i],\n          commandId = _b[0],\n          commandHandler = _b[1];\n      this.registry.registerCommand(commandId, commandHandler);\n    }\n  }\n\n  CommandService.prototype.onWillExecuteCommand = function (listener) {\n    return this.willExecuteCommandEventEmitter.on(listener);\n  };\n\n  CommandService.prototype.onDidExecuteCommand = function (listener) {\n    return this.didExecuteCommandEventEmitter.on(listener);\n  };\n\n  CommandService.prototype.executeCommand = function (commandId) {\n    var args = [];\n\n    for (var _i = 1; _i < arguments.length; _i++) {\n      args[_i - 1] = arguments[_i];\n    }\n\n    return __awaiter(this, void 0, void 0, function () {\n      var commandHandler;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            commandHandler = this.registry.getCommandHandler(commandId);\n\n            if (!commandHandler) {\n              return [2\n              /*return*/\n              ];\n            }\n\n            this.willExecuteCommandEventEmitter.emit({\n              commandId: commandId,\n              args: args\n            });\n            return [4\n            /*yield*/\n            , commandHandler.apply(void 0, __spreadArrays([this.serviceRegistry], args))];\n\n          case 1:\n            _a.sent();\n\n            this.didExecuteCommandEventEmitter.emit({\n              commandId: commandId,\n              args: args\n            });\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  return CommandService;\n}();\n\nexport { CommandService };","var NodeList =\n/** @class */\nfunction () {\n  function NodeList(nodes) {\n    if (nodes === void 0) {\n      nodes = [];\n    }\n\n    this.nodes = nodes;\n  }\n\n  Object.defineProperty(NodeList.prototype, \"length\", {\n    get: function get() {\n      return this.nodes.length;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  NodeList.prototype.at = function (index) {\n    if (index < 0 || index >= this.nodes.length) {\n      throw new Error(\"Index \" + index + \" is out of range.\");\n    }\n\n    return this.nodes[index];\n  };\n\n  NodeList.prototype.indexOf = function (node) {\n    return this.nodes.findIndex(function (n) {\n      return n.id === node.id;\n    });\n  };\n\n  NodeList.prototype.forEach = function (callbackFn) {\n    return this.nodes.forEach(callbackFn);\n  };\n\n  NodeList.prototype.map = function (callbackFn) {\n    return this.nodes.map(callbackFn);\n  };\n\n  NodeList.prototype.reduce = function (callbackFn, initialValue) {\n    return this.nodes.reduce(callbackFn, initialValue);\n  };\n\n  NodeList.prototype.filter = function (callbackfn) {\n    return this.nodes.filter(callbackfn);\n  };\n\n  NodeList.prototype.slice = function (start, end) {\n    return this.nodes.slice(start, end);\n  };\n\n  NodeList.prototype.find = function (callbackFn) {\n    return this.nodes.find(callbackFn);\n  };\n\n  return NodeList;\n}();\n\nexport { NodeList };","import { NodeList } from './node-list';\n\nvar Node =\n/** @class */\nfunction () {\n  function Node(id) {\n    this.id = id;\n    this.parent = null;\n    this.internalChildren = new NodeList();\n  }\n\n  Object.defineProperty(Node.prototype, \"children\", {\n    get: function get() {\n      return this.internalChildren;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Node.prototype, \"firstChild\", {\n    get: function get() {\n      if (this.children.length === 0) {\n        return null;\n      }\n\n      return this.children.at(0);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Node.prototype, \"lastChild\", {\n    get: function get() {\n      if (this.children.length === 0) {\n        return null;\n      }\n\n      return this.children.at(this.children.length - 1);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Node.prototype, \"previousSibling\", {\n    get: function get() {\n      if (!this.parent) {\n        return null;\n      }\n\n      var siblings = this.parent.children;\n      var ownIndex = siblings.indexOf(this);\n\n      if (ownIndex < 0) {\n        throw new Error('Node is not a child of parent.');\n      }\n\n      if (ownIndex === 0) {\n        return null;\n      }\n\n      return siblings.at(ownIndex - 1);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Node.prototype, \"nextSibling\", {\n    get: function get() {\n      if (!this.parent) {\n        return null;\n      }\n\n      var siblings = this.parent.children;\n      var ownIndex = siblings.indexOf(this);\n\n      if (ownIndex < 0) {\n        throw new Error('Node is not a child of parent.');\n      }\n\n      if (ownIndex === siblings.length - 1) {\n        return null;\n      }\n\n      return siblings.at(ownIndex + 1);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Node.prototype, \"previousCrossParentSibling\", {\n    get: function get() {\n      var previousSibling = this.previousSibling;\n\n      if (previousSibling) {\n        return previousSibling;\n      }\n\n      var parent = this.parent;\n\n      if (!parent || parent.root) {\n        return null;\n      }\n\n      var parentPreviousSibling = parent.previousCrossParentSibling;\n\n      if (!parentPreviousSibling) {\n        return null;\n      }\n\n      return parentPreviousSibling.lastChild;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Node.prototype, \"nextCrossParentSibling\", {\n    get: function get() {\n      var nextSibling = this.nextSibling;\n\n      if (nextSibling) {\n        return nextSibling;\n      }\n\n      var parent = this.parent;\n\n      if (!parent || parent.root) {\n        return null;\n      }\n\n      var parentNextSibling = parent.nextCrossParentSibling;\n\n      if (!parentNextSibling) {\n        return null;\n      }\n\n      return parentNextSibling.firstChild;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  Node.prototype.findDescendant = function (id) {\n    if (this.id === id) {\n      return this;\n    }\n\n    if (this.leaf) {\n      return null;\n    }\n\n    for (var n = 0, nn = this.children.length; n < nn; n++) {\n      var child = this.children.at(n);\n      var result = child.findDescendant(id);\n\n      if (result) {\n        return result;\n      }\n    }\n\n    return null;\n  };\n\n  return Node;\n}();\n\nexport { Node };","var Position =\n/** @class */\nfunction () {\n  function Position(depths) {\n    this.depths = depths;\n  }\n\n  Object.defineProperty(Position.prototype, \"depth\", {\n    get: function get() {\n      return this.depths.length;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  Position.prototype.atDepth = function (depth) {\n    if (depth < 0 || depth >= this.depths.length) {\n      throw new Error('Depth out of range.');\n    }\n\n    return this.depths[depth];\n  };\n\n  Position.prototype.atReverseDepth = function (reverseDepth) {\n    if (reverseDepth < 0 || reverseDepth >= this.depths.length) {\n      throw new Error('Reverse depth out of range.');\n    }\n\n    return this.depths[this.depth - reverseDepth - 1];\n  };\n\n  return Position;\n}();\n\nexport { Position };","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __spreadArrays = this && this.__spreadArrays || function () {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) {\n    s += arguments[i].length;\n  }\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) {\n    for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) {\n      r[k] = a[j];\n    }\n  }\n\n  return r;\n};\n\nimport { EventEmitter } from '../event/emitter';\nimport { Node } from '../tree/node';\nimport { NodeList } from '../tree/node-list';\nimport { Position } from '../tree/position';\n\nvar ModelNode =\n/** @class */\nfunction (_super) {\n  __extends(ModelNode, _super);\n\n  function ModelNode(componentId, id, text, attributes, children) {\n    var _this = _super.call(this, id) || this;\n\n    _this.componentId = componentId;\n    _this.attributes = attributes;\n    _this.internalNeedRender = true;\n    _this.childDidUpdateDisposableMap = new Map();\n    _this.didUpdateEventEmitter = new EventEmitter();\n\n    _this.handleChildDidUpdate = function () {\n      _this.didUpdateEventEmitter.emit({});\n    };\n\n    _this.internalText = text;\n    _this.internalChildren = new NodeList(children);\n    children.forEach(function (child) {\n      child.parent = _this;\n\n      _this.childDidUpdateDisposableMap.set(child.id, child.onDidUpdate(_this.handleChildDidUpdate));\n    });\n\n    _this.onDidUpdate(function () {\n      _this.internalSize = undefined;\n      _this.internalNeedRender = true;\n    });\n\n    return _this;\n  }\n\n  Object.defineProperty(ModelNode.prototype, \"text\", {\n    get: function get() {\n      return this.internalText;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ModelNode.prototype, \"size\", {\n    get: function get() {\n      if (this.internalSize === undefined) {\n        if (this.leaf) {\n          this.internalSize = 2 + this.text.length;\n        } else {\n          this.internalSize = this.children.reduce(function (size, child) {\n            return size + child.size;\n          }, 2);\n        }\n      }\n\n      return this.internalSize;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ModelNode.prototype, \"needRender\", {\n    get: function get() {\n      return this.internalNeedRender;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  ModelNode.prototype.canJoin = function (node) {\n    return false;\n  };\n\n  ModelNode.prototype.clearNeedRender = function () {\n    this.internalNeedRender = false;\n  };\n\n  ModelNode.prototype.replace = function (from, to, content) {\n    var _this = this;\n\n    if (from > to) {\n      throw new Error('Range is invalid.');\n    }\n\n    if (this.leaf) {\n      if (typeof content !== 'string') {\n        throw new Error('Leaf node content must be string.');\n      }\n\n      if (from < 0 || to > this.text.length) {\n        throw new Error('Range is invalid.');\n      }\n    } else {\n      if (typeof content === 'string') {\n        throw new Error('Non-leaf node content must not be string.');\n      }\n\n      if (from < 0 || to > this.children.length) {\n        throw new Error('Range is invalid.');\n      }\n    }\n\n    var replacedContent;\n\n    if (typeof content === 'string') {\n      replacedContent = this.internalText.substring(from, to);\n      this.internalText = this.internalText.slice(0, from) + content + this.internalText.slice(to);\n    } else {\n      replacedContent = this.children.slice(from, to);\n      this.internalChildren = new NodeList(__spreadArrays(this.children.slice(0, from), content, this.children.slice(to)));\n      var removedNodes = this.children.slice(from, to);\n      removedNodes.forEach(function (node) {\n        var _a;\n\n        return (_a = _this.childDidUpdateDisposableMap.get(node.id)) === null || _a === void 0 ? void 0 : _a.dispose();\n      });\n      content.forEach(function (node) {\n        node.parent = _this;\n\n        _this.childDidUpdateDisposableMap.set(node.id, node.onDidUpdate(_this.handleChildDidUpdate));\n      });\n    }\n\n    this.didUpdateEventEmitter.emit({});\n    return replacedContent;\n  };\n\n  ModelNode.prototype.resolvePosition = function (offset) {\n    if (offset < 0 || offset >= this.size) {\n      throw new Error(\"Offset \" + offset + \" is out of range.\");\n    }\n\n    if (offset === 0) {\n      return new ModelPosition([{\n        node: this,\n        offset: offset,\n        index: -1\n      }]);\n    }\n\n    if (this.leaf) {\n      return new ModelPosition([{\n        node: this,\n        offset: offset,\n        index: offset - 1\n      }]);\n    }\n\n    var cumulatedOffset = 1;\n\n    for (var n = 0, nn = this.children.length; n < nn; n++) {\n      if (cumulatedOffset === offset) {\n        return new ModelPosition([{\n          node: this,\n          offset: offset,\n          index: n\n        }]);\n      }\n\n      var child = this.children.at(n);\n      var childSize = child.size;\n\n      if (cumulatedOffset + childSize > offset) {\n        var childPosition = child.resolvePosition(offset - cumulatedOffset);\n        var depths = [{\n          node: this,\n          offset: offset,\n          index: n\n        }];\n\n        for (var m = 0; m < childPosition.depth; m++) {\n          depths.push(childPosition.atDepth(m));\n        }\n\n        return new ModelPosition(depths);\n      }\n\n      cumulatedOffset += childSize;\n    }\n\n    return new ModelPosition([{\n      node: this,\n      offset: offset,\n      index: this.children.length\n    }]);\n  };\n\n  ModelNode.prototype.onDidUpdate = function (listener) {\n    return this.didUpdateEventEmitter.on(listener);\n  };\n\n  return ModelNode;\n}(Node);\n\nexport { ModelNode };\n\nvar ModelPosition =\n/** @class */\nfunction (_super) {\n  __extends(ModelPosition, _super);\n\n  function ModelPosition() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  return ModelPosition;\n}(Position);\n\nexport { ModelPosition };","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { ModelNode } from './node';\n\nvar ModelRoot =\n/** @class */\nfunction (_super) {\n  __extends(ModelRoot, _super);\n\n  function ModelRoot(componentId, id, attributes, children) {\n    var _this = _super.call(this, componentId, id, '', attributes, children) || this;\n\n    if (children.length === 0) {\n      throw new Error('Doc node must have children.');\n    }\n\n    return _this;\n  }\n\n  Object.defineProperty(ModelRoot.prototype, \"root\", {\n    get: function get() {\n      return true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ModelRoot.prototype, \"leaf\", {\n    get: function get() {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return ModelRoot;\n}(ModelNode);\n\nexport { ModelRoot };","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { Node } from '../tree/node';\nimport { NodeList } from '../tree/node-list';\nimport { Position } from '../tree/position';\nimport { generateId } from '../util/id';\n\nvar RenderNode =\n/** @class */\nfunction (_super) {\n  __extends(RenderNode, _super);\n\n  function RenderNode(componentId, modelId, text, attributes, children) {\n    var _this = _super.call(this, generateId()) || this;\n\n    _this.componentId = componentId;\n    _this.modelId = modelId;\n    _this.text = text;\n    _this.attributes = attributes;\n    _this.internalNeedLayout = true;\n    _this.internalChildren = new NodeList(children);\n    children.forEach(function (child) {\n      child.parent = _this;\n    });\n    return _this;\n  }\n\n  Object.defineProperty(RenderNode.prototype, \"size\", {\n    get: function get() {\n      if (this.internalSize === undefined) {\n        if (this.leaf) {\n          this.internalSize = this.text.length;\n        } else {\n          this.internalSize = this.children.reduce(function (size, child) {\n            return size + child.size;\n          }, 0);\n        }\n      }\n\n      return this.internalSize;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderNode.prototype, \"modelSize\", {\n    get: function get() {\n      if (this.pseudo) {\n        return 0;\n      }\n\n      if (this.internalChildrenModelSize === undefined) {\n        this.internalChildrenModelSize = this.children.reduce(function (size, childNode) {\n          return size + childNode.modelSize;\n        }, 0);\n      }\n\n      return this.internalChildrenModelSize + 2 + this.text.length;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderNode.prototype, \"needLayout\", {\n    get: function get() {\n      return this.internalNeedLayout;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  RenderNode.prototype.clearNeedLayout = function () {\n    this.internalNeedLayout = false;\n  };\n\n  RenderNode.prototype.resolvePosition = function (offset) {\n    if (offset < 0 || offset >= this.size) {\n      throw new Error(\"Offset \" + offset + \" is out of range.\");\n    }\n\n    if (this.leaf) {\n      return new RenderPosition([{\n        node: this,\n        offset: offset,\n        index: offset\n      }]);\n    }\n\n    var cumulatedOffset = 0;\n\n    for (var n = 0, nn = this.children.length; n < nn; n++) {\n      var child = this.children.at(n);\n      var childSize = child.size;\n\n      if (cumulatedOffset + childSize > offset) {\n        var childPosition = child.resolvePosition(offset - cumulatedOffset);\n        var depths = [{\n          node: this,\n          offset: offset,\n          index: n\n        }];\n\n        for (var m = 0; m < childPosition.depth; m++) {\n          depths.push(childPosition.atDepth(m));\n        }\n\n        return new RenderPosition(depths);\n      }\n\n      cumulatedOffset += childSize;\n    }\n\n    throw new Error('Offset cannot be resolved.');\n  };\n\n  RenderNode.prototype.convertOffsetToModelOffset = function (offset) {\n    if (offset < 0 || offset >= this.size) {\n      throw new Error('Offset is out of range.');\n    }\n\n    var cumulatedSize = 0;\n    var cumulatedModelSize = this.pseudo ? 0 : 1;\n\n    if (this.leaf) {\n      return cumulatedModelSize + offset;\n    }\n\n    for (var n = 0, nn = this.children.length; n < nn; n++) {\n      var child = this.children.at(n);\n      var childSize = child.size;\n\n      if (cumulatedSize + childSize > offset) {\n        return cumulatedModelSize + child.convertOffsetToModelOffset(offset - cumulatedSize);\n      }\n\n      cumulatedSize += childSize;\n      cumulatedModelSize += child.modelSize;\n    }\n\n    throw new Error(\"Offset \" + offset + \" is out of range.\");\n  };\n\n  RenderNode.prototype.convertModelOffsetToOffset = function (modelOffset) {\n    if (modelOffset < 0 || modelOffset >= this.modelSize) {\n      throw new Error('Model offset is out of range.');\n    }\n\n    var cumulatedModelSize = this.pseudo ? 0 : 1;\n    var cumulatedSize = 0;\n\n    if (modelOffset <= cumulatedModelSize) {\n      return 0;\n    }\n\n    if (this.leaf) {\n      return modelOffset - cumulatedModelSize;\n    }\n\n    for (var n = 0, nn = this.children.length; n < nn; n++) {\n      var child = this.children.at(n);\n      var childModelSize = child.modelSize;\n\n      if (cumulatedModelSize + childModelSize > modelOffset) {\n        return cumulatedSize + child.convertModelOffsetToOffset(modelOffset - cumulatedModelSize);\n      }\n\n      cumulatedModelSize += childModelSize;\n      cumulatedSize += child.size;\n    }\n\n    throw new Error(\"Model offset \" + modelOffset + \" is out of range.\");\n  };\n\n  return RenderNode;\n}(Node);\n\nexport { RenderNode };\n\nvar RenderPosition =\n/** @class */\nfunction (_super) {\n  __extends(RenderPosition, _super);\n\n  function RenderPosition() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  return RenderPosition;\n}(Position);\n\nexport { RenderPosition };","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { RenderNode } from './node';\n\nvar RenderDoc =\n/** @class */\nfunction (_super) {\n  __extends(RenderDoc, _super);\n\n  function RenderDoc(componentId, modelId, attributes, children) {\n    return _super.call(this, componentId, modelId, '', attributes, children) || this;\n  }\n\n  Object.defineProperty(RenderDoc.prototype, \"type\", {\n    get: function get() {\n      return 'doc';\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderDoc.prototype, \"root\", {\n    get: function get() {\n      return true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderDoc.prototype, \"leaf\", {\n    get: function get() {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return RenderDoc;\n}(RenderNode);\n\nexport { RenderDoc };","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { Node } from '../tree/node';\nimport { NodeList } from '../tree/node-list';\n\nvar ViewNode =\n/** @class */\nfunction (_super) {\n  __extends(ViewNode, _super);\n\n  function ViewNode(domContainer, componentId, renderId, layoutId, text, style, children, domService) {\n    var _this = _super.call(this, layoutId) || this;\n\n    _this.domContainer = domContainer;\n    _this.componentId = componentId;\n    _this.renderId = renderId;\n    _this.layoutId = layoutId;\n    _this.text = text;\n    _this.style = style;\n    _this.domService = domService;\n    _this.internalChildren = new NodeList(children);\n    children.forEach(function (child) {\n      child.parent = _this;\n    });\n    return _this;\n  }\n\n  Object.defineProperty(ViewNode.prototype, \"size\", {\n    get: function get() {\n      if (this.internalSize === undefined) {\n        if (this.leaf) {\n          this.internalSize = this.text.length;\n        } else {\n          this.internalSize = this.children.reduce(function (size, child) {\n            return size + child.size;\n          }, 0);\n        }\n      }\n\n      return this.internalSize;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return ViewNode;\n}(Node);\n\nexport { ViewNode };","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { ViewNode } from './node';\n\nvar ViewDoc =\n/** @class */\nfunction (_super) {\n  __extends(ViewDoc, _super);\n\n  function ViewDoc(domContainer, componentId, renderId, layoutId, style, children, domService) {\n    var _this = _super.call(this, domContainer, componentId, renderId, layoutId, '', style, children, domService) || this;\n\n    _this.attached = false;\n    return _this;\n  }\n\n  Object.defineProperty(ViewDoc.prototype, \"type\", {\n    get: function get() {\n      return 'doc';\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ViewDoc.prototype, \"root\", {\n    get: function get() {\n      return true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ViewDoc.prototype, \"leaf\", {\n    get: function get() {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return ViewDoc;\n}(ViewNode);\n\nexport { ViewDoc };","var Component =\n/** @class */\nfunction () {\n  function Component(id, serviceRegistry) {\n    this.id = id;\n    this.serviceRegistry = serviceRegistry;\n  }\n\n  return Component;\n}();\n\nexport { Component };","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { ModelRoot } from '../../model/root';\nimport { RenderDoc as AbstractRenderDoc } from '../../render/doc';\nimport { ViewDoc as AbstractViewDoc } from '../../view/doc';\nimport { Component } from '../component';\n\nvar ModelDoc =\n/** @class */\nfunction (_super) {\n  __extends(ModelDoc, _super);\n\n  function ModelDoc() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Object.defineProperty(ModelDoc.prototype, \"partId\", {\n    get: function get() {\n      return 'doc';\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  ModelDoc.prototype.toDOM = function (from, to) {\n    var $element = document.createElement('div');\n    var offset = 1;\n    var children = this.children;\n\n    for (var n = 0, nn = children.length; n < nn && offset < to; n++) {\n      var child = children.at(n);\n      var childSize = child.size;\n      var childFrom = Math.max(0, from - offset);\n      var childTo = Math.min(childFrom + childSize, to - offset);\n      offset += childSize;\n\n      if (childFrom > childSize || childTo < 0) {\n        continue;\n      }\n\n      var $childElement = child.toDOM(childFrom, childTo);\n      $element.appendChild($childElement);\n    }\n\n    return $element;\n  };\n\n  return ModelDoc;\n}(ModelRoot);\n\nexport { ModelDoc };\n\nvar RenderDoc =\n/** @class */\nfunction (_super) {\n  __extends(RenderDoc, _super);\n\n  function RenderDoc(componentId, modelId, attributes, children, width, height, paddingTop, paddingBottom, paddingLeft, paddingRight) {\n    var _this = _super.call(this, componentId, modelId, attributes, children) || this;\n\n    _this.width = width;\n    _this.height = height;\n    _this.paddingTop = paddingTop;\n    _this.paddingBottom = paddingBottom;\n    _this.paddingLeft = paddingLeft;\n    _this.paddingRight = paddingRight;\n    return _this;\n  }\n\n  Object.defineProperty(RenderDoc.prototype, \"partId\", {\n    get: function get() {\n      return 'doc';\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderDoc.prototype, \"pseudo\", {\n    get: function get() {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderDoc.prototype, \"style\", {\n    get: function get() {\n      return {};\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return RenderDoc;\n}(AbstractRenderDoc);\n\nexport { RenderDoc };\n\nvar ViewDoc =\n/** @class */\nfunction (_super) {\n  __extends(ViewDoc, _super);\n\n  function ViewDoc(domContainer, componentId, renderId, layoutId, style, children, domService) {\n    var _this = _super.call(this, domContainer, componentId, renderId, layoutId, style, children, domService) || this;\n\n    _this.domContainer.style.textAlign = 'left';\n    _this.domContainer.style.cursor = 'text';\n    _this.domContainer.style.userSelect = 'none';\n    _this.domContainer.innerHTML = '';\n    var domContentContainer = domService.createElement('div');\n    domContentContainer.setAttribute('data-tw-role', 'content-container');\n    children.map(function (child) {\n      return domContentContainer.appendChild(child.domContainer);\n    });\n\n    _this.domContainer.appendChild(domContentContainer);\n\n    return _this;\n  }\n\n  Object.defineProperty(ViewDoc.prototype, \"partId\", {\n    get: function get() {\n      return 'doc';\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return ViewDoc;\n}(AbstractViewDoc);\n\nexport { ViewDoc };\n\nvar DocComponent =\n/** @class */\nfunction (_super) {\n  __extends(DocComponent, _super);\n\n  function DocComponent() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  DocComponent.prototype.buildModelNode = function (partId, id, text, attributes, children) {\n    return new ModelDoc(this.id, id, attributes, children);\n  };\n\n  DocComponent.prototype.buildRenderNode = function (partId, modelId, text, attributes, children) {\n    var configService = this.serviceRegistry.getService('config');\n\n    switch (partId) {\n      case 'doc':\n        var pageConfig = configService.getConfig().page;\n        return new RenderDoc(this.id, modelId, attributes, children, pageConfig.width, pageConfig.height, pageConfig.paddingTop, pageConfig.paddingBottom, pageConfig.paddingLeft, pageConfig.paddingRight);\n\n      default:\n        throw new Error('Invalid part ID.');\n    }\n  };\n\n  DocComponent.prototype.buildViewNode = function (domContainer, partId, renderId, layoutId, text, style, children, width, height, paddingTop, paddingBottom, paddingLeft, paddingRight) {\n    var domService = this.serviceRegistry.getService('dom');\n\n    switch (partId) {\n      case 'doc':\n        return new ViewDoc(domContainer, this.id, renderId, layoutId, style, children, domService);\n\n      default:\n        throw new Error('Invalid part ID.');\n    }\n  };\n\n  return DocComponent;\n}(Component);\n\nexport { DocComponent };","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { ModelNode } from './node';\n\nvar ModelBranch =\n/** @class */\nfunction (_super) {\n  __extends(ModelBranch, _super);\n\n  function ModelBranch(componentId, id, attributes, children) {\n    var _this = _super.call(this, componentId, id, '', attributes, children) || this;\n\n    if (children.length === 0) {\n      throw new Error('Branch node must have children.');\n    }\n\n    return _this;\n  }\n\n  Object.defineProperty(ModelBranch.prototype, \"root\", {\n    get: function get() {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ModelBranch.prototype, \"leaf\", {\n    get: function get() {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return ModelBranch;\n}(ModelNode);\n\nexport { ModelBranch };","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { RenderNode } from './node';\n\nvar RenderBlock =\n/** @class */\nfunction (_super) {\n  __extends(RenderBlock, _super);\n\n  function RenderBlock(componentId, modelId, attributes, children) {\n    return _super.call(this, componentId, modelId, '', attributes, children) || this;\n  }\n\n  Object.defineProperty(RenderBlock.prototype, \"type\", {\n    get: function get() {\n      return 'block';\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderBlock.prototype, \"root\", {\n    get: function get() {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderBlock.prototype, \"leaf\", {\n    get: function get() {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return RenderBlock;\n}(RenderNode);\n\nexport { RenderBlock };","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { RenderNode } from './node';\n\nvar RenderText =\n/** @class */\nfunction (_super) {\n  __extends(RenderText, _super);\n\n  function RenderText(componentId, modelId, text, attributes) {\n    return _super.call(this, componentId, modelId, text, attributes, []) || this;\n  }\n\n  Object.defineProperty(RenderText.prototype, \"type\", {\n    get: function get() {\n      return 'text';\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderText.prototype, \"root\", {\n    get: function get() {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderText.prototype, \"leaf\", {\n    get: function get() {\n      return true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return RenderText;\n}(RenderNode);\n\nexport { RenderText };","export var DEFAULT_FONT = {\n  weight: 400,\n  size: 16,\n  family: 'sans-serif',\n  letterSpacing: 0,\n  underline: false,\n  italic: false,\n  strikethrough: false,\n  color: 'black'\n};\nexport var BREAKABLE_CHARS = [' ', '\\n', '\\t'];\n\nvar TextService =\n/** @class */\nfunction () {\n  function TextService(domService) {\n    this.$canvas = domService.createElement('canvas');\n  }\n\n  TextService.prototype.measure = function (text, font) {\n    var fontWithDefault = this.applyDefaultFont(font);\n    var ctx = this.$canvas.getContext('2d');\n    var weight = fontWithDefault.weight;\n    var size = fontWithDefault.size;\n    var family = this.fixFontFamily(fontWithDefault.family);\n    var letterSpacing = fontWithDefault.letterSpacing;\n    ctx.font = weight + \" \" + size + \"px \" + family;\n    var measurement = ctx.measureText(text);\n    var width = letterSpacing === 0 || text.length <= 1 ? measurement.width : measurement.width + (text.length - 1) * letterSpacing;\n    return {\n      width: width,\n      height: size\n    };\n  };\n\n  TextService.prototype.breakIntoWords = function (text) {\n    var words = [];\n    var word = '';\n\n    for (var n = 0, nn = text.length; n < nn; n++) {\n      var char = text[n];\n      word += char;\n\n      if (BREAKABLE_CHARS.includes(char)) {\n        words.push({\n          text: word,\n          whitespaceSize: 1\n        });\n        word = '';\n      }\n    }\n\n    if (word.length > 0) {\n      words.push({\n        text: word,\n        whitespaceSize: 0\n      });\n    }\n\n    return words;\n  };\n\n  TextService.prototype.applyDefaultFont = function (font) {\n    var fontConfigWithDefault = {};\n\n    for (var key in DEFAULT_FONT) {\n      if (key in font && font[key] !== undefined) {\n        fontConfigWithDefault[key] = font[key];\n      } else {\n        fontConfigWithDefault[key] = DEFAULT_FONT[key];\n      }\n    }\n\n    return fontConfigWithDefault;\n  };\n\n  TextService.prototype.fixFontFamily = function (fontFamily) {\n    if (fontFamily.indexOf(' ') >= 0) {\n      return \"'\" + fontFamily + \"'\";\n    }\n\n    return fontFamily;\n  };\n\n  return TextService;\n}();\n\nexport { TextService };","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { ViewNode } from './node';\n\nvar ViewBlock =\n/** @class */\nfunction (_super) {\n  __extends(ViewBlock, _super);\n\n  function ViewBlock(domContainer, componentId, renderId, layoutId, style, children, domService) {\n    return _super.call(this, domContainer, componentId, renderId, layoutId, '', style, children, domService) || this;\n  }\n\n  Object.defineProperty(ViewBlock.prototype, \"type\", {\n    get: function get() {\n      return 'block';\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ViewBlock.prototype, \"root\", {\n    get: function get() {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ViewBlock.prototype, \"leaf\", {\n    get: function get() {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return ViewBlock;\n}(ViewNode);\n\nexport { ViewBlock };","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { ViewNode } from './node';\n\nvar ViewText =\n/** @class */\nfunction (_super) {\n  __extends(ViewText, _super);\n\n  function ViewText(domContainer, componentId, renderId, layoutId, text, style, domService) {\n    return _super.call(this, domContainer, componentId, renderId, layoutId, text, style, [], domService) || this;\n  }\n\n  Object.defineProperty(ViewText.prototype, \"type\", {\n    get: function get() {\n      return 'text';\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ViewText.prototype, \"root\", {\n    get: function get() {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ViewText.prototype, \"leaf\", {\n    get: function get() {\n      return true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return ViewText;\n}(ViewNode);\n\nexport { ViewText };","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __spreadArrays = this && this.__spreadArrays || function () {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) {\n    s += arguments[i].length;\n  }\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) {\n    for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) {\n      r[k] = a[j];\n    }\n  }\n\n  return r;\n};\n\nimport { ModelBranch } from '../../model/branch';\nimport { RenderBlock } from '../../render/block';\nimport { RenderText } from '../../render/text';\nimport { DEFAULT_FONT } from '../../text/service';\nimport { ViewBlock } from '../../view/block';\nimport { ViewText } from '../../view/text';\nimport { Component } from '../component';\n\nvar ModelParagraph =\n/** @class */\nfunction (_super) {\n  __extends(ModelParagraph, _super);\n\n  function ModelParagraph() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Object.defineProperty(ModelParagraph.prototype, \"partId\", {\n    get: function get() {\n      return 'paragraph';\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  ModelParagraph.prototype.toDOM = function (from, to) {\n    var $element = document.createElement('p');\n    var offset = 1;\n    var children = this.children;\n\n    for (var n = 0, nn = children.length; n < nn && offset < to; n++) {\n      var childNode = children.at(n);\n      var childSize = childNode.size;\n      var childFrom = Math.max(0, from - offset);\n      var childTo = Math.min(childFrom + childSize, to - offset);\n      offset += childSize;\n\n      if (childFrom > childSize || childTo < 0) {\n        continue;\n      }\n\n      var $childElement = childNode.toDOM(childFrom, childTo);\n      $element.appendChild($childElement);\n    }\n\n    return $element;\n  };\n\n  return ModelParagraph;\n}(ModelBranch);\n\nexport { ModelParagraph };\n\nvar RenderParagraph =\n/** @class */\nfunction (_super) {\n  __extends(RenderParagraph, _super);\n\n  function RenderParagraph(componentId, modelId, attributes, children) {\n    return _super.call(this, componentId, modelId, attributes, __spreadArrays(children, [new RenderParagraphLineBreak(componentId, modelId)])) || this;\n  }\n\n  Object.defineProperty(RenderParagraph.prototype, \"partId\", {\n    get: function get() {\n      return 'paragraph';\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderParagraph.prototype, \"pseudo\", {\n    get: function get() {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderParagraph.prototype, \"paddingTop\", {\n    get: function get() {\n      return 0;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderParagraph.prototype, \"paddingBottom\", {\n    get: function get() {\n      return 12;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderParagraph.prototype, \"paddingLeft\", {\n    get: function get() {\n      return 0;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderParagraph.prototype, \"paddingRight\", {\n    get: function get() {\n      return 0;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderParagraph.prototype, \"style\", {\n    get: function get() {\n      return {};\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  RenderParagraph.prototype.convertOffsetToModelOffset = function (offset) {\n    if (this.size === 1) {\n      return this.resolvePosition(0).depth;\n    }\n\n    if (offset === this.size - 1) {\n      return _super.prototype.convertOffsetToModelOffset.call(this, offset - 1) + 1;\n    }\n\n    return _super.prototype.convertOffsetToModelOffset.call(this, offset);\n  };\n\n  RenderParagraph.prototype.convertModelOffsetToOffset = function (modelOffset) {\n    if (modelOffset <= this.resolvePosition(0).depth) {\n      return 0;\n    }\n\n    if (_super.prototype.convertModelOffsetToOffset.call(this, modelOffset - 1) + 1 >= this.size - 1) {\n      return this.size - 1;\n    }\n\n    return _super.prototype.convertModelOffsetToOffset.call(this, modelOffset);\n  };\n\n  return RenderParagraph;\n}(RenderBlock);\n\nexport { RenderParagraph };\n\nvar RenderParagraphLineBreak =\n/** @class */\nfunction (_super) {\n  __extends(RenderParagraphLineBreak, _super);\n\n  function RenderParagraphLineBreak(componentId, paragraphModelId) {\n    var _this = _super.call(this, componentId, paragraphModelId + \".line-break\", ' ', null) || this;\n\n    _this.componentId = componentId;\n    _this.paragraphModelId = paragraphModelId;\n    return _this;\n  }\n\n  Object.defineProperty(RenderParagraphLineBreak.prototype, \"partId\", {\n    get: function get() {\n      return 'line-break';\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderParagraphLineBreak.prototype, \"pseudo\", {\n    get: function get() {\n      return true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderParagraphLineBreak.prototype, \"paddingTop\", {\n    get: function get() {\n      return 0;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderParagraphLineBreak.prototype, \"paddingBottom\", {\n    get: function get() {\n      return 0;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderParagraphLineBreak.prototype, \"paddingLeft\", {\n    get: function get() {\n      return 0;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderParagraphLineBreak.prototype, \"paddingRight\", {\n    get: function get() {\n      return 0;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderParagraphLineBreak.prototype, \"style\", {\n    get: function get() {\n      return null;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderParagraphLineBreak.prototype, \"font\", {\n    get: function get() {\n      var node = this.previousSibling;\n\n      while (node) {\n        if (node.type === 'text') {\n          return node.font;\n        }\n\n        node = node.previousSibling;\n      }\n\n      return DEFAULT_FONT;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return RenderParagraphLineBreak;\n}(RenderText);\n\nexport { RenderParagraphLineBreak };\n\nvar ViewParagraph =\n/** @class */\nfunction (_super) {\n  __extends(ViewParagraph, _super);\n\n  function ViewParagraph(domContainer, componentId, renderId, layoutId, style, children, width, height, paddingTop, paddingBottom, paddingLeft, paddingRight, domService) {\n    var _this = _super.call(this, domContainer, componentId, renderId, layoutId, style, children, domService) || this;\n\n    _this.domContainer.style.width = width + \"px\";\n    _this.domContainer.style.height = height + \"px\";\n    _this.domContainer.style.paddingTop = paddingTop + \"px\";\n    _this.domContainer.style.paddingBottom = paddingBottom + \"px\";\n    _this.domContainer.style.paddingLeft = paddingLeft + \"px\";\n    _this.domContainer.style.paddingRight = paddingRight + \"px\";\n    _this.domContainer.style.lineHeight = '1em';\n    _this.domContainer.innerHTML = '';\n    children.map(function (child) {\n      return _this.domContainer.appendChild(child.domContainer);\n    });\n    return _this;\n  }\n\n  Object.defineProperty(ViewParagraph.prototype, \"partId\", {\n    get: function get() {\n      return 'paragraph';\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ViewParagraph.prototype, \"domContentContainer\", {\n    get: function get() {\n      return this.domContainer;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return ViewParagraph;\n}(ViewBlock);\n\nexport { ViewParagraph };\n\nvar ViewParagraphLineBreak =\n/** @class */\nfunction (_super) {\n  __extends(ViewParagraphLineBreak, _super);\n\n  function ViewParagraphLineBreak(domContainer, componentId, renderId, layoutId, domService) {\n    return _super.call(this, domContainer, componentId, renderId, layoutId, ' ', null, domService) || this;\n  }\n\n  Object.defineProperty(ViewParagraphLineBreak.prototype, \"partId\", {\n    get: function get() {\n      return 'line-break';\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ViewParagraphLineBreak.prototype, \"domContentContainer\", {\n    get: function get() {\n      return this.domContainer;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return ViewParagraphLineBreak;\n}(ViewText);\n\nexport { ViewParagraphLineBreak };\n\nvar ParagraphComponent =\n/** @class */\nfunction (_super) {\n  __extends(ParagraphComponent, _super);\n\n  function ParagraphComponent() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  ParagraphComponent.prototype.buildModelNode = function (partId, id, text, attributes, children) {\n    return new ModelParagraph(this.id, id, attributes, children);\n  };\n\n  ParagraphComponent.prototype.buildRenderNode = function (partId, modelId, text, attributes, children) {\n    switch (partId) {\n      case 'paragraph':\n        return new RenderParagraph(this.id, modelId, attributes, children);\n\n      default:\n        throw new Error('Invalid part ID.');\n    }\n  };\n\n  ParagraphComponent.prototype.buildViewNode = function (domContainer, partId, renderId, layoutId, text, style, children, width, height, paddingTop, paddingBottom, paddingLeft, paddingRight) {\n    var domService = this.serviceRegistry.getService('dom');\n\n    switch (partId) {\n      case 'paragraph':\n        return new ViewParagraph(domContainer, this.id, renderId, layoutId, style, children, width, height, paddingTop, paddingBottom, paddingLeft, paddingRight, domService);\n\n      case 'line-break':\n        return new ViewParagraphLineBreak(domContainer, this.id, renderId, layoutId, domService);\n\n      default:\n        throw new Error('Invalid part ID.');\n    }\n  };\n\n  return ParagraphComponent;\n}(Component);\n\nexport { ParagraphComponent };","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { ModelNode } from './node';\n\nvar ModelLeaf =\n/** @class */\nfunction (_super) {\n  __extends(ModelLeaf, _super);\n\n  function ModelLeaf(componentId, id, text, attributes) {\n    return _super.call(this, componentId, id, text, attributes, []) || this;\n  }\n\n  Object.defineProperty(ModelLeaf.prototype, \"root\", {\n    get: function get() {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ModelLeaf.prototype, \"leaf\", {\n    get: function get() {\n      return true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return ModelLeaf;\n}(ModelNode);\n\nexport { ModelLeaf };","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { ModelLeaf } from '../../model/leaf';\nimport { RenderText as AbstractRenderText } from '../../render/text';\nimport { ViewText as AbstractViewText } from '../../view/text';\nimport { Component } from '../component';\n\nvar ModelText =\n/** @class */\nfunction (_super) {\n  __extends(ModelText, _super);\n\n  function ModelText() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Object.defineProperty(ModelText.prototype, \"partId\", {\n    get: function get() {\n      return 'text';\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  ModelText.prototype.canJoin = function (node) {\n    if (this.componentId !== node.componentId) {\n      return false;\n    }\n\n    if (this.partId !== node.partId) {\n      return false;\n    }\n\n    if (JSON.stringify(this.attributes) !== JSON.stringify(node.attributes)) {\n      return false;\n    }\n\n    return true;\n  };\n\n  ModelText.prototype.toDOM = function (from, to) {\n    var $component = document.createElement('span');\n    $component.innerText = this.text.substring(from - 1, to - 1);\n    return $component;\n  };\n\n  return ModelText;\n}(ModelLeaf);\n\nexport { ModelText };\n\nvar RenderText =\n/** @class */\nfunction (_super) {\n  __extends(RenderText, _super);\n\n  function RenderText(componentId, modelId, textService, text, attributes) {\n    var _this = _super.call(this, componentId, modelId, text, attributes) || this;\n\n    _this.textService = textService;\n    return _this;\n  }\n\n  Object.defineProperty(RenderText.prototype, \"partId\", {\n    get: function get() {\n      return 'text';\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderText.prototype, \"pseudo\", {\n    get: function get() {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderText.prototype, \"paddingTop\", {\n    get: function get() {\n      return 0;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderText.prototype, \"paddingBottom\", {\n    get: function get() {\n      return 0;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderText.prototype, \"paddingLeft\", {\n    get: function get() {\n      return 0;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderText.prototype, \"paddingRight\", {\n    get: function get() {\n      return 0;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderText.prototype, \"style\", {\n    get: function get() {\n      return this.textService.applyDefaultFont(this.attributes);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(RenderText.prototype, \"font\", {\n    get: function get() {\n      return this.style;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return RenderText;\n}(AbstractRenderText);\n\nexport { RenderText };\n\nvar ViewText =\n/** @class */\nfunction (_super) {\n  __extends(ViewText, _super);\n\n  function ViewText(domContainer, componentId, renderId, layoutId, text, style, width, height, paddingTop, paddingBottom, paddingLeft, paddingRight, domService) {\n    var _this = _super.call(this, domContainer, componentId, renderId, layoutId, text, style, domService) || this;\n\n    _this.domContainer.style.display = 'inline-block';\n    _this.domContainer.style.whiteSpace = 'pre';\n    _this.domContainer.style.lineHeight = '1em';\n    _this.domContainer.style.width = width + \"px\";\n    _this.domContainer.style.height = height + \"px\";\n    _this.domContainer.style.paddingTop = paddingTop + \"px\";\n    _this.domContainer.style.paddingBottom = paddingBottom + \"px\";\n    _this.domContainer.style.paddingLeft = paddingLeft + \"px\";\n    _this.domContainer.style.paddingRight = paddingRight + \"px\";\n    _this.domContainer.style.fontFamily = style.family;\n    _this.domContainer.style.fontSize = style.size + \"px\";\n    _this.domContainer.style.letterSpacing = style.letterSpacing + \"px\";\n    _this.domContainer.style.fontWeight = \"\" + style.weight;\n    _this.domContainer.style.color = style.color;\n    _this.domContainer.style.textDecoration = style.underline ? 'underline' : '';\n    _this.domContainer.style.fontStyle = style.italic ? 'italic' : '';\n    _this.domContainer.innerHTML = '';\n\n    var domContentContainer = _this.findOrCreateDOMContentContainer();\n\n    domContentContainer.setAttribute('data-tw-role', 'content-container');\n    domContentContainer.style.textDecoration = style.strikethrough ? 'line-through' : '';\n    domContentContainer.innerHTML = text;\n\n    _this.domContainer.appendChild(domContentContainer);\n\n    return _this;\n  }\n\n  Object.defineProperty(ViewText.prototype, \"partId\", {\n    get: function get() {\n      return 'text';\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  ViewText.prototype.findOrCreateDOMContentContainer = function () {\n    for (var n = 0, nn = this.domContainer.children.length; n < nn; n++) {\n      var child = this.domContainer.children[n];\n\n      if (child.getAttribute('data-tw-role') === 'content-container') {\n        return child;\n      }\n    }\n\n    return this.domService.createElement('span');\n  };\n\n  return ViewText;\n}(AbstractViewText);\n\nexport { ViewText };\n\nvar TextComponent =\n/** @class */\nfunction (_super) {\n  __extends(TextComponent, _super);\n\n  function TextComponent() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  TextComponent.prototype.buildModelNode = function (partId, id, text, attributes, children) {\n    return new ModelText(this.id, id, text, attributes);\n  };\n\n  TextComponent.prototype.buildRenderNode = function (partId, modelId, text, attributes, children) {\n    var textService = this.serviceRegistry.getService('text');\n\n    switch (partId) {\n      case 'text':\n        return new RenderText(this.id, modelId, textService, text, attributes);\n\n      default:\n        throw new Error('Invalid part ID.');\n    }\n  };\n\n  TextComponent.prototype.buildViewNode = function (domContainer, partId, renderId, layoutId, text, style, children, width, height, paddingTop, paddingBottom, paddingLeft, paddingRight) {\n    var domService = this.serviceRegistry.getService('dom');\n\n    switch (partId) {\n      case 'text':\n        return new ViewText(domContainer, this.id, renderId, layoutId, text, style, width, height, paddingTop, paddingBottom, paddingLeft, paddingRight, domService);\n\n      default:\n        throw new Error('Invalid part ID.');\n    }\n  };\n\n  return TextComponent;\n}(Component);\n\nexport { TextComponent };","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { ViewNode } from './node';\n\nvar ViewLine =\n/** @class */\nfunction (_super) {\n  __extends(ViewLine, _super);\n\n  function ViewLine(domContainer, componentId, layoutId, children, domService) {\n    var _this = _super.call(this, domContainer, componentId, null, layoutId, '', null, children, domService) || this;\n\n    _this.layoutId = layoutId;\n    return _this;\n  }\n\n  Object.defineProperty(ViewLine.prototype, \"type\", {\n    get: function get() {\n      return 'line';\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ViewLine.prototype, \"root\", {\n    get: function get() {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ViewLine.prototype, \"leaf\", {\n    get: function get() {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return ViewLine;\n}(ViewNode);\n\nexport { ViewLine };","var LineComponent =\n/** @class */\nfunction () {\n  function LineComponent(id, serviceRegistry) {\n    this.id = id;\n    this.serviceRegistry = serviceRegistry;\n  }\n\n  return LineComponent;\n}();\n\nexport { LineComponent };","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { ViewLine as AbstractViewLine } from '../../view/line';\nimport { LineComponent as AbstractLineComponent } from '../line-component';\n\nvar ViewLine =\n/** @class */\nfunction (_super) {\n  __extends(ViewLine, _super);\n\n  function ViewLine(domContainer, componentId, layoutId, children, width, height, paddingTop, paddingBottom, paddingLeft, paddingRight, domService) {\n    var _this = _super.call(this, domContainer, componentId, layoutId, children, domService) || this;\n\n    _this.width = width;\n    _this.height = height;\n    _this.paddingTop = paddingTop;\n    _this.paddingBottom = paddingBottom;\n    _this.paddingLeft = paddingLeft;\n    _this.paddingRight = paddingRight;\n    _this.domContainer.style.width = width + \"px\";\n    _this.domContainer.style.height = height + \"px\";\n    _this.domContainer.style.paddingTop = paddingTop + \"px\";\n    _this.domContainer.style.paddingBottom = paddingBottom + \"px\";\n    _this.domContainer.style.paddingLeft = paddingLeft + \"px\";\n    _this.domContainer.style.paddingRight = paddingRight + \"px\";\n    _this.domContainer.innerHTML = '';\n    children.map(function (child) {\n      return _this.domContainer.appendChild(child.domContainer);\n    });\n    return _this;\n  }\n\n  Object.defineProperty(ViewLine.prototype, \"partId\", {\n    get: function get() {\n      return 'line';\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ViewLine.prototype, \"domContentContainer\", {\n    get: function get() {\n      return this.domContainer;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return ViewLine;\n}(AbstractViewLine);\n\nexport { ViewLine };\n\nvar LineComponent =\n/** @class */\nfunction (_super) {\n  __extends(LineComponent, _super);\n\n  function LineComponent() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  LineComponent.prototype.buildViewNode = function (domContainer, layoutId, children, width, height, paddingTop, paddingBottom, paddingLeft, paddingRight) {\n    var domService = this.serviceRegistry.getService('dom');\n    return new ViewLine(domContainer, this.id, layoutId, children, width, height, paddingTop, paddingBottom, paddingLeft, paddingRight, domService);\n  };\n\n  return LineComponent;\n}(AbstractLineComponent);\n\nexport { LineComponent };","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { ViewNode } from './node';\n\nvar ViewPage =\n/** @class */\nfunction (_super) {\n  __extends(ViewPage, _super);\n\n  function ViewPage(domContainer, componentId, layoutId, children, domService) {\n    var _this = _super.call(this, domContainer, componentId, null, layoutId, '', null, children, domService) || this;\n\n    _this.layoutId = layoutId;\n    return _this;\n  }\n\n  Object.defineProperty(ViewPage.prototype, \"type\", {\n    get: function get() {\n      return 'page';\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ViewPage.prototype, \"root\", {\n    get: function get() {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ViewPage.prototype, \"leaf\", {\n    get: function get() {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return ViewPage;\n}(ViewNode);\n\nexport { ViewPage };","var PageComponent =\n/** @class */\nfunction () {\n  function PageComponent(id, serviceRegistry) {\n    this.id = id;\n    this.serviceRegistry = serviceRegistry;\n  }\n\n  return PageComponent;\n}();\n\nexport { PageComponent };","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { ViewPage as AbstractViewPage } from '../../view/page';\nimport { PageComponent as AbstractPageComponent } from '../page-component';\n\nvar ViewPage =\n/** @class */\nfunction (_super) {\n  __extends(ViewPage, _super);\n\n  function ViewPage(domContainer, componentId, layoutId, children, width, height, paddingTop, paddingBottom, paddingLeft, paddingRight, domService) {\n    var _this = _super.call(this, domContainer, componentId, layoutId, children, domService) || this;\n\n    _this.domContainer.style.position = 'relative';\n    _this.domContainer.style.marginLeft = 'auto';\n    _this.domContainer.style.marginRight = 'auto';\n    _this.domContainer.style.width = width + \"px\";\n    _this.domContainer.style.height = height + \"px\";\n    _this.domContainer.style.paddingTop = paddingTop + \"px\";\n    _this.domContainer.style.paddingBottom = paddingBottom + \"px\";\n    _this.domContainer.style.paddingLeft = paddingLeft + \"px\";\n    _this.domContainer.style.paddingRight = paddingRight + \"px\";\n    _this.domContainer.innerHTML = '';\n    _this.domContentContainer = _this.findOrCreateDOMContentContainer();\n\n    _this.domContentContainer.setAttribute('data-tw-role', 'content-container');\n\n    children.map(function (child) {\n      return _this.domContentContainer.appendChild(child.domContainer);\n    });\n\n    _this.domContainer.appendChild(_this.domContentContainer);\n\n    return _this;\n  }\n\n  Object.defineProperty(ViewPage.prototype, \"partId\", {\n    get: function get() {\n      return 'page';\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  ViewPage.prototype.findOrCreateDOMContentContainer = function () {\n    for (var n = 0, nn = this.domContainer.children.length; n < nn; n++) {\n      var child = this.domContainer.children[n];\n\n      if (child.getAttribute('data-tw-role') === 'content-container') {\n        return child;\n      }\n    }\n\n    return this.domService.createElement('div');\n  };\n\n  return ViewPage;\n}(AbstractViewPage);\n\nexport { ViewPage };\n\nvar PageComponent =\n/** @class */\nfunction (_super) {\n  __extends(PageComponent, _super);\n\n  function PageComponent() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  PageComponent.prototype.buildViewNode = function (domContainer, layoutId, children, width, height, paddingTop, paddingBottom, paddingLeft, paddingRight) {\n    var domService = this.serviceRegistry.getService('dom');\n    return new ViewPage(domContainer, this.id, layoutId, children, width, height, paddingTop, paddingBottom, paddingLeft, paddingRight, domService);\n  };\n\n  return PageComponent;\n}(AbstractPageComponent);\n\nexport { PageComponent };","var ComponentRegistry =\n/** @class */\nfunction () {\n  function ComponentRegistry() {\n    this.componentsMap = new Map();\n  }\n\n  ComponentRegistry.prototype.registerComponent = function (componentId, component) {\n    this.componentsMap.set(componentId, component);\n  };\n\n  ComponentRegistry.prototype.registerPageComponent = function (pageComponent) {\n    this.pageComponent = pageComponent;\n  };\n\n  ComponentRegistry.prototype.registerLineComponent = function (lineComponent) {\n    this.lineComponent = lineComponent;\n  };\n\n  ComponentRegistry.prototype.getComponent = function (componentId) {\n    var component = this.componentsMap.get(componentId);\n\n    if (!component) {\n      throw new Error(\"Component \" + componentId + \" is not registered.\");\n    }\n\n    return component;\n  };\n\n  ComponentRegistry.prototype.getPageComponent = function () {\n    if (!this.pageComponent) {\n      throw new Error('Page component is not registered.');\n    }\n\n    return this.pageComponent;\n  };\n\n  ComponentRegistry.prototype.getLineComponent = function () {\n    if (!this.lineComponent) {\n      throw new Error('Line component is not registered.');\n    }\n\n    return this.lineComponent;\n  };\n\n  return ComponentRegistry;\n}();\n\nexport { ComponentRegistry };","import { LineComponent } from './components/line';\nimport { PageComponent } from './components/page';\nimport { ComponentRegistry } from './registry';\n\nvar ComponentService =\n/** @class */\nfunction () {\n  function ComponentService(configService, serviceRegistry) {\n    this.configService = configService;\n    this.serviceRegistry = serviceRegistry;\n    this.registry = new ComponentRegistry();\n\n    for (var _i = 0, _a = Object.entries(configService.getConfig().components); _i < _a.length; _i++) {\n      var _b = _a[_i],\n          componentId = _b[0],\n          Component = _b[1];\n      this.registry.registerComponent(componentId, new Component(componentId, serviceRegistry));\n    }\n\n    this.registry.registerPageComponent(new PageComponent('page', serviceRegistry));\n    this.registry.registerLineComponent(new LineComponent('line', serviceRegistry));\n  }\n\n  ComponentService.prototype.getComponent = function (componentId) {\n    return this.registry.getComponent(componentId);\n  };\n\n  ComponentService.prototype.getPageComponent = function () {\n    return this.registry.getPageComponent();\n  };\n\n  ComponentService.prototype.getLineComponent = function () {\n    return this.registry.getLineComponent();\n  };\n\n  return ComponentService;\n}();\n\nexport { ComponentService };","var ConfigService =\n/** @class */\nfunction () {\n  function ConfigService(config, externalConfig) {\n    this.config = config;\n    this.applyExternalConfig(externalConfig);\n  }\n\n  ConfigService.prototype.getConfig = function () {\n    return this.config;\n  };\n\n  ConfigService.prototype.applyExternalConfig = function (externalConfig) {\n    var coreConfig = externalConfig['tw.core'];\n\n    if (coreConfig) {\n      if (coreConfig.page) {\n        this.config.page = coreConfig.page;\n      }\n    }\n  };\n\n  return ConfigService;\n}();\n\nexport { ConfigService };","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport { EventEmitter } from '../event/emitter';\n\nvar CursorState =\n/** @class */\nfunction () {\n  function CursorState(configService, renderService, modelService) {\n    this.renderService = renderService;\n    this.modelService = modelService;\n    this.internalCursor = null;\n    this.didUpdateEventEmitter = new EventEmitter();\n\n    if (!configService.getConfig().cursor.disable) {\n      this.internalCursor = {\n        anchor: 0,\n        head: 0,\n        leftLock: 0\n      };\n    }\n  }\n\n  Object.defineProperty(CursorState.prototype, \"hasCursor\", {\n    get: function get() {\n      return !!this.internalCursor;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CursorState.prototype, \"cursor\", {\n    get: function get() {\n      this.assertCursor();\n      return __assign({}, this.internalCursor);\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  CursorState.prototype.set = function (anchor, head) {\n    this.assertCursor();\n    this.internalCursor = {\n      anchor: anchor,\n      head: head,\n      leftLock: this.internalCursor.leftLock\n    };\n    this.didUpdateEventEmitter.emit({});\n  };\n\n  CursorState.prototype.setLeftLock = function (leftLock) {\n    this.assertCursor();\n    this.internalCursor = {\n      anchor: this.internalCursor.anchor,\n      head: this.internalCursor.head,\n      leftLock: leftLock\n    };\n  };\n\n  CursorState.prototype.onDidUpdate = function (listener) {\n    return this.didUpdateEventEmitter.on(listener);\n  };\n\n  CursorState.prototype.assertCursor = function () {\n    if (!this.internalCursor) {\n      throw new Error('Cursor is disabled.');\n    }\n  };\n\n  return CursorState;\n}();\n\nexport { CursorState };","import { CursorState } from './state';\n\nvar CursorService =\n/** @class */\nfunction () {\n  function CursorService(configService, renderService, modelService) {\n    this.state = new CursorState(configService, renderService, modelService);\n  }\n\n  CursorService.prototype.hasCursor = function () {\n    return this.state.hasCursor;\n  };\n\n  CursorService.prototype.getCursor = function () {\n    return this.state.cursor;\n  };\n\n  CursorService.prototype.setCursor = function (anchor, head) {\n    this.state.set(anchor, head);\n  };\n\n  CursorService.prototype.setLeftLock = function (leftLock) {\n    this.state.setLeftLock(leftLock);\n  };\n\n  CursorService.prototype.onDidUpdate = function (listener) {\n    return this.state.onDidUpdate(listener);\n  };\n\n  return CursorService;\n}();\n\nexport { CursorService };","var DOMService =\n/** @class */\nfunction () {\n  function DOMService() {}\n\n  DOMService.prototype.getWindow = function () {\n    return window;\n  };\n\n  DOMService.prototype.getDocument = function () {\n    return document;\n  };\n\n  DOMService.prototype.getBody = function () {\n    return document.body;\n  };\n\n  DOMService.prototype.createElement = function (tagName) {\n    return document.createElement(tagName);\n  };\n\n  DOMService.prototype.createContainer = function () {\n    var container = this.createElement('div');\n    container.setAttribute('data-tw-role', 'container');\n    return container;\n  };\n\n  DOMService.prototype.createHiddenIframe = function () {\n    var iframe = this.createElement('iframe');\n    iframe.scrolling = 'no';\n    iframe.src = 'about:blank';\n    iframe.style.width = '0';\n    iframe.style.height = '0';\n    iframe.style.border = 'none';\n    iframe.style.position = 'fixed';\n    iframe.style.zIndex = '-1';\n    iframe.style.opacity = '0';\n    iframe.style.overflow = 'hidden';\n    iframe.style.left = '-1000000px';\n    iframe.style.top = '-1000000px';\n    return iframe;\n  };\n\n  DOMService.prototype.createMutationObserver = function (callback) {\n    return new MutationObserver(callback);\n  };\n\n  return DOMService;\n}();\n\nexport { DOMService };","var HistoryAction =\n/** @class */\nfunction () {\n  function HistoryAction() {\n    this.internalTransformationResults = [];\n    this.beganAt = Date.now();\n    this.internalEndedAt = this.beganAt;\n  }\n\n  Object.defineProperty(HistoryAction.prototype, \"endedAt\", {\n    get: function get() {\n      return this.internalEndedAt;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(HistoryAction.prototype, \"transformationResults\", {\n    get: function get() {\n      return this.internalTransformationResults;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  HistoryAction.prototype.recordTransformationResult = function (transformationResult) {\n    this.transformationResults.push(transformationResult);\n    this.internalEndedAt = Date.now();\n  };\n\n  return HistoryAction;\n}();\n\nexport { HistoryAction };","import { HistoryAction } from './action';\n\nvar HistoryState =\n/** @class */\nfunction () {\n  function HistoryState(configService, transformService) {\n    var _this = this;\n\n    this.configService = configService;\n    this.transformService = transformService;\n    this.actions = [];\n    this.offset = -1;\n\n    this.handleDidApplyTransformation = function (event) {\n      var result = event.result; // Do not record undo\n\n      if (_this.offset + 1 < _this.actions.length && _this.actions[_this.offset + 1].transformationResults.some(function (tnResult) {\n        return tnResult.reverseTransformation === result.transformation;\n      })) {\n        return;\n      } // Do not record redo\n\n\n      if (_this.offset >= 0 && _this.actions[_this.offset].transformationResults.some(function (tnResult) {\n        return tnResult.transformation === result.transformation;\n      })) {\n        return;\n      }\n\n      if (_this.offset < 0) {\n        _this.recordToNewAction(result);\n\n        return;\n      }\n\n      var currentItem = _this.actions[_this.offset];\n      var now = Date.now();\n\n      if (now - currentItem.beganAt < _this.maxCollapseDuration && now - currentItem.endedAt < _this.collapseThreshold) {\n        _this.recordToLastAction(result);\n      } else {\n        _this.recordToNewAction(result);\n      }\n    };\n\n    var config = configService.getConfig();\n    this.maxCollapseDuration = config.history.maxCollapseDuration;\n    this.collapseThreshold = config.history.collapseThreshold;\n    transformService.onDidApplyTransformation(this.handleDidApplyTransformation);\n  }\n\n  HistoryState.prototype.undo = function () {\n    var action = this.consumeNextUndoableAction();\n\n    if (!action) {\n      return;\n    }\n\n    var results = action.transformationResults;\n\n    if (results.length === 0) {\n      return;\n    }\n\n    for (var n = results.length - 1; n >= 0; n--) {\n      var result = results[n];\n      this.transformService.applyTransformation(result.reverseTransformation);\n    }\n  };\n\n  HistoryState.prototype.redo = function () {\n    var _this = this;\n\n    var action = this.consumeNextRedoableAction();\n\n    if (!action) {\n      return;\n    }\n\n    action.transformationResults.forEach(function (result) {\n      return _this.transformService.applyTransformation(result.transformation);\n    });\n  };\n\n  HistoryState.prototype.consumeNextUndoableAction = function () {\n    if (this.offset < 0) {\n      return undefined;\n    }\n\n    var action = this.actions[this.offset];\n    this.offset--;\n    return action;\n  };\n\n  HistoryState.prototype.consumeNextRedoableAction = function () {\n    if (this.offset >= this.actions.length - 1) {\n      return undefined;\n    }\n\n    this.offset++;\n    return this.actions[this.offset];\n  };\n\n  HistoryState.prototype.recordToNewAction = function (result) {\n    if (result.changeResults.length === 0) {\n      return;\n    }\n\n    if (this.offset < this.actions.length - 1) {\n      this.actions.splice(this.offset + 1, this.actions.length - 1 - this.offset);\n    }\n\n    var action = new HistoryAction();\n    action.recordTransformationResult(result);\n    this.actions.push(action);\n    this.offset++;\n  };\n\n  HistoryState.prototype.recordToLastAction = function (result) {\n    var action = this.actions[this.offset];\n\n    if (!action) {\n      throw new Error('Error recording applied transformation, history is empty.');\n    }\n\n    if (this.offset < this.actions.length - 1) {\n      this.actions.splice(this.offset + 1, this.actions.length - 1 - this.offset);\n    }\n\n    action.recordTransformationResult(result);\n  };\n\n  return HistoryState;\n}();\n\nexport { HistoryState };","import { HistoryState } from './state';\n\nvar HistoryService =\n/** @class */\nfunction () {\n  function HistoryService(configService, transformService) {\n    this.state = new HistoryState(configService, transformService);\n  }\n\n  HistoryService.prototype.undo = function () {\n    this.state.undo();\n  };\n\n  HistoryService.prototype.redo = function () {\n    this.state.redo();\n  };\n\n  return HistoryService;\n}();\n\nexport { HistoryService };","export function detectPlatform() {\n  if (navigator.platform.startsWith('Linux')) {\n    return 'Linux';\n  }\n\n  if (['Windows', 'Win16', 'Win32'].includes(navigator.platform)) {\n    return 'Windows';\n  }\n\n  if (['Macintosh', 'MacIntel', 'MacPPC', 'Mac68K'].includes(navigator.platform)) {\n    return 'macOS';\n  }\n\n  return 'Unknown';\n}","var __spreadArrays = this && this.__spreadArrays || function () {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) {\n    s += arguments[i].length;\n  }\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) {\n    for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) {\n      r[k] = a[j];\n    }\n  }\n\n  return r;\n};\n\nimport { detectPlatform } from '../util/platform';\n\nvar KeyBindingService =\n/** @class */\nfunction () {\n  function KeyBindingService(configService, commandService, viewService) {\n    var _this = this;\n\n    this.configService = configService;\n    this.commandService = commandService;\n    this.viewService = viewService;\n    this.keyBindings = new Map();\n\n    this.handleDidPressKey = function (event) {\n      var _a;\n\n      var keyBinding = _this.keyBindings.get(event.key);\n\n      if (!keyBinding) {\n        return;\n      }\n\n      if (keyBinding.preventDefault) {\n        event.originalKeyboardEvent.preventDefault();\n      }\n\n      (_a = _this.commandService).executeCommand.apply(_a, __spreadArrays([keyBinding.command], keyBinding.args));\n    };\n\n    var keyBindingsConfig = this.configService.getConfig().keyBindings;\n    this.bindKeys(keyBindingsConfig.common);\n\n    switch (detectPlatform()) {\n      case 'macOS':\n        if (keyBindingsConfig.macos) {\n          this.bindKeys(keyBindingsConfig.macos);\n        }\n\n        break;\n\n      case 'Windows':\n        if (keyBindingsConfig.windows) {\n          this.bindKeys(keyBindingsConfig.windows);\n        }\n\n        break;\n\n      case 'Linux':\n        if (keyBindingsConfig.linux) {\n          this.bindKeys(keyBindingsConfig.linux);\n        }\n\n        break;\n    }\n\n    viewService.onDidPressKey(this.handleDidPressKey);\n  }\n\n  KeyBindingService.prototype.bindKeys = function (config) {\n    for (var key in config) {\n      var binding = config[key];\n      this.keyBindings.set(key, {\n        command: binding.command,\n        args: binding.args || [],\n        preventDefault: binding.preventDefault || false\n      });\n    }\n  };\n\n  return KeyBindingService;\n}();\n\nexport { KeyBindingService };","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { Node } from '../tree/node';\nimport { NodeList } from '../tree/node-list';\nimport { Position } from '../tree/position';\nimport { generateId } from '../util/id';\n\nvar LayoutNode =\n/** @class */\nfunction (_super) {\n  __extends(LayoutNode, _super);\n\n  function LayoutNode(renderId, text, children, paddingTop, paddingBottom, paddingLeft, paddingRight) {\n    var _this = _super.call(this, generateId()) || this;\n\n    _this.renderId = renderId;\n    _this.text = text;\n    _this.paddingTop = paddingTop;\n    _this.paddingBottom = paddingBottom;\n    _this.paddingLeft = paddingLeft;\n    _this.paddingRight = paddingRight;\n    _this.internalNeedView = true;\n    _this.internalChildren = new NodeList(children);\n    children.forEach(function (child) {\n      child.parent = _this;\n    });\n    return _this;\n  }\n\n  Object.defineProperty(LayoutNode.prototype, \"size\", {\n    get: function get() {\n      if (this.internalSize === undefined) {\n        if (this.leaf) {\n          this.internalSize = this.text.length;\n        } else {\n          this.internalSize = this.children.reduce(function (size, child) {\n            return size + child.size;\n          }, 0);\n        }\n      }\n\n      return this.internalSize;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(LayoutNode.prototype, \"paddingVertical\", {\n    get: function get() {\n      return this.paddingTop + this.paddingBottom;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(LayoutNode.prototype, \"paddingHorizontal\", {\n    get: function get() {\n      return this.paddingLeft + this.paddingRight;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(LayoutNode.prototype, \"innerWidth\", {\n    get: function get() {\n      return this.width - this.paddingHorizontal;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(LayoutNode.prototype, \"innerHeight\", {\n    get: function get() {\n      return this.height - this.paddingVertical;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(LayoutNode.prototype, \"needView\", {\n    get: function get() {\n      return this.internalNeedView;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  LayoutNode.prototype.clearNeedView = function () {\n    this.internalNeedView = false;\n  };\n\n  LayoutNode.prototype.resolvePosition = function (offset) {\n    if (offset < 0 || offset >= this.size) {\n      throw new Error(\"Offset \" + offset + \" is out of range.\");\n    }\n\n    if (this.leaf) {\n      return new LayoutPosition([{\n        node: this,\n        offset: offset,\n        index: offset\n      }]);\n    }\n\n    var cumulatedOffset = 0;\n\n    for (var n = 0, nn = this.children.length; n < nn; n++) {\n      var child = this.children.at(n);\n      var childSize = child.size;\n\n      if (cumulatedOffset + childSize > offset) {\n        var childPosition = child.resolvePosition(offset - cumulatedOffset);\n        var depths = [{\n          node: this,\n          offset: offset,\n          index: n\n        }];\n\n        for (var m = 0; m < childPosition.depth; m++) {\n          depths.push(childPosition.atDepth(m));\n        }\n\n        return new LayoutPosition(depths);\n      }\n\n      cumulatedOffset += childSize;\n    }\n\n    throw new Error('Offset cannot be resolved.');\n  };\n\n  return LayoutNode;\n}(Node);\n\nexport { LayoutNode };\n\nvar LayoutPosition =\n/** @class */\nfunction (_super) {\n  __extends(LayoutPosition, _super);\n\n  function LayoutPosition() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  LayoutPosition.prototype.atLineDepth = function () {\n    for (var n = this.depth - 1; n >= 0; n--) {\n      var depth = this.atDepth(n);\n\n      if (depth.node.type === 'line') {\n        return depth;\n      }\n    }\n\n    throw new Error('Line depth not found.');\n  };\n\n  LayoutPosition.prototype.atBlockDepth = function () {\n    for (var n = this.depth - 1; n >= 0; n--) {\n      var depth = this.atDepth(n);\n\n      if (depth.node.type === 'block') {\n        return depth;\n      }\n    }\n\n    throw new Error('Block depth not found.');\n  };\n\n  return LayoutPosition;\n}(Position);\n\nexport { LayoutPosition };","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { LayoutNode } from './node';\n\nvar LayoutAtom =\n/** @class */\nfunction (_super) {\n  __extends(LayoutAtom, _super);\n\n  function LayoutAtom(renderId, width, height) {\n    var _this = _super.call(this, renderId, ' ', [], 0, 0, 0, 0) || this;\n\n    _this.width = width;\n    _this.height = height;\n    return _this;\n  }\n\n  Object.defineProperty(LayoutAtom.prototype, \"type\", {\n    get: function get() {\n      return 'atom';\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(LayoutAtom.prototype, \"root\", {\n    get: function get() {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(LayoutAtom.prototype, \"leaf\", {\n    get: function get() {\n      return true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  LayoutAtom.prototype.convertCoordinatesToOffset = function (x, y) {\n    if (x < this.innerWidth / 2) {\n      return 0;\n    }\n\n    return 1;\n  };\n\n  LayoutAtom.prototype.resolveBoundingBoxes = function (from, to) {\n    if (from < 0 || to > this.size || from > to) {\n      throw new Error('Invalid range.');\n    }\n\n    return {\n      node: this,\n      boundingBoxes: [{\n        from: from,\n        to: to,\n        width: from === to ? 0 : this.innerWidth,\n        height: this.innerHeight,\n        left: from === 0 ? this.paddingLeft : this.paddingLeft + this.innerWidth,\n        right: to === 1 ? this.paddingRight : this.paddingRight + this.innerWidth,\n        top: this.paddingTop,\n        bottom: this.paddingBottom\n      }],\n      children: []\n    };\n  };\n\n  return LayoutAtom;\n}(LayoutNode);\n\nexport { LayoutAtom };","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { LayoutNode } from './node';\n\nvar LayoutBlock =\n/** @class */\nfunction (_super) {\n  __extends(LayoutBlock, _super);\n\n  function LayoutBlock(renderId, children, width, paddingTop, paddingBottom, paddingLeft, paddingRight) {\n    var _this = _super.call(this, renderId, '', children, paddingTop, paddingBottom, paddingLeft, paddingRight) || this;\n\n    _this.width = width;\n    return _this;\n  }\n\n  Object.defineProperty(LayoutBlock.prototype, \"type\", {\n    get: function get() {\n      return 'block';\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(LayoutBlock.prototype, \"root\", {\n    get: function get() {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(LayoutBlock.prototype, \"leaf\", {\n    get: function get() {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(LayoutBlock.prototype, \"height\", {\n    get: function get() {\n      if (this.internalHeight === undefined) {\n        this.internalHeight = this.children.reduce(function (height, child) {\n          return height + child.height;\n        }, this.paddingVertical);\n      }\n\n      return this.internalHeight;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  LayoutBlock.prototype.convertCoordinatesToOffset = function (x, y) {\n    var offset = 0;\n    var cumulatedHeight = 0;\n\n    for (var n = 0, nn = this.children.length; n < nn; n++) {\n      var child = this.children.at(n);\n      var childHeight = child.height;\n\n      if (y >= cumulatedHeight && y <= cumulatedHeight + childHeight) {\n        offset += child.convertCoordinatesToOffset(x, 0);\n        break;\n      }\n\n      offset += child.size;\n      cumulatedHeight += childHeight;\n    }\n\n    if (offset === this.size) {\n      var lastChild = this.lastChild;\n\n      if (lastChild) {\n        offset -= lastChild.size;\n        offset += lastChild.convertCoordinatesToOffset(x, lastChild.height);\n      }\n    }\n\n    return offset;\n  };\n\n  LayoutBlock.prototype.resolveBoundingBoxes = function (from, to) {\n    var _this = this;\n\n    if (from < 0 || to > this.size || from > to) {\n      throw new Error('Invalid range.');\n    }\n\n    var childResults = [];\n    var boundingBoxes = [];\n    var cumulatedOffset = 0;\n    var cumulatedHeight = 0;\n    this.children.forEach(function (child) {\n      if (cumulatedOffset + child.size > from && cumulatedOffset <= to) {\n        var childFrom_1 = Math.max(0, from - cumulatedOffset);\n        var childTo_1 = Math.min(child.size, to - cumulatedOffset);\n        var childResult = child.resolveBoundingBoxes(childFrom_1, childTo_1);\n        childResults.push(childResult);\n        childResult.boundingBoxes.forEach(function (boundingBox) {\n          boundingBoxes.push({\n            from: cumulatedOffset + childFrom_1,\n            to: cumulatedOffset + childTo_1,\n            width: boundingBox.width,\n            height: boundingBox.height,\n            top: cumulatedHeight + _this.paddingTop + boundingBox.top,\n            bottom: _this.height - _this.paddingTop - cumulatedHeight - child.height + boundingBox.bottom,\n            left: boundingBox.left,\n            right: boundingBox.right\n          });\n        });\n      }\n\n      cumulatedOffset += child.size;\n      cumulatedHeight += child.height;\n    });\n    return {\n      node: this,\n      boundingBoxes: boundingBoxes,\n      children: childResults\n    };\n  };\n\n  return LayoutBlock;\n}(LayoutNode);\n\nexport { LayoutBlock };","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { LayoutNode } from './node';\n\nvar LayoutDoc =\n/** @class */\nfunction (_super) {\n  __extends(LayoutDoc, _super);\n\n  function LayoutDoc(renderId, children, width, height, paddingTop, paddingBottom, paddingLeft, paddingRight) {\n    var _this = _super.call(this, renderId, '', children, paddingTop, paddingBottom, paddingLeft, paddingRight) || this;\n\n    _this.width = width;\n    _this.height = height;\n    return _this;\n  }\n\n  Object.defineProperty(LayoutDoc.prototype, \"type\", {\n    get: function get() {\n      return 'doc';\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(LayoutDoc.prototype, \"root\", {\n    get: function get() {\n      return true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(LayoutDoc.prototype, \"leaf\", {\n    get: function get() {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  LayoutDoc.prototype.convertCoordinatesToOffset = function (x, y) {\n    throw new Error('Use page to convert coordinates to offset.');\n  };\n\n  LayoutDoc.prototype.resolveBoundingBoxes = function (from, to) {\n    if (from < 0 || to > this.size || from > to) {\n      throw new Error('Invalid range.');\n    }\n\n    var childResults = [];\n    var cumulatedOffset = 0;\n    this.children.forEach(function (child) {\n      if (cumulatedOffset + child.size > from && cumulatedOffset <= to) {\n        var childFrom = Math.max(0, from - cumulatedOffset);\n        var childTo = Math.min(child.size, to - cumulatedOffset);\n        var childResult = child.resolveBoundingBoxes(childFrom, childTo);\n        childResults.push(childResult);\n      }\n\n      cumulatedOffset += child.size;\n    });\n    return {\n      node: this,\n      boundingBoxes: [],\n      children: childResults\n    };\n  };\n\n  return LayoutDoc;\n}(LayoutNode);\n\nexport { LayoutDoc };","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { LayoutNode } from './node';\n\nvar LayoutLine =\n/** @class */\nfunction (_super) {\n  __extends(LayoutLine, _super);\n\n  function LayoutLine(children, width) {\n    var _this = _super.call(this, null, '', children, 0, 8, 0, 0) || this;\n\n    _this.width = width;\n    return _this;\n  }\n\n  Object.defineProperty(LayoutLine.prototype, \"type\", {\n    get: function get() {\n      return 'line';\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(LayoutLine.prototype, \"root\", {\n    get: function get() {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(LayoutLine.prototype, \"leaf\", {\n    get: function get() {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(LayoutLine.prototype, \"height\", {\n    get: function get() {\n      if (this.internalHeight === undefined) {\n        this.internalHeight = this.children.reduce(function (height, child) {\n          return Math.max(height, child.height);\n        }, 0) + this.paddingVertical;\n      }\n\n      return this.internalHeight;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(LayoutLine.prototype, \"contentWidth\", {\n    get: function get() {\n      if (this.internalContentWidth === undefined) {\n        this.internalContentWidth = this.children.reduce(function (contentWidth, child) {\n          return contentWidth + child.width;\n        }, 0);\n      }\n\n      return this.internalContentWidth;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  LayoutLine.prototype.convertCoordinatesToOffset = function (x, y) {\n    var offset = 0;\n    var cumulatedWidth = 0;\n\n    for (var n = 0, nn = this.children.length; n < nn; n++) {\n      var child = this.children.at(n);\n      var childWidth = child.width;\n\n      if (x >= cumulatedWidth && x <= cumulatedWidth + childWidth) {\n        offset += child.convertCoordinatesToOffset(x - cumulatedWidth, 0);\n        break;\n      }\n\n      offset += child.size;\n      cumulatedWidth += childWidth;\n    }\n\n    if (offset === this.size) {\n      var lastChild = this.lastChild;\n\n      if (lastChild && lastChild.type === 'text') {\n        var lastWord = lastChild.lastChild;\n\n        if (lastWord && lastWord.whitespaceSize > 0) {\n          offset--;\n        }\n      }\n    }\n\n    return offset;\n  };\n\n  LayoutLine.prototype.resolveBoundingBoxes = function (from, to) {\n    if (from < 0 || to > this.size || from > to) {\n      throw new Error('Invalid range.');\n    }\n\n    var childResults = [];\n    var cumulatedOffset = 0;\n    var left1 = null;\n    var left2 = 0;\n\n    for (var n = 0, nn = this.children.length; n < nn; n++) {\n      if (cumulatedOffset > to) {\n        break;\n      }\n\n      var child = this.children.at(n);\n\n      if (cumulatedOffset + child.size > from) {\n        var childFrom = Math.max(0, from - cumulatedOffset);\n        var childTo = Math.min(child.size, to - cumulatedOffset);\n        var childResult = child.resolveBoundingBoxes(childFrom, childTo);\n        childResults.push(childResult);\n\n        if (left1 === null) {\n          left1 = left2 + childResult.boundingBoxes[0].left;\n        }\n\n        left2 += childResult.boundingBoxes.slice(0, childResult.boundingBoxes.length - 1).reduce(function (width, box) {\n          return width + box.left + box.width + box.right;\n        }, 0);\n        left2 += childResult.boundingBoxes[0].left + childResult.boundingBoxes[0].width;\n      } else {\n        left2 += child.width;\n      }\n\n      cumulatedOffset += child.size;\n    }\n\n    return {\n      node: this,\n      boundingBoxes: [{\n        from: from,\n        to: to,\n        width: left2 - left1,\n        height: from === to ? this.innerHeight : this.height,\n        left: this.paddingLeft + left1,\n        right: this.width - this.paddingLeft - left2,\n        top: from === to ? this.paddingTop : 0,\n        bottom: from === to ? this.paddingBottom : 0\n      }],\n      children: childResults\n    };\n  };\n\n  return LayoutLine;\n}(LayoutNode);\n\nexport { LayoutLine };","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { LayoutNode } from './node';\n\nvar LayoutPage =\n/** @class */\nfunction (_super) {\n  __extends(LayoutPage, _super);\n\n  function LayoutPage(children, width, height, paddingTop, paddingBottom, paddingLeft, paddingRight) {\n    var _this = _super.call(this, null, '', children, paddingTop, paddingBottom, paddingLeft, paddingRight) || this;\n\n    _this.width = width;\n    _this.height = height;\n    return _this;\n  }\n\n  Object.defineProperty(LayoutPage.prototype, \"type\", {\n    get: function get() {\n      return 'page';\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(LayoutPage.prototype, \"root\", {\n    get: function get() {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(LayoutPage.prototype, \"leaf\", {\n    get: function get() {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(LayoutPage.prototype, \"contentHeight\", {\n    get: function get() {\n      if (this.internalContentHeight === undefined) {\n        this.internalContentHeight = this.children.reduce(function (contentHeight, child) {\n          return contentHeight + child.height;\n        }, 0);\n      }\n\n      return this.internalContentHeight;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  LayoutPage.prototype.convertCoordinatesToOffset = function (x, y) {\n    var offset = 0;\n    var cumulatedHeight = 0;\n    var contentX = Math.min(Math.max(x - this.paddingLeft, 0), this.innerWidth);\n    var contentY = Math.min(Math.max(y - this.paddingTop, 0), this.innerHeight);\n\n    for (var n = 0, nn = this.children.length; n < nn; n++) {\n      var child = this.children.at(n);\n      var childHeight = child.height;\n\n      if (contentY >= cumulatedHeight && contentY <= cumulatedHeight + childHeight) {\n        offset += child.convertCoordinatesToOffset(contentX, contentY - cumulatedHeight);\n        break;\n      }\n\n      offset += child.size;\n      cumulatedHeight += childHeight;\n    }\n\n    if (offset === this.size) {\n      var lastChild = this.lastChild;\n\n      if (lastChild) {\n        offset -= lastChild.size;\n        offset += lastChild.convertCoordinatesToOffset(contentX, lastChild.height);\n      }\n    }\n\n    return offset;\n  };\n\n  LayoutPage.prototype.resolveBoundingBoxes = function (from, to) {\n    var _this = this;\n\n    if (from < 0 || to > this.size || from > to) {\n      throw new Error('Invalid range.');\n    }\n\n    var childResults = [];\n    var boundingBoxes = [];\n    var cumulatedOffset = 0;\n    var cumulatedHeight = 0;\n    this.children.forEach(function (child) {\n      if (cumulatedOffset + child.size > from && cumulatedOffset <= to) {\n        var childFrom_1 = Math.max(0, from - cumulatedOffset);\n        var childTo_1 = Math.min(child.size, to - cumulatedOffset);\n        var childResult = child.resolveBoundingBoxes(childFrom_1, childTo_1);\n        childResults.push(childResult);\n        childResult.boundingBoxes.forEach(function (boundingBox) {\n          boundingBoxes.push({\n            from: cumulatedOffset + childFrom_1,\n            to: cumulatedOffset + childTo_1,\n            width: boundingBox.width,\n            height: boundingBox.height,\n            top: cumulatedHeight + _this.paddingTop + boundingBox.top,\n            bottom: _this.height - _this.paddingTop - cumulatedHeight - child.height + boundingBox.bottom,\n            left: boundingBox.left + _this.paddingLeft,\n            right: boundingBox.right + _this.paddingRight\n          });\n        });\n      }\n\n      cumulatedOffset += child.size;\n      cumulatedHeight += child.height;\n    });\n    return {\n      node: this,\n      boundingBoxes: boundingBoxes,\n      children: childResults\n    };\n  };\n\n  return LayoutPage;\n}(LayoutNode);\n\nexport { LayoutPage };","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { LayoutNode } from './node';\n\nvar LayoutText =\n/** @class */\nfunction (_super) {\n  __extends(LayoutText, _super);\n\n  function LayoutText(renderId, children, paddingTop, paddingBottom, paddingLeft, paddingRight, font) {\n    var _this = _super.call(this, renderId, '', children, paddingTop, paddingBottom, paddingLeft, paddingRight) || this;\n\n    _this.font = font;\n    return _this;\n  }\n\n  Object.defineProperty(LayoutText.prototype, \"type\", {\n    get: function get() {\n      return 'text';\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(LayoutText.prototype, \"root\", {\n    get: function get() {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(LayoutText.prototype, \"leaf\", {\n    get: function get() {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(LayoutText.prototype, \"width\", {\n    get: function get() {\n      if (this.internalWidth === undefined) {\n        this.internalWidth = this.children.reduce(function (width, child) {\n          return width + child.width;\n        }, this.paddingHorizontal);\n      }\n\n      return this.internalWidth;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(LayoutText.prototype, \"height\", {\n    get: function get() {\n      if (this.internalHeight === undefined) {\n        this.internalHeight = this.children.reduce(function (height, child) {\n          return Math.max(height, child.height);\n        }, 0) + this.paddingVertical;\n      }\n\n      return this.internalHeight;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(LayoutText.prototype, \"trimmedWidth\", {\n    get: function get() {\n      if (this.internalTrimmedWidth === undefined) {\n        var lastChild = this.lastChild;\n\n        if (!lastChild) {\n          this.internalTrimmedWidth = 0;\n        } else {\n          this.internalTrimmedWidth = this.width - lastChild.width + lastChild.trimmedWidth;\n        }\n      }\n\n      return this.internalTrimmedWidth;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  LayoutText.prototype.convertCoordinatesToOffset = function (x, y) {\n    var offset = 0;\n    var cumulatedWidth = 0;\n\n    for (var n = 0, nn = this.children.length; n < nn; n++) {\n      var child = this.children.at(n);\n      var childWidth = child.width;\n\n      if (cumulatedWidth + childWidth >= x) {\n        offset += child.convertCoordinatesToOffset(x - cumulatedWidth, 0);\n        break;\n      }\n\n      offset += child.size;\n      cumulatedWidth += childWidth;\n    }\n\n    return offset;\n  };\n\n  LayoutText.prototype.resolveBoundingBoxes = function (from, to) {\n    if (from < 0 || to > this.size || from > to) {\n      throw new Error('Invalid range.');\n    }\n\n    var childResults = [];\n    var cumulatedOffset = 0;\n    var left1 = null;\n    var left2 = 0;\n\n    for (var n = 0, nn = this.children.length; n < nn; n++) {\n      if (cumulatedOffset > to) {\n        break;\n      }\n\n      var child = this.children.at(n);\n\n      if (cumulatedOffset + child.size > from) {\n        var childFrom = Math.max(0, from - cumulatedOffset);\n        var childTo = Math.min(child.size, to - cumulatedOffset);\n        var childResult = child.resolveBoundingBoxes(childFrom, childTo);\n        childResults.push(childResult);\n\n        if (left1 === null) {\n          left1 = left2 + childResult.boundingBoxes[0].left;\n        }\n\n        left2 += childResult.boundingBoxes.slice(0, childResult.boundingBoxes.length - 1).reduce(function (width, box) {\n          return width + box.left + box.width + box.right;\n        }, 0);\n        left2 += childResult.boundingBoxes[0].left + childResult.boundingBoxes[0].width;\n      } else {\n        left2 += child.width;\n      }\n\n      cumulatedOffset += child.size;\n    }\n\n    return {\n      node: this,\n      boundingBoxes: [{\n        from: from,\n        to: to,\n        width: left2 - left1,\n        height: this.innerHeight,\n        left: this.paddingLeft + left1,\n        right: this.width - this.paddingLeft - left2,\n        top: this.paddingTop,\n        bottom: this.paddingBottom\n      }],\n      children: childResults\n    };\n  };\n\n  return LayoutText;\n}(LayoutNode);\n\nexport { LayoutText };","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { LayoutNode } from './node';\n\nvar LayoutWord =\n/** @class */\nfunction (_super) {\n  __extends(LayoutWord, _super);\n\n  function LayoutWord(renderId, text, whitespaceSize, font, textService) {\n    var _this = _super.call(this, renderId, text, [], 0, 0, 0, 0) || this;\n\n    _this.whitespaceSize = whitespaceSize;\n    _this.font = font;\n    _this.textService = textService;\n    return _this;\n  }\n\n  Object.defineProperty(LayoutWord.prototype, \"type\", {\n    get: function get() {\n      return 'word';\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(LayoutWord.prototype, \"root\", {\n    get: function get() {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(LayoutWord.prototype, \"leaf\", {\n    get: function get() {\n      return true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(LayoutWord.prototype, \"width\", {\n    get: function get() {\n      var _a;\n\n      if (this.internalWidth === undefined) {\n        _a = this.measure(), this.internalWidth = _a[0], this.internalHeight = _a[1];\n      }\n\n      return this.internalWidth;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(LayoutWord.prototype, \"height\", {\n    get: function get() {\n      var _a;\n\n      if (this.internalHeight === undefined) {\n        _a = this.measure(), this.internalWidth = _a[0], this.internalHeight = _a[1];\n      }\n\n      return this.internalHeight;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(LayoutWord.prototype, \"trimmedWidth\", {\n    get: function get() {\n      if (this.internalTrimmedWidth === undefined) {\n        var trimmedText = this.text.substring(0, this.text.length - this.whitespaceSize);\n        this.internalTrimmedWidth = this.textService.measure(trimmedText, this.font).width;\n      }\n\n      return this.internalTrimmedWidth;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  LayoutWord.prototype.convertCoordinatesToOffset = function (x, y) {\n    var lastWidth = 0;\n    var text = this.text;\n\n    for (var n = 0, nn = text.length; n < nn; n++) {\n      var measurement = this.textService.measure(text.substring(0, n), this.font);\n      var width_1 = measurement.width;\n\n      if (width_1 < x) {\n        lastWidth = width_1;\n        continue;\n      }\n\n      if (x - lastWidth < width_1 - x) {\n        return n - 1;\n      }\n\n      return n;\n    }\n\n    var width = this.width;\n\n    if (x - lastWidth < width - x) {\n      return text.length - 1;\n    }\n\n    return text.length;\n  };\n\n  LayoutWord.prototype.resolveBoundingBoxes = function (from, to) {\n    if (from < 0 || to > this.size || from > to) {\n      throw new Error('Invalid range.');\n    }\n\n    if (from === 0 && to === this.size) {\n      return {\n        node: this,\n        boundingBoxes: [{\n          from: from,\n          to: to,\n          width: this.innerWidth,\n          height: this.innerHeight,\n          left: this.paddingLeft,\n          right: this.paddingRight,\n          top: this.paddingTop,\n          bottom: this.paddingBottom\n        }],\n        children: []\n      };\n    }\n\n    if (from === to) {\n      var left = this.textService.measure(this.text.slice(0, from), this.font).width;\n      return {\n        node: this,\n        boundingBoxes: [{\n          from: from,\n          to: to,\n          width: 0,\n          height: this.innerHeight,\n          left: this.paddingLeft + left,\n          right: this.width - this.paddingLeft - left,\n          top: this.paddingTop,\n          bottom: this.paddingBottom\n        }],\n        children: []\n      };\n    }\n\n    var left1 = this.textService.measure(this.text.slice(0, from), this.font).width;\n    var left2 = this.textService.measure(this.text.slice(0, to), this.font).width;\n    return {\n      node: this,\n      boundingBoxes: [{\n        from: from,\n        to: to,\n        width: left2 - left1,\n        height: this.innerHeight,\n        left: this.paddingLeft + left1,\n        right: this.innerWidth - this.paddingLeft - left2,\n        top: this.paddingTop,\n        bottom: this.paddingBottom\n      }],\n      children: []\n    };\n  };\n\n  LayoutWord.prototype.breakAt = function (offset) {\n    return [new LayoutWord(this.renderId, this.text.substring(0, offset), 0, this.font, this.textService), new LayoutWord(this.renderId, this.text.substring(offset), this.whitespaceSize, this.font, this.textService)];\n  };\n\n  LayoutWord.prototype.measure = function () {\n    var measurement = this.textService.measure(this.text, this.font);\n    return [measurement.width, measurement.height];\n  };\n\n  return LayoutWord;\n}(LayoutNode);\n\nexport { LayoutWord };","import { LayoutAtom } from './atom';\nimport { LayoutBlock } from './block';\nimport { LayoutDoc } from './doc';\nimport { LayoutLine } from './line';\nimport { LayoutPage } from './page';\nimport { LayoutText } from './text';\nimport { LayoutWord } from './word';\n\nvar LayoutEngine =\n/** @class */\nfunction () {\n  function LayoutEngine(textService) {\n    this.textService = textService;\n  }\n\n  LayoutEngine.prototype.updateDoc = function (doc, renderDoc) {\n    var _this = this;\n\n    if (!renderDoc.needLayout && doc) {\n      return doc;\n    }\n\n    var pages = [];\n    var childrenMap = {};\n\n    if (doc) {\n      doc.children.forEach(function (page) {\n        pages.push(page);\n        page.children.forEach(function (child) {\n          if (!child.renderId) {\n            throw new Error('Render ID missing on layout node.');\n          }\n\n          childrenMap[child.renderId] = childrenMap[child.renderId] || [];\n          childrenMap[child.renderId].push(child);\n        });\n      });\n    }\n\n    var newChildren = [];\n    renderDoc.children.forEach(function (child) {\n      switch (child.type) {\n        case 'block':\n          newChildren.push.apply(newChildren, _this.updateBlock(childrenMap[child.id] || [], child, renderDoc.width - renderDoc.paddingLeft - renderDoc.paddingRight));\n          break;\n\n        default:\n          throw new Error(\"Child type \" + child.type + \" is invalid.\");\n      }\n    });\n    renderDoc.clearNeedLayout();\n    return this.buildDoc(renderDoc, this.reflowPages(pages, newChildren, renderDoc.width, renderDoc.height, renderDoc.paddingTop, renderDoc.paddingBottom, renderDoc.paddingLeft, renderDoc.paddingRight));\n  };\n\n  LayoutEngine.prototype.updateBlock = function (blocks, renderBlock, width) {\n    var _this = this;\n\n    if (!renderBlock.needLayout && blocks.length > 0) {\n      return blocks;\n    }\n\n    var lines = [];\n    var childrenMap = {};\n\n    for (var _i = 0, blocks_1 = blocks; _i < blocks_1.length; _i++) {\n      var block = blocks_1[_i];\n      block.children.forEach(function (line) {\n        lines.push(line);\n        line.children.forEach(function (child) {\n          if (!child.renderId) {\n            throw new Error('Render ID missing on layout node.');\n          }\n\n          childrenMap[child.renderId] = childrenMap[child.renderId] || [];\n          childrenMap[child.renderId].push(child);\n        });\n      });\n    }\n\n    var newChildren = [];\n    renderBlock.children.forEach(function (renderChild) {\n      switch (renderChild.type) {\n        case 'text':\n          newChildren.push.apply(newChildren, _this.updateText(childrenMap[renderChild.id] || [], renderChild));\n          break;\n\n        case 'atom':\n          newChildren.push.apply(newChildren, _this.updateAtom(childrenMap[renderChild.id] || [], renderChild));\n          break;\n\n        default:\n          throw new Error(\"Child type \" + renderChild.type + \" is invalid.\");\n      }\n    });\n    renderBlock.clearNeedLayout();\n    return [this.buildBlock(renderBlock, this.reflowLines(lines, newChildren, width - renderBlock.paddingLeft - renderBlock.paddingRight), width)];\n  };\n\n  LayoutEngine.prototype.updateText = function (texts, renderText) {\n    var _this = this;\n\n    if (!renderText.needLayout && texts.length > 0) {\n      return texts;\n    }\n\n    var newChildren = [];\n    this.textService.breakIntoWords(renderText.text).forEach(function (word) {\n      newChildren.push(_this.buildWord(renderText, word.text, word.whitespaceSize));\n    });\n    renderText.clearNeedLayout();\n    return [this.buildText(renderText, newChildren)];\n  };\n\n  LayoutEngine.prototype.updateAtom = function (atoms, renderAtom) {\n    if (!renderAtom.needLayout && atoms.length > 0) {\n      return atoms;\n    }\n\n    renderAtom.clearNeedLayout();\n    return [this.buildAtom(renderAtom)];\n  };\n\n  LayoutEngine.prototype.buildDoc = function (renderDoc, children) {\n    return new LayoutDoc(renderDoc.id, children, renderDoc.width, renderDoc.height, renderDoc.paddingTop, renderDoc.paddingBottom, renderDoc.paddingLeft, renderDoc.paddingRight);\n  };\n\n  LayoutEngine.prototype.buildBlock = function (renderBlock, children, width) {\n    if (renderBlock.type !== 'block') {\n      throw new Error('Expected block.');\n    }\n\n    return new LayoutBlock(renderBlock.id, children, width, renderBlock.paddingTop, renderBlock.paddingBottom, renderBlock.paddingLeft, renderBlock.paddingRight);\n  };\n\n  LayoutEngine.prototype.buildText = function (renderText, children) {\n    if (renderText.type !== 'text') {\n      throw new Error('Expected text.');\n    }\n\n    return new LayoutText(renderText.id, children, renderText.paddingTop, renderText.paddingBottom, renderText.paddingLeft, renderText.paddingRight, renderText.font);\n  };\n\n  LayoutEngine.prototype.buildWord = function (renderText, text, whitespaceSize) {\n    if (renderText.type !== 'text') {\n      throw new Error('Expected text.');\n    }\n\n    return new LayoutWord(renderText.id, text, whitespaceSize, renderText.font, this.textService);\n  };\n\n  LayoutEngine.prototype.buildAtom = function (renderAtom) {\n    if (renderAtom.type !== 'atom') {\n      throw new Error('Expected atom.');\n    }\n\n    return new LayoutAtom(renderAtom.id, renderAtom.width, renderAtom.height);\n  };\n\n  LayoutEngine.prototype.reflowPages = function (pages, nodes, width, height, paddingTop, paddingBottom, paddingLeft, paddingRight) {\n    var innerHeight = height - paddingTop - paddingBottom;\n    nodes = nodes.slice();\n    var newPages = [];\n\n    while (nodes.length > 0) {\n      if (newPages.length < pages.length) {\n        var page = pages[newPages.length];\n        var reflowNeeded = false;\n\n        for (var n = 0, nn = page.children.length; n < nn; n++) {\n          var child = page.children.at(n);\n\n          if (child.id !== nodes[n].id) {\n            reflowNeeded = true;\n            break;\n          }\n        }\n\n        if (!reflowNeeded) {\n          newPages.push(page);\n          nodes.splice(0, page.children.length);\n          continue;\n        }\n      }\n\n      var newChildren = [];\n      var currentHeight = 0; // Push whole nodes to page until either no more node or no longer fit\n\n      var node = nodes.shift();\n\n      while (node && currentHeight + node.height <= innerHeight) {\n        newChildren.push(node);\n        currentHeight += node.height;\n        node = nodes.shift();\n      } // If there is remainder node, try to push part of it to page\n\n\n      if (node) {\n        var nodeChildren = [];\n\n        for (var m = 0, mm = node.children.length; m < mm; m++) {\n          var nodeChild = node.children.at(m);\n\n          if (currentHeight + nodeChild.height + node.paddingVertical > innerHeight) {\n            break;\n          }\n\n          nodeChildren.push(nodeChild);\n          currentHeight += nodeChild.height;\n        }\n\n        if (nodeChildren.length > 0) {\n          switch (node.type) {\n            case 'block':\n              // Split block to two, one to push to this page, other goes back\n              // to list of nodes to process\n              var node1 = new LayoutBlock(node.renderId, nodeChildren, width, node.paddingTop, node.paddingBottom, node.paddingLeft, node.paddingRight);\n              newChildren.push(node1);\n              currentHeight += node1.height;\n              var node2 = new LayoutBlock(node.renderId, node.children.slice(nodeChildren.length), width, node.paddingTop, node.paddingBottom, node.paddingLeft, node.paddingRight);\n              nodes.unshift(node2);\n              break;\n\n            default:\n              throw new Error('Invalid node type encountered while reflowing page.');\n          }\n        } else {\n          nodes.unshift(node);\n        }\n      }\n\n      var newPage = new LayoutPage(newChildren, width, height, paddingTop, paddingBottom, paddingLeft, paddingRight);\n      newPages.push(newPage);\n    }\n\n    return newPages;\n  };\n\n  LayoutEngine.prototype.reflowLines = function (lines, nodes, width) {\n    nodes = nodes.slice();\n    var newLines = [];\n\n    while (nodes.length > 0) {\n      if (newLines.length < newLines.length) {\n        var line = lines[newLines.length];\n        var reflowNeeded = false;\n\n        for (var n = 0, nn = line.children.length; n < nn; n++) {\n          var child = line.children.at(n);\n\n          if (child.id !== nodes[n].id) {\n            reflowNeeded = true;\n            break;\n          }\n        }\n\n        if (!reflowNeeded) {\n          newLines.push(line);\n          nodes.splice(0, line.children.length);\n          continue;\n        }\n      }\n\n      var newChildren = [];\n      var currentWidth = 0; // Push whole nodes to line until either no more node or no longer fit\n\n      var node = nodes.shift();\n\n      while (node && currentWidth + node.width <= width) {\n        newChildren.push(node);\n        currentWidth += node.width;\n        node = nodes.shift();\n      } // If there is remainder node, try to push part of it to line\n\n\n      if (node) {\n        var nodeChildren = node.children.slice();\n        var newNodeChildren = [];\n\n        for (var m = 0; m < nodeChildren.length; m++) {\n          var nodeChild = nodeChildren[m];\n\n          if (nodeChild.type === 'word' && nodeChild.width > width) {\n            var breakAt = nodeChild.convertCoordinatesToOffset(width, 0);\n\n            if (nodeChild.resolveBoundingBoxes(breakAt, breakAt).boundingBoxes[0].left > width) {\n              breakAt--;\n            }\n\n            var _a = nodeChild.breakAt(breakAt),\n                brokenNodeChild1 = _a[0],\n                brokenNodeChild2 = _a[1];\n\n            nodeChild = brokenNodeChild1;\n            nodeChildren.splice(m, 1, brokenNodeChild1, brokenNodeChild2);\n          }\n\n          if (currentWidth + nodeChild.width > width) {\n            break;\n          }\n\n          newNodeChildren.push(nodeChild);\n          currentWidth += nodeChild.width;\n        }\n\n        if (newNodeChildren.length > 0) {\n          switch (node.type) {\n            case 'text':\n              // Split text to two, one to push to this line, other goes back\n              // to list of nodes to process\n              var text = node;\n              var node1 = new LayoutText(text.renderId, newNodeChildren, text.paddingTop, text.paddingBottom, text.paddingLeft, text.paddingRight, text.font);\n              newChildren.push(node1);\n              currentWidth += node1.width;\n              var node2 = new LayoutText(text.renderId, nodeChildren.slice(newNodeChildren.length), text.paddingTop, text.paddingBottom, text.paddingLeft, text.paddingRight, text.font);\n              nodes.unshift(node2);\n              break;\n\n            case 'atom':\n              // If atom is wider than line and line is empty, push atom to line\n              // and let it clip\n              if (node.width > width && newChildren.length === 0) {\n                newChildren.push(node);\n              } else {\n                // Atom cannot be split, goes back to list of nodes to process\n                nodes.unshift(node);\n              }\n\n              break;\n\n            default:\n              throw new Error('Invalid node type encountered while reflowing page.');\n          }\n        } else {\n          nodes.unshift(node);\n        }\n      }\n\n      var newLine = new LayoutLine(newChildren, width);\n      newLines.push(newLine);\n    }\n\n    return newLines;\n  };\n\n  return LayoutEngine;\n}();\n\nexport { LayoutEngine };","import { EventEmitter } from '../event/emitter';\nimport { LayoutEngine } from './engine';\n\nvar LayoutState =\n/** @class */\nfunction () {\n  function LayoutState(renderService, textService) {\n    var _this = this;\n\n    this.renderService = renderService;\n    this.textService = textService;\n    this.didUpdateLayoutStateEventEmitter = new EventEmitter();\n    this.engine = new LayoutEngine(textService);\n    this.internalDoc = this.engine.updateDoc(null, renderService.getDoc());\n    renderService.onDidUpdateRenderState(function (event) {\n      return _this.handleDidUpdateRenderStateEvent(event);\n    });\n  }\n\n  Object.defineProperty(LayoutState.prototype, \"doc\", {\n    get: function get() {\n      return this.internalDoc;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  LayoutState.prototype.onDidUpdateLayoutState = function (listener) {\n    return this.didUpdateLayoutStateEventEmitter.on(listener);\n  };\n\n  LayoutState.prototype.handleDidUpdateRenderStateEvent = function (event) {\n    this.update();\n  };\n\n  LayoutState.prototype.update = function () {\n    var renderDoc = this.renderService.getDoc();\n    this.internalDoc = this.engine.updateDoc(this.doc, renderDoc);\n    this.didUpdateLayoutStateEventEmitter.emit({});\n  };\n\n  return LayoutState;\n}();\n\nexport { LayoutState };","import { LayoutState } from './state';\n\nvar LayoutService =\n/** @class */\nfunction () {\n  function LayoutService(renderService, textService) {\n    this.state = new LayoutState(renderService, textService);\n  }\n\n  LayoutService.prototype.onDidUpdateLayoutState = function (listener) {\n    this.state.onDidUpdateLayoutState(listener);\n  };\n\n  LayoutService.prototype.getDoc = function () {\n    return this.state.doc;\n  };\n\n  LayoutService.prototype.resolvePosition = function (offset) {\n    return this.state.doc.resolvePosition(offset);\n  };\n\n  LayoutService.prototype.resolveBoundingBoxes = function (from, to) {\n    return this.state.doc.resolveBoundingBoxes(from, to);\n  };\n\n  return LayoutService;\n}();\n\nexport { LayoutService };","import { EventEmitter } from '../event/emitter';\n\nvar ModelState =\n/** @class */\nfunction () {\n  function ModelState(root, componentService) {\n    this.root = root;\n    this.componentService = componentService;\n    this.didUpdateEventEmitter = new EventEmitter();\n  }\n\n  ModelState.prototype.applyChange = function (change) {\n    var changeResult = change.apply(this.root, this.componentService);\n    this.didUpdateEventEmitter.emit({\n      changeResult: changeResult\n    });\n    return changeResult;\n  };\n\n  ModelState.prototype.onDidUpdate = function (listener) {\n    return this.didUpdateEventEmitter.on(listener);\n  };\n\n  return ModelState;\n}();\n\nexport { ModelState };","import { ModelState } from './state';\n\nvar ModelService =\n/** @class */\nfunction () {\n  function ModelService(root, componentService) {\n    this.state = new ModelState(root, componentService);\n  }\n\n  ModelService.prototype.getRoot = function () {\n    return this.state.root;\n  };\n\n  ModelService.prototype.getRootSize = function () {\n    return this.state.root.size;\n  };\n\n  ModelService.prototype.applyChange = function (change) {\n    return this.state.applyChange(change);\n  };\n\n  ModelService.prototype.resolvePosition = function (offset) {\n    return this.state.root.resolvePosition(offset);\n  };\n\n  ModelService.prototype.toDOM = function (from, to) {\n    return this.state.root.toDOM(from, to);\n  };\n\n  ModelService.prototype.fromDOM = function (domNodes) {\n    return [this.getRoot()];\n  };\n\n  ModelService.prototype.onDidUpdateModelState = function (listener) {\n    this.state.onDidUpdate(listener);\n  };\n\n  return ModelService;\n}();\n\nexport { ModelService };","import { EventEmitter } from '../event/emitter';\n\nvar RenderState =\n/** @class */\nfunction () {\n  function RenderState(componentService, modelService) {\n    var _this = this;\n\n    this.componentService = componentService;\n    this.modelService = modelService;\n    this.didUpdateRenderStateEventEmitter = new EventEmitter();\n    var modelRoot = modelService.getRoot();\n    this.internalDoc = this.updateNode(null, modelRoot);\n    modelService.onDidUpdateModelState(function (event) {\n      return _this.handleDidUpdateModelState(event);\n    });\n  }\n\n  RenderState.prototype.onDidUpdateRenderState = function (listener) {\n    return this.didUpdateRenderStateEventEmitter.on(listener);\n  };\n\n  Object.defineProperty(RenderState.prototype, \"doc\", {\n    get: function get() {\n      return this.internalDoc;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  RenderState.prototype.handleDidUpdateModelState = function (event) {\n    this.update();\n  };\n\n  RenderState.prototype.update = function () {\n    var modelRoot = this.modelService.getRoot();\n    this.internalDoc = this.updateNode(this.doc, modelRoot);\n    this.didUpdateRenderStateEventEmitter.emit({});\n  };\n\n  RenderState.prototype.updateNode = function (node, modelNode) {\n    var _this = this;\n\n    if (!modelNode.needRender && node) {\n      return node;\n    }\n\n    var childrenMap = {};\n\n    if (node) {\n      node.children.forEach(function (child) {\n        if (!child.modelId) {\n          return;\n        }\n\n        childrenMap[child.modelId] = child;\n      });\n    }\n\n    var newChildren = [];\n    modelNode.children.forEach(function (modelChild) {\n      newChildren.push(_this.updateNode(childrenMap[modelChild.id] || null, modelChild));\n    });\n    modelNode.clearNeedRender();\n    return this.buildNode(modelNode, newChildren);\n  };\n\n  RenderState.prototype.buildNode = function (modelNode, children) {\n    var component = this.componentService.getComponent(modelNode.componentId);\n    var node = component.buildRenderNode(modelNode.partId, modelNode.id, modelNode.text, modelNode.attributes, children);\n\n    if (!node) {\n      throw new Error(\"Error building render node from model node \" + modelNode.id + \".\");\n    }\n\n    return node;\n  };\n\n  return RenderState;\n}();\n\nexport { RenderState };","import { RenderState } from './state';\n\nvar RenderService =\n/** @class */\nfunction () {\n  function RenderService(componentService, modelService) {\n    this.state = new RenderState(componentService, modelService);\n  }\n\n  RenderService.prototype.onDidUpdateRenderState = function (listener) {\n    this.state.onDidUpdateRenderState(listener);\n  };\n\n  RenderService.prototype.getDoc = function () {\n    return this.state.doc;\n  };\n\n  RenderService.prototype.getDocSize = function () {\n    return this.state.doc.size;\n  };\n\n  RenderService.prototype.convertOffsetToModelOffset = function (offset) {\n    return this.state.doc.convertOffsetToModelOffset(offset);\n  };\n\n  RenderService.prototype.convertModelOffsetToOffset = function (modelOffset) {\n    return this.state.doc.convertModelOffsetToOffset(modelOffset);\n  };\n\n  RenderService.prototype.resolvePosition = function (offset) {\n    return this.state.doc.resolvePosition(offset);\n  };\n\n  RenderService.prototype.getStylesBetween = function (from, to) {\n    var styles = {};\n    var doc = this.state.doc;\n    this.extractStyle(styles, doc, from, to);\n    return styles;\n  };\n\n  RenderService.prototype.extractStyle = function (styles, node, from, to) {\n    var _this = this;\n\n    if (from > to) {\n      return;\n    }\n\n    var componentStyles = styles[node.componentId] = styles[node.componentId] || {};\n    var partStyles = componentStyles[node.partId || ''] = componentStyles[node.partId || ''] || [];\n    partStyles.push(node.style);\n    var position = 0;\n    node.children.forEach(function (child) {\n      var childSize = child.size;\n\n      if (to - position >= 0 && from - position < childSize) {\n        var childFrom = Math.max(0, Math.min(childSize, from - position));\n        var childTo = Math.max(0, Math.min(childSize, to - position));\n\n        _this.extractStyle(styles, child, childFrom, childTo);\n      }\n\n      position += childSize;\n    });\n  };\n\n  return RenderService;\n}();\n\nexport { RenderService };","var ServiceRegistry =\n/** @class */\nfunction () {\n  function ServiceRegistry() {\n    this.services = {};\n  }\n\n  ServiceRegistry.prototype.registerService = function (key, service) {\n    this.services[key] = service;\n  };\n\n  ServiceRegistry.prototype.getService = function (key) {\n    var service = this.services[key];\n\n    if (!service) {\n      throw new Error(\"Service \" + key + \" is not registered.\");\n    }\n\n    return service;\n  };\n\n  return ServiceRegistry;\n}();\n\nexport { ServiceRegistry };","import { EventEmitter } from '../event/emitter';\n\nvar TransformService =\n/** @class */\nfunction () {\n  function TransformService(modelService, componentService, cursorService, renderService, layoutService) {\n    this.modelService = modelService;\n    this.componentService = componentService;\n    this.cursorService = cursorService;\n    this.renderService = renderService;\n    this.layoutService = layoutService;\n    this.didApplyTransformationEventEmitter = new EventEmitter();\n  }\n\n  TransformService.prototype.applyTransformation = function (tn) {\n    var result = tn.apply(this.modelService, this.cursorService, this.renderService, this.layoutService);\n    this.didApplyTransformationEventEmitter.emit({\n      result: result\n    });\n    return result;\n  };\n\n  TransformService.prototype.onDidApplyTransformation = function (listener) {\n    return this.didApplyTransformationEventEmitter.on(listener);\n  };\n\n  return TransformService;\n}();\n\nexport { TransformService };","var CursorView =\n/** @class */\nfunction () {\n  function CursorView(instanceId, configService, domService, cursorService, layoutService, viewService, transformService) {\n    var _this = this;\n\n    this.instanceId = instanceId;\n    this.configService = configService;\n    this.domService = domService;\n    this.cursorService = cursorService;\n    this.layoutService = layoutService;\n    this.viewService = viewService;\n    this.transformService = transformService;\n    this.blinkInterval = null;\n    this.blinkState = true;\n    this.domSelections = [];\n    this.attached = false;\n    var cursorConfig = configService.getConfig().cursor;\n    this.caretColor = cursorConfig.caretColor;\n    this.caretInactiveColor = cursorConfig.caretInactiveColor;\n    this.selectionColor = cursorConfig.selectionColor;\n    this.selectionInactiveColor = cursorConfig.selectionInactiveColor;\n    this.domCaret = domService.createElement('div');\n    this.domCaret.className = 'tw--cursor--caret';\n    this.domCaret.setAttribute('data-tw-instance', this.instanceId);\n    this.domCaret.style.position = 'absolute';\n    this.domCaret.style.userSelect = 'none';\n    this.domCaret.style.pointerEvents = 'none';\n    this.domCaret.style.width = '2px';\n    this.domCaret.style.marginLeft = '-1px';\n    transformService.onDidApplyTransformation(function (event) {\n      return _this.handleDidApplyTransformation(event);\n    });\n    viewService.onDidFocus(function (event) {\n      return _this.handleDidFocus(event);\n    });\n    viewService.onDidBlur(function (event) {\n      return _this.handleDidBlur(event);\n    });\n  }\n\n  CursorView.prototype.attach = function () {\n    if (this.attached) {\n      throw new Error('Already attached to the DOM.');\n    }\n\n    this.attached = true;\n    this.updateView();\n  };\n\n  CursorView.prototype.updateView = function () {\n    var _this = this;\n\n    if (!this.attached) {\n      return;\n    }\n\n    this.clearDOMSelections();\n\n    var _a = this.cursorService.getCursor(),\n        anchor = _a.anchor,\n        head = _a.head;\n\n    var from = Math.min(anchor, head);\n    var to = Math.max(anchor, head);\n    var docBoxResult = this.layoutService.resolveBoundingBoxes(from, to);\n    var viewDoc = this.viewService.getDoc();\n    var layoutDoc = this.layoutService.getDoc();\n    var focused = this.viewService.isFocused();\n    var firstPageId = '';\n    var firstBoxOffset = -1;\n    var lastPageId = '';\n    var lastBoxOffset = -1;\n    docBoxResult.children.forEach(function (pageBoxResult) {\n      var pageOffset = layoutDoc.children.indexOf(pageBoxResult.node);\n      var viewPage = viewDoc.children.at(pageOffset);\n      var domContentContainer = viewPage.domContentContainer;\n      pageBoxResult.boundingBoxes.forEach(function (box, boxOffset) {\n        if (!firstPageId) {\n          firstPageId = pageBoxResult.node.id;\n          firstBoxOffset = boxOffset;\n        }\n\n        lastPageId = pageBoxResult.node.id;\n        lastBoxOffset = boxOffset;\n\n        if (box.width === 0) {\n          return;\n        }\n\n        var domSelection = _this.buildDOMSelection(box);\n\n        if (focused) {\n          domSelection.style.background = _this.selectionColor;\n        } else {\n          domSelection.style.background = _this.selectionInactiveColor;\n        }\n\n        domContentContainer.appendChild(domSelection);\n\n        _this.domSelections.push(domSelection);\n      });\n    });\n    var headPageId;\n    var headLeft;\n    var headTop;\n    var headHeight;\n\n    if (head < anchor) {\n      headPageId = firstPageId;\n      var rect = docBoxResult.children.find(function (child) {\n        return child.node.id === firstPageId;\n      }).boundingBoxes[firstBoxOffset];\n      headLeft = rect.left;\n      headTop = rect.top;\n      headHeight = rect.height;\n    } else {\n      headPageId = lastPageId;\n      var rect = docBoxResult.children.find(function (child) {\n        return child.node.id === lastPageId;\n      }).boundingBoxes[lastBoxOffset];\n      headLeft = rect.left + rect.width;\n      headTop = rect.top;\n      headHeight = rect.height;\n    }\n\n    if (head === anchor) {\n      this.domCaret.style.display = 'block';\n      this.domCaret.style.top = headTop + \"px\";\n      this.domCaret.style.left = headLeft + \"px\";\n      this.domCaret.style.height = headHeight + \"px\";\n\n      if (focused) {\n        this.domCaret.style.background = this.caretColor;\n      } else {\n        this.domCaret.style.background = this.caretInactiveColor;\n      }\n\n      var pageDOMContentContainer = viewDoc.children.find(function (child) {\n        return child.id === headPageId;\n      }).domContentContainer;\n\n      if (this.domCaret.parentElement && this.domCaret.parentElement !== pageDOMContentContainer) {\n        this.domCaret.parentElement.removeChild(this.domCaret);\n      }\n\n      if (!this.domCaret.parentElement) {\n        pageDOMContentContainer.appendChild(this.domCaret);\n      }\n\n      this.blinkStop();\n\n      if (focused) {\n        this.blinkStart();\n      }\n    } else {\n      this.domCaret.style.display = 'none';\n      this.blinkStop();\n    }\n  };\n\n  CursorView.prototype.blinkStart = function () {\n    var _this = this;\n\n    if (this.blinkInterval !== null) {\n      return;\n    }\n\n    this.blinkState = true;\n    this.blinkInterval = window.setInterval(function () {\n      _this.blinkState = !_this.blinkState;\n\n      _this.updateDOMBlink();\n    }, 500);\n  };\n\n  CursorView.prototype.blinkStop = function () {\n    if (this.blinkInterval === null) {\n      return;\n    }\n\n    this.domCaret.style.visibility = 'visible';\n    clearInterval(this.blinkInterval);\n    this.blinkInterval = null;\n  };\n\n  CursorView.prototype.updateDOMBlink = function () {\n    if (this.blinkState) {\n      this.domCaret.style.visibility = 'visible';\n    } else {\n      this.domCaret.style.visibility = 'hidden';\n    }\n  };\n\n  CursorView.prototype.clearDOMSelections = function () {\n    this.domSelections.forEach(function (domSelection) {\n      if (domSelection.parentElement) {\n        domSelection.parentElement.removeChild(domSelection);\n      }\n    });\n    this.domSelections = [];\n  };\n\n  CursorView.prototype.buildDOMSelection = function (box) {\n    var domSelection = document.createElement('div');\n    domSelection.className = 'tw--cursor--selection';\n    domSelection.setAttribute('data-tw-instance', this.instanceId);\n    domSelection.style.position = 'absolute';\n    domSelection.style.top = box.top + \"px\";\n    domSelection.style.left = box.left + \"px\";\n    domSelection.style.width = box.width + \"px\";\n    domSelection.style.height = box.height + \"px\";\n    domSelection.style.userSelect = 'none';\n    domSelection.style.pointerEvents = 'none';\n    return domSelection;\n  };\n\n  CursorView.prototype.handleDidApplyTransformation = function (event) {\n    this.updateView();\n  };\n\n  CursorView.prototype.handleDidFocus = function (event) {\n    this.updateView();\n  };\n\n  CursorView.prototype.handleDidBlur = function (event) {\n    this.updateView();\n  };\n\n  return CursorView;\n}();\n\nexport { CursorView };","import { EventEmitter } from '../event/emitter';\n\nvar ClipboardObserver =\n/** @class */\nfunction () {\n  function ClipboardObserver($contentEditable) {\n    var _this = this;\n\n    this.$contentEditable = $contentEditable;\n    this.didCopyEventEmitter = new EventEmitter();\n    this.didPasteEventEmitter = new EventEmitter();\n\n    this.handleCopy = function (event) {\n      event.preventDefault();\n\n      _this.didCopyEventEmitter.emit({});\n    };\n\n    this.handlePaste = function (event) {\n      event.preventDefault();\n      var data = event.clipboardData;\n\n      if (!data) {\n        return;\n      }\n\n      _this.didPasteEventEmitter.emit({\n        data: data\n      });\n    };\n\n    $contentEditable.addEventListener('copy', this.handleCopy);\n    $contentEditable.addEventListener('paste', this.handlePaste);\n  }\n\n  ClipboardObserver.prototype.onDidCopy = function (listener) {\n    return this.didCopyEventEmitter.on(listener);\n  };\n\n  ClipboardObserver.prototype.onDidPaste = function (listener) {\n    return this.didPasteEventEmitter.on(listener);\n  };\n\n  return ClipboardObserver;\n}();\n\nexport { ClipboardObserver };","import { EventEmitter } from '../event/emitter';\n\nvar FocusObserver =\n/** @class */\nfunction () {\n  function FocusObserver($contentEditable) {\n    var _this = this;\n\n    this.$contentEditable = $contentEditable;\n    this.didFocusEventEmitter = new EventEmitter();\n    this.didBlurEventEmitter = new EventEmitter();\n\n    this.handleFocus = function () {\n      _this.didFocusEventEmitter.emit({});\n    };\n\n    this.handleBlur = function () {\n      _this.didBlurEventEmitter.emit({});\n    };\n\n    $contentEditable.addEventListener('focus', this.handleFocus);\n    $contentEditable.addEventListener('blur', this.handleBlur);\n  }\n\n  FocusObserver.prototype.onDidFocus = function (listener) {\n    return this.didFocusEventEmitter.on(listener);\n  };\n\n  FocusObserver.prototype.onDidBlur = function (listener) {\n    return this.didBlurEventEmitter.on(listener);\n  };\n\n  return FocusObserver;\n}();\n\nexport { FocusObserver };","import { EventEmitter } from '../event/emitter';\nimport { detectPlatform } from '../util/platform';\n\nvar KeyboardObserver =\n/** @class */\nfunction () {\n  function KeyboardObserver($contentEditable, domService) {\n    var _this = this;\n\n    this.$contentEditable = $contentEditable;\n    this.domService = domService;\n    this.composing = false;\n    this.didInsertEventEmitter = new EventEmitter();\n    this.didPressKeyEventEmitter = new EventEmitter();\n    this.compositionDidStartEventEmitter = new EventEmitter();\n    this.compositionDidEndEventEmitter = new EventEmitter();\n    this.keyInterpreter = new KeyInterpreter();\n\n    this.handleDidMutate = function () {\n      setTimeout(function () {\n        if (_this.composing) {\n          return;\n        }\n\n        var content = _this.$contentEditable.innerText;\n        _this.$contentEditable.innerHTML = '';\n\n        if (content.length === 0) {\n          return;\n        }\n\n        _this.didInsertEventEmitter.emit({\n          content: content\n        });\n      });\n    };\n\n    this.handleKeyDown = function (event) {\n      var key = _this.keyInterpreter.interpretFromKeyboardEvent(event);\n\n      if (!key) {\n        return;\n      }\n\n      _this.didPressKeyEventEmitter.emit({\n        key: key,\n        originalKeyboardEvent: event\n      });\n    };\n\n    this.handleCompositionStart = function () {\n      _this.composing = true;\n    };\n\n    this.handleCompositionEnd = function () {\n      _this.composing = true;\n    };\n\n    this.mutationObserver = domService.createMutationObserver(this.handleDidMutate);\n    $contentEditable.addEventListener('keydown', this.handleKeyDown);\n    $contentEditable.addEventListener('compositionstart', this.handleCompositionStart);\n    $contentEditable.addEventListener('compositionend', this.handleCompositionEnd);\n    this.mutationObserver.observe($contentEditable, {\n      subtree: true,\n      characterData: true,\n      childList: true\n    });\n  }\n\n  KeyboardObserver.prototype.onDidInsert = function (listener) {\n    return this.didInsertEventEmitter.on(listener);\n  };\n\n  KeyboardObserver.prototype.onDidPressKey = function (listener) {\n    return this.didPressKeyEventEmitter.on(listener);\n  };\n\n  KeyboardObserver.prototype.onCompositionDidStart = function (listener) {\n    return this.compositionDidStartEventEmitter.on(listener);\n  };\n\n  KeyboardObserver.prototype.onCompositionDidEnd = function (listener) {\n    return this.compositionDidEndEventEmitter.on(listener);\n  };\n\n  return KeyboardObserver;\n}();\n\nexport { KeyboardObserver };\n\nvar KeyInterpreter =\n/** @class */\nfunction () {\n  function KeyInterpreter() {}\n\n  KeyInterpreter.prototype.interpretFromKeyboardEvent = function (event) {\n    var key;\n\n    switch (event.key) {\n      case 'Control':\n      case 'Shift':\n      case 'Alt':\n      case 'Meta':\n        return undefined;\n\n      case 'ArrowLeft':\n        key = 'left';\n        break;\n\n      case 'ArrowRight':\n        key = 'right';\n        break;\n\n      case 'ArrowUp':\n        key = 'up';\n        break;\n\n      case 'ArrowDown':\n        key = 'down';\n        break;\n\n      default:\n        key = event.key.toLowerCase();\n    }\n\n    if (event.metaKey) {\n      switch (detectPlatform()) {\n        case 'macOS':\n          key = \"cmd+\" + key;\n          break;\n\n        case 'Windows':\n          key = \"win+\" + key;\n          break;\n\n        case 'Linux':\n        default:\n          key = \"meta+\" + key;\n      }\n    }\n\n    if (event.altKey) {\n      key = \"alt+\" + key;\n    }\n\n    if (event.shiftKey) {\n      key = \"shift+\" + key;\n    }\n\n    if (event.ctrlKey) {\n      key = \"ctrl+\" + key;\n    }\n\n    return key;\n  };\n\n  return KeyInterpreter;\n}();","import { EventEmitter } from '../event/emitter';\n\nvar PointerObserver =\n/** @class */\nfunction () {\n  function PointerObserver(instanceId, viewService, domService, layoutService) {\n    var _this = this;\n\n    this.instanceId = instanceId;\n    this.viewService = viewService;\n    this.domService = domService;\n    this.layoutService = layoutService;\n    this.clickThreshold = 250;\n    this.consecutiveClickThreshold = 250;\n    this.lastPointerDown = null;\n    this.lastClick = null;\n    this.consecutiveClickCount = 0;\n    this.pointerDidDownEventEmitter = new EventEmitter();\n    this.pointerDidMoveEventEmitter = new EventEmitter();\n    this.pointerDidUpEventEmitter = new EventEmitter();\n    this.pointerDidClickEventEmitter = new EventEmitter();\n\n    this.handleMouseDown = function (event) {\n      var offset = _this.resolveOffset(event.clientX, event.clientY);\n\n      if (offset === null) {\n        return;\n      } // Bypass browser selection\n\n\n      event.preventDefault();\n      _this.lastPointerDown = {\n        timestamp: Date.now(),\n        offset: offset\n      };\n\n      var consecutive = _this.lastClick !== null && Date.now() - _this.lastClick.timestamp < _this.consecutiveClickThreshold;\n\n      _this.pointerDidDownEventEmitter.emit({\n        offset: offset,\n        consecutive: consecutive\n      });\n    };\n\n    this.handleMouseMove = function (event) {\n      var offset = _this.resolveOffset(event.clientX, event.clientY);\n\n      if (offset === null) {\n        return;\n      }\n\n      _this.pointerDidMoveEventEmitter.emit({\n        pointerDown: _this.lastPointerDown !== null,\n        offset: offset\n      });\n    };\n\n    this.handleMouseUp = function (event) {\n      if (_this.lastPointerDown === null) {\n        return;\n      }\n\n      var lastPointerDown = _this.lastPointerDown;\n      _this.lastPointerDown = null;\n\n      var offset = _this.resolveOffset(event.clientX, event.clientY);\n\n      if (offset === null) {\n        return;\n      }\n\n      var now = Date.now();\n      var clicked = lastPointerDown.offset === offset && now - lastPointerDown.timestamp < _this.clickThreshold;\n\n      _this.pointerDidUpEventEmitter.emit({});\n\n      if (clicked) {\n        if (_this.lastClick !== null) {\n          var delta = now - _this.lastClick.timestamp;\n\n          if (delta > _this.consecutiveClickThreshold) {\n            _this.consecutiveClickCount = 0;\n          }\n        }\n\n        _this.consecutiveClickCount++;\n        _this.lastClick = {\n          timestamp: Date.now(),\n          offset: offset\n        };\n\n        _this.pointerDidClickEventEmitter.emit({\n          offset: offset,\n          consecutiveCount: _this.consecutiveClickCount\n        });\n      }\n    };\n\n    var window = domService.getWindow();\n    window.addEventListener('mousedown', this.handleMouseDown);\n    window.addEventListener('mousemove', this.handleMouseMove);\n    window.addEventListener('mouseup', this.handleMouseUp);\n  }\n\n  PointerObserver.prototype.onPointerDidDown = function (listener) {\n    return this.pointerDidDownEventEmitter.on(listener);\n  };\n\n  PointerObserver.prototype.onPointerDidMove = function (listener) {\n    return this.pointerDidMoveEventEmitter.on(listener);\n  };\n\n  PointerObserver.prototype.onPointerDidUp = function (listener) {\n    return this.pointerDidUpEventEmitter.on(listener);\n  };\n\n  PointerObserver.prototype.onPointerDidClick = function (listener) {\n    return this.pointerDidClickEventEmitter.on(listener);\n  };\n\n  PointerObserver.prototype.resolveOffset = function (x, y) {\n    var viewDoc = this.viewService.getDoc();\n    var layoutDoc = this.layoutService.getDoc();\n    var cumulatedOffset = 0;\n\n    for (var n = 0, nn = viewDoc.children.length; n < nn; n++) {\n      var viewPage = viewDoc.children.at(n);\n      var layoutPage = layoutDoc.children.at(n);\n      var pageBoundingClientRect = viewPage.domContainer.getBoundingClientRect();\n\n      if (pageBoundingClientRect.left <= x && pageBoundingClientRect.right >= x && pageBoundingClientRect.top <= y && pageBoundingClientRect.bottom >= y) {\n        var pageX = x - pageBoundingClientRect.left;\n        var pageY = y - pageBoundingClientRect.top;\n        return cumulatedOffset + layoutPage.convertCoordinatesToOffset(pageX, pageY);\n      }\n\n      cumulatedOffset += layoutPage.size;\n    }\n\n    return null;\n  };\n\n  return PointerObserver;\n}();\n\nexport { PointerObserver };","import { ClipboardObserver } from './clipboard-observer';\nimport { FocusObserver } from './focus-observer';\nimport { KeyboardObserver } from './keyboard-observer';\nimport { PointerObserver } from './pointer-observer';\n\nvar DOMController =\n/** @class */\nfunction () {\n  function DOMController(instanceId, domService, commandService, modelService, viewService, layoutService) {\n    var _this = this;\n\n    this.instanceId = instanceId;\n    this.domService = domService;\n    this.commandService = commandService;\n    this.modelService = modelService;\n    this.viewService = viewService;\n    this.layoutService = layoutService;\n    this.focused = false;\n    this.composing = false;\n    this.mouseDown = false;\n\n    this.handleDidInsert = function (event) {\n      _this.commandService.executeCommand('tw.state.insert', event.content);\n    };\n\n    this.handleCompositionDidStart = function (event) {\n      _this.composing = true;\n    };\n\n    this.handleCompositionDidEnd = function (event) {\n      _this.composing = false;\n    };\n\n    this.handlePointerDidDown = function (event) {\n      if (!_this.focused) {\n        _this.commandService.executeCommand('tw.view.focus');\n      }\n\n      if (!event.consecutive) {\n        _this.commandService.executeCommand('tw.cursor.move', event.offset);\n      }\n    };\n\n    this.handlePointerDidMove = function (event) {\n      if (event.pointerDown) {\n        _this.commandService.executeCommand('tw.cursor.moveHead', event.offset);\n      }\n    };\n\n    this.handlePointerDidClick = function (event) {\n      switch (event.consecutiveCount) {\n        case 1:\n          {\n            break;\n          }\n\n        case 2:\n          _this.commandService.executeCommand('tw.cursor.selectWord', event.offset);\n\n          break;\n\n        case 3:\n        default:\n          _this.commandService.executeCommand('tw.cursor.selectBlock', event.offset);\n\n          break;\n      }\n    };\n\n    this.handleDidFocus = function (event) {\n      _this.focused = true;\n    };\n\n    this.handleDidBlur = function (event) {\n      _this.focused = false;\n    };\n\n    this.handleCopy = function (event) {\n      _this.commandService.executeCommand('tw.clipboard.copy');\n    };\n\n    this.handlePaste = function (event) {\n      var html = event.data.getData('text/html');\n\n      var $container = _this.domService.createElement('html');\n\n      $container.innerHTML = html;\n      var $body = $container.querySelector('body');\n\n      if (!$body) {\n        return;\n      }\n\n      var domNodes = Array.prototype.slice.call($body.children);\n\n      var modelNodes = _this.modelService.fromDOM(domNodes); // TODO: Insert modelNodes to cursor location\n\n\n      console.log(modelNodes);\n    };\n\n    this.iframe = domService.createHiddenIframe();\n    this.$contentEditable = this.createContentEditable();\n    this.keyboardObserver = new KeyboardObserver(this.$contentEditable, domService);\n    this.keyboardObserver.onDidInsert(this.handleDidInsert);\n    this.keyboardObserver.onCompositionDidStart(this.handleCompositionDidStart);\n    this.keyboardObserver.onCompositionDidEnd(this.handleCompositionDidEnd);\n    this.pointerObserver = new PointerObserver(instanceId, viewService, domService, layoutService);\n    this.pointerObserver.onPointerDidDown(this.handlePointerDidDown);\n    this.pointerObserver.onPointerDidMove(this.handlePointerDidMove);\n    this.pointerObserver.onPointerDidClick(this.handlePointerDidClick);\n    this.focusObserver = new FocusObserver(this.$contentEditable);\n    this.focusObserver.onDidFocus(this.handleDidFocus);\n    this.focusObserver.onDidBlur(this.handleDidBlur);\n    this.clipboardObserver = new ClipboardObserver(this.$contentEditable);\n    this.clipboardObserver.onDidCopy(this.handleCopy);\n    this.clipboardObserver.onDidPaste(this.handlePaste);\n  }\n\n  DOMController.prototype.onDidPressKey = function (listener) {\n    this.keyboardObserver.onDidPressKey(listener);\n  };\n\n  DOMController.prototype.onDidFocus = function (listener) {\n    this.focusObserver.onDidFocus(listener);\n  };\n\n  DOMController.prototype.onDidBlur = function (listener) {\n    this.focusObserver.onDidBlur(listener);\n  };\n\n  DOMController.prototype.attach = function () {\n    var _this = this;\n\n    this.domService.getBody().appendChild(this.iframe);\n    setTimeout(function () {\n      _this.iframe.contentDocument.body.appendChild(_this.$contentEditable);\n    });\n  };\n\n  DOMController.prototype.requestFocus = function () {\n    this.$contentEditable.focus();\n  };\n\n  DOMController.prototype.requestBlur = function () {\n    this.$contentEditable.blur();\n  };\n\n  DOMController.prototype.isFocused = function () {\n    return this.focused;\n  };\n\n  DOMController.prototype.isComposing = function () {\n    return this.composing;\n  };\n\n  DOMController.prototype.createContentEditable = function () {\n    var $contentEditable = this.domService.createElement('div');\n    $contentEditable.contentEditable = 'true';\n    $contentEditable.style.whiteSpace = 'pre';\n    return $contentEditable;\n  };\n\n  return DOMController;\n}();\n\nexport { DOMController };","import { EventEmitter } from '../event/emitter';\n\nvar ViewState =\n/** @class */\nfunction () {\n  function ViewState(instanceId, componentService, layoutService, renderService, domService) {\n    var _this = this;\n\n    this.instanceId = instanceId;\n    this.componentService = componentService;\n    this.layoutService = layoutService;\n    this.renderService = renderService;\n    this.domService = domService;\n    this.didUpdateViewStateEventEmitter = new EventEmitter();\n    this.domContainer = null;\n    var layoutDoc = layoutService.getDoc();\n    var renderDoc = renderService.getDoc();\n    this.internalDoc = this.updateNode(null, layoutDoc, renderDoc);\n    layoutService.onDidUpdateLayoutState(function (event) {\n      return _this.handleDidUpdateLayoutStateEvent(event);\n    });\n  }\n\n  ViewState.prototype.onDidUpdateViewState = function (listener) {\n    return this.didUpdateViewStateEventEmitter.on(listener);\n  };\n\n  Object.defineProperty(ViewState.prototype, \"doc\", {\n    get: function get() {\n      return this.internalDoc;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  ViewState.prototype.attach = function (domContainer) {\n    this.domContainer = domContainer;\n    this.reattachDoc();\n  };\n\n  ViewState.prototype.handleDidUpdateLayoutStateEvent = function (event) {\n    this.update();\n  };\n\n  ViewState.prototype.update = function () {\n    var layoutDoc = this.layoutService.getDoc();\n    var renderDoc = this.renderService.getDoc();\n    this.internalDoc = this.updateNode(this.doc, layoutDoc, renderDoc);\n    this.reattachDoc();\n    this.didUpdateViewStateEventEmitter.emit({});\n  };\n\n  ViewState.prototype.reattachDoc = function () {\n    if (!this.domContainer) {\n      return;\n    }\n\n    this.domContainer.innerHTML = '';\n    this.domContainer.appendChild(this.doc.domContainer);\n  };\n\n  ViewState.prototype.updateNode = function (node, layoutNode, renderNode) {\n    var _this = this;\n\n    if (!layoutNode.needView && node) {\n      return node;\n    }\n\n    var childrenMap = {};\n\n    if (node) {\n      node.children.forEach(function (child) {\n        if (!child.layoutId) {\n          return;\n        }\n\n        childrenMap[child.layoutId] = child;\n      });\n    }\n\n    var renderChildrenMap = {};\n\n    if (renderNode) {\n      renderNode.children.forEach(function (renderChild) {\n        renderChildrenMap[renderChild.id] = renderChild;\n      });\n    }\n\n    var newChildren = [];\n\n    if (layoutNode.type !== 'text') {\n      layoutNode.children.forEach(function (layoutChild) {\n        var child = childrenMap[layoutChild.id] || null;\n        var renderChild = null;\n\n        if (layoutChild.renderId) {\n          renderChild = renderChildrenMap[layoutChild.renderId] || null;\n\n          if (!renderChild) {\n            throw new Error('Render node not found.');\n          }\n        }\n\n        newChildren.push(_this.updateNode(child, layoutChild, renderChild || renderNode));\n      });\n    }\n\n    layoutNode.clearNeedView();\n    var domContainer = node ? node.domContainer : this.domService.createContainer();\n    var newNode = this.buildNode(domContainer, layoutNode, renderNode, newChildren);\n    return newNode;\n  };\n\n  ViewState.prototype.buildNode = function (domContainer, layoutNode, renderNode, children) {\n    switch (layoutNode.type) {\n      case 'page':\n        return this.buildPageNode(domContainer, layoutNode, children);\n\n      case 'line':\n        return this.buildLineNode(domContainer, layoutNode, children);\n    }\n\n    var component = this.componentService.getComponent(renderNode.componentId);\n    var text = layoutNode.type === 'text' ? layoutNode.children.map(function (child) {\n      return child.text;\n    }).join('') : layoutNode.text;\n    var node = component.buildViewNode(domContainer, renderNode.partId, renderNode.id, layoutNode.id, text, renderNode.style, children, layoutNode.width, layoutNode.height, layoutNode.paddingTop, layoutNode.paddingBottom, layoutNode.paddingLeft, layoutNode.paddingRight);\n\n    if (!node) {\n      throw new Error(\"Error building view node from render node \" + renderNode.id + \".\");\n    }\n\n    this.applyMetadataToDOMContainer(node);\n    return node;\n  };\n\n  ViewState.prototype.buildPageNode = function (domContainer, layoutNode, children) {\n    var node = this.componentService.getPageComponent().buildViewNode(domContainer, layoutNode.id, children, layoutNode.width, layoutNode.height, layoutNode.paddingTop, layoutNode.paddingBottom, layoutNode.paddingLeft, layoutNode.paddingRight);\n    this.applyMetadataToDOMContainer(node);\n    return node;\n  };\n\n  ViewState.prototype.buildLineNode = function (domContainer, layoutNode, children) {\n    var node = this.componentService.getLineComponent().buildViewNode(domContainer, layoutNode.id, children, layoutNode.width, layoutNode.height, layoutNode.paddingTop, layoutNode.paddingBottom, layoutNode.paddingLeft, layoutNode.paddingRight);\n    this.applyMetadataToDOMContainer(node);\n    return node;\n  };\n\n  ViewState.prototype.applyMetadataToDOMContainer = function (viewNode) {\n    var domContainer = viewNode.domContainer;\n    var componentId = viewNode.componentId;\n    var partId = viewNode.partId;\n    var id = viewNode.id;\n    domContainer.className = \"tw--\" + componentId + \"--\" + partId;\n    domContainer.setAttribute('data-tw-instance', this.instanceId);\n\n    if (componentId) {\n      domContainer.setAttribute('data-tw-component', componentId);\n    }\n\n    if (partId) {\n      domContainer.setAttribute('data-tw-part', partId);\n    }\n\n    domContainer.setAttribute('data-tw-id', id);\n  };\n\n  return ViewState;\n}();\n\nexport { ViewState };","import { CursorView } from './cursor';\nimport { DOMController } from './dom-controller';\nimport { ViewState } from './state';\n\nvar ViewService =\n/** @class */\nfunction () {\n  function ViewService(instanceId, configService, domService, componentService, modelService, layoutService, cursorService, renderService, commandService, transformService) {\n    this.state = new ViewState(instanceId, componentService, layoutService, renderService, domService);\n    this.domController = new DOMController(instanceId, domService, commandService, modelService, this, layoutService);\n    this.cursor = new CursorView(instanceId, configService, domService, cursorService, layoutService, this, transformService);\n  }\n\n  ViewService.prototype.onDidUpdateViewState = function (listener) {\n    this.state.onDidUpdateViewState(listener);\n  };\n\n  ViewService.prototype.onDidFocus = function (listener) {\n    this.domController.onDidFocus(listener);\n  };\n\n  ViewService.prototype.onDidBlur = function (listener) {\n    this.domController.onDidBlur(listener);\n  };\n\n  ViewService.prototype.onDidPressKey = function (listener) {\n    this.domController.onDidPressKey(listener);\n  };\n\n  ViewService.prototype.getDoc = function () {\n    return this.state.doc;\n  };\n\n  ViewService.prototype.isFocused = function () {\n    return this.domController.isFocused();\n  };\n\n  ViewService.prototype.attach = function (domContainer) {\n    this.state.attach(domContainer);\n    this.cursor.attach();\n    this.domController.attach();\n  };\n\n  ViewService.prototype.requestFocus = function () {\n    this.domController.requestFocus();\n  };\n\n  ViewService.prototype.requestBlur = function () {\n    this.domController.requestBlur();\n  };\n\n  return ViewService;\n}();\n\nexport { ViewService };","import * as clipboardCommandHandlers from './command/handlers/clipboard';\nimport * as cursorCommandHandlers from './command/handlers/cursor';\nimport * as historyCommandHandlers from './command/handlers/history';\nimport * as stateCommandHandlers from './command/handlers/state';\nimport * as viewCommandHandlers from './command/handlers/view';\nimport { CommandService } from './command/service';\nimport { DocComponent } from './component/components/doc';\nimport { ParagraphComponent } from './component/components/paragraph';\nimport { TextComponent } from './component/components/text';\nimport { ComponentService } from './component/service';\nimport { ConfigService } from './config/service';\nimport { CursorService } from './cursor/service';\nimport { DOMService } from './dom/service';\nimport { HistoryService } from './history/service';\nimport { KeyBindingService } from './key-binding/service';\nimport { LayoutService } from './layout/service';\nimport { ReplaceChange } from './model/change/replace';\nimport { Fragment } from './model/fragment';\nimport { ModelService } from './model/service';\nimport { RenderService } from './render/service';\nimport { ServiceRegistry } from './service/registry';\nimport { TextService } from './text/service';\nimport { TransformService } from './transform/service';\nimport { Transformation } from './transform/transformation';\nimport { generateId } from './util/id';\nimport { ViewService } from './view/service';\n\nvar Taleweaver =\n/** @class */\nfunction () {\n  function Taleweaver(root, config) {\n    this.instanceId = generateId();\n    this.serviceRegistry = new ServiceRegistry();\n    this.configService = new ConfigService(this.buildBaseConfig(), config);\n    this.serviceRegistry.registerService('config', this.configService);\n    this.domService = new DOMService();\n    this.serviceRegistry.registerService('dom', this.domService);\n    this.textService = new TextService(this.domService);\n    this.serviceRegistry.registerService('text', this.textService);\n    this.commandService = new CommandService(this.configService, this.serviceRegistry);\n    this.serviceRegistry.registerService('command', this.commandService);\n    this.componentService = new ComponentService(this.configService, this.serviceRegistry);\n    this.serviceRegistry.registerService('component', this.componentService);\n    this.modelService = new ModelService(root, this.componentService);\n    this.serviceRegistry.registerService('model', this.modelService);\n    this.renderService = new RenderService(this.componentService, this.modelService);\n    this.serviceRegistry.registerService('render', this.renderService);\n    this.cursorService = new CursorService(this.configService, this.renderService, this.modelService);\n    this.serviceRegistry.registerService('cursor', this.cursorService);\n    this.layoutService = new LayoutService(this.renderService, this.textService);\n    this.serviceRegistry.registerService('layout', this.layoutService);\n    this.transformService = new TransformService(this.modelService, this.componentService, this.cursorService, this.renderService, this.layoutService);\n    this.serviceRegistry.registerService('transform', this.transformService);\n    this.viewService = new ViewService(this.instanceId, this.configService, this.domService, this.componentService, this.modelService, this.layoutService, this.cursorService, this.renderService, this.commandService, this.transformService);\n    this.serviceRegistry.registerService('view', this.viewService);\n    this.historyService = new HistoryService(this.configService, this.transformService);\n    this.serviceRegistry.registerService('history', this.historyService);\n    this.keyBindingService = new KeyBindingService(this.configService, this.commandService, this.viewService);\n    this.serviceRegistry.registerService('keyBinding', this.keyBindingService);\n  }\n\n  Taleweaver.prototype.setContent = function (root) {\n    this.transformService.applyTransformation(new Transformation([new ReplaceChange(1, this.modelService.getRootSize() - 1, [new Fragment(root.children.slice(), 0)])]));\n  };\n\n  Taleweaver.prototype.attach = function (domContainer) {\n    this.viewService.attach(domContainer);\n  };\n\n  Taleweaver.prototype.getServiceRegistry = function () {\n    return this.serviceRegistry;\n  };\n\n  Taleweaver.prototype.buildBaseConfig = function () {\n    return {\n      commands: {\n        'tw.clipboard.copy': clipboardCommandHandlers.copy,\n        'tw.clipboard.paste': clipboardCommandHandlers.paste,\n        'tw.cursor.move': cursorCommandHandlers.move,\n        'tw.cursor.moveBackwardByLine': cursorCommandHandlers.moveBackwardByLine,\n        'tw.cursor.moveForwardByLine': cursorCommandHandlers.moveForwardByLine,\n        'tw.cursor.moveBackward': cursorCommandHandlers.moveBackward,\n        'tw.cursor.moveForward': cursorCommandHandlers.moveForward,\n        'tw.cursor.moveBackwardByWord': cursorCommandHandlers.moveBackwardByWord,\n        'tw.cursor.moveForwardByWord': cursorCommandHandlers.moveForwardByWord,\n        'tw.cursor.moveToLineStart': cursorCommandHandlers.moveToLineStart,\n        'tw.cursor.moveToLineEnd': cursorCommandHandlers.moveToLineEnd,\n        'tw.cursor.moveToDocStart': cursorCommandHandlers.moveToDocStart,\n        'tw.cursor.moveToDocEnd': cursorCommandHandlers.moveToDocEnd,\n        'tw.cursor.moveHead': cursorCommandHandlers.moveHead,\n        'tw.cursor.moveHeadBackwardByLine': cursorCommandHandlers.moveHeadBackwardByLine,\n        'tw.cursor.moveHeadForwardByLine': cursorCommandHandlers.moveHeadForwardByLine,\n        'tw.cursor.moveHeadBackward': cursorCommandHandlers.moveHeadBackward,\n        'tw.cursor.moveHeadForward': cursorCommandHandlers.moveHeadForward,\n        'tw.cursor.moveHeadBackwardByWord': cursorCommandHandlers.moveHeadBackwardByWord,\n        'tw.cursor.moveHeadForwardByWord': cursorCommandHandlers.moveHeadForwardByWord,\n        'tw.cursor.moveHeadToLineStart': cursorCommandHandlers.moveHeadToLineStart,\n        'tw.cursor.moveHeadToLineEnd': cursorCommandHandlers.moveHeadToLineEnd,\n        'tw.cursor.moveHeadToDocStart': cursorCommandHandlers.moveHeadToDocStart,\n        'tw.cursor.moveHeadToDocEnd': cursorCommandHandlers.moveHeadToDocEnd,\n        'tw.cursor.selectAll': cursorCommandHandlers.selectAll,\n        'tw.cursor.selectWord': cursorCommandHandlers.selectWord,\n        'tw.cursor.selectBlock': cursorCommandHandlers.selectBlock,\n        'tw.history.undo': historyCommandHandlers.undo,\n        'tw.history.redo': historyCommandHandlers.redo,\n        'tw.state.insert': stateCommandHandlers.insert,\n        'tw.state.deleteBackward': stateCommandHandlers.deleteBackward,\n        'tw.state.deleteForward': stateCommandHandlers.deleteForward,\n        'tw.state.breakLine': stateCommandHandlers.breakLine,\n        'tw.view.focus': viewCommandHandlers.focus,\n        'tw.view.blur': viewCommandHandlers.blur\n      },\n      components: {\n        doc: DocComponent,\n        paragraph: ParagraphComponent,\n        text: TextComponent\n      },\n      cursor: {\n        disable: false,\n        caretColor: \"hsla(213, 100%, 50%, 1)\",\n        caretInactiveColor: 'hsla(0, 0%, 0%, 0.5)',\n        selectionColor: \"hsla(213, 100%, 50%, 0.2)\",\n        selectionInactiveColor: 'hsla(0, 0%, 0%, 0.08)'\n      },\n      history: {\n        collapseThreshold: 500,\n        maxCollapseDuration: 2000\n      },\n      keyBindings: {\n        common: {\n          left: {\n            command: 'tw.cursor.moveBackward',\n            preventDefault: true\n          },\n          right: {\n            command: 'tw.cursor.moveForward',\n            preventDefault: true\n          },\n          up: {\n            command: 'tw.cursor.moveBackwardByLine',\n            preventDefault: true\n          },\n          down: {\n            command: 'tw.cursor.moveForwardByLine',\n            preventDefault: true\n          },\n          'shift+left': {\n            command: 'tw.cursor.moveHeadBackward',\n            preventDefault: true\n          },\n          'shift+right': {\n            command: 'tw.cursor.moveHeadForward',\n            preventDefault: true\n          },\n          'shift+up': {\n            command: 'tw.cursor.moveHeadBackwardByLine',\n            preventDefault: true\n          },\n          'shift+down': {\n            command: 'tw.cursor.moveHeadForwardByLine',\n            preventDefault: true\n          },\n          backspace: {\n            command: 'tw.state.deleteBackward',\n            preventDefault: true\n          },\n          delete: {\n            command: 'tw.state.deleteForward',\n            preventDefault: true\n          },\n          enter: {\n            command: 'tw.state.breakLine',\n            preventDefault: true\n          }\n        },\n        macos: {\n          'alt+left': {\n            command: 'tw.cursor.moveBackwardByWord'\n          },\n          'alt+right': {\n            command: 'tw.cursor.moveForwardByWord'\n          },\n          'shift+alt+left': {\n            command: 'tw.cursor.moveHeadBackwardByWord'\n          },\n          'shift+alt+right': {\n            command: 'tw.cursor.moveHeadForwardByWord'\n          },\n          'cmd+left': {\n            command: 'tw.cursor.moveToLineStart'\n          },\n          'cmd+right': {\n            command: 'tw.cursor.moveToLineEnd'\n          },\n          'cmd+up': {\n            command: 'tw.cursor.moveToDocStart'\n          },\n          'cmd+down': {\n            command: 'tw.cursor.moveToDocEnd'\n          },\n          'shift+cmd+left': {\n            command: 'tw.cursor.moveHeadToLineStart'\n          },\n          'shift+cmd+right': {\n            command: 'tw.cursor.moveHeadToLineEnd'\n          },\n          'shift+cmd+up': {\n            command: 'tw.cursor.moveHeadToDocStart'\n          },\n          'shift+cmd+down': {\n            command: 'tw.cursor.moveHeadToDocEnd'\n          },\n          'cmd+a': {\n            command: 'tw.cursor.selectAll'\n          },\n          'cmd+z': {\n            command: 'tw.history.undo',\n            preventDefault: true\n          },\n          'shift+cmd+z': {\n            command: 'tw.history.redo',\n            preventDefault: true\n          }\n        },\n        windows: {\n          'ctrl+left': {\n            command: 'tw.cursor.moveBackwardByWord'\n          },\n          'ctrl+right': {\n            command: 'tw.cursor.moveForwardByWord'\n          },\n          'ctrl+shift+left': {\n            command: 'tw.cursor.moveHeadBackwardByWord'\n          },\n          'ctrl+shift+right': {\n            command: 'tw.cursor.moveHeadForwardByWord'\n          },\n          home: {\n            command: 'tw.cursor.moveToLineStart'\n          },\n          end: {\n            command: 'tw.cursor.moveToLineEnd'\n          },\n          'ctrl+home': {\n            command: 'tw.cursor.moveToDocStart'\n          },\n          'ctrl+end': {\n            command: 'tw.cursor.moveToDocEnd'\n          },\n          'shift+home': {\n            command: 'tw.cursor.moveHeadToLineStart'\n          },\n          'shift+end': {\n            command: 'tw.cursor.moveHeadToLineEnd'\n          },\n          'ctrl+shift+home': {\n            command: 'tw.cursor.moveHeadToDocStart'\n          },\n          'ctrl+shift+end': {\n            command: 'tw.cursor.moveHeadToDocEnd'\n          },\n          'ctrl+a': {\n            command: 'tw.cursor.selectAll'\n          },\n          'ctrl+z': {\n            command: 'tw.history.undo',\n            preventDefault: true\n          },\n          'ctrl+shift+z': {\n            command: 'tw.history.redo',\n            preventDefault: true\n          }\n        },\n        linux: {\n          'ctrl+left': {\n            command: 'tw.cursor.moveBackwardByWord'\n          },\n          'ctrl+right': {\n            command: 'tw.cursor.moveForwardByWord'\n          },\n          'ctrl+shift+left': {\n            command: 'tw.cursor.moveHeadBackwardByWord'\n          },\n          'ctrl+shift+right': {\n            command: 'tw.cursor.moveHeadForwardByWord'\n          },\n          home: {\n            command: 'tw.cursor.moveToLineStart'\n          },\n          end: {\n            command: 'tw.cursor.moveToLineEnd'\n          },\n          'ctrl+home': {\n            command: 'tw.cursor.moveToDocStart'\n          },\n          'ctrl+end': {\n            command: 'tw.cursor.moveToDocEnd'\n          },\n          'shift+home': {\n            command: 'tw.cursor.moveHeadToLineStart'\n          },\n          'shift+end': {\n            command: 'tw.cursor.moveHeadToLineEnd'\n          },\n          'ctrl+shift+home': {\n            command: 'tw.cursor.moveHeadToDocStart'\n          },\n          'ctrl+shift+end': {\n            command: 'tw.cursor.moveHeadToDocEnd'\n          },\n          'ctrl+a': {\n            command: 'tw.cursor.selectAll'\n          },\n          'ctrl+z': {\n            command: 'tw.history.undo',\n            preventDefault: true\n          },\n          'ctrl+shift+z': {\n            command: 'tw.history.redo',\n            preventDefault: true\n          }\n        }\n      },\n      page: {\n        width: 816,\n        height: 1056,\n        paddingTop: 40,\n        paddingBottom: 40,\n        paddingLeft: 40,\n        paddingRight: 40\n      }\n    };\n  };\n\n  return Taleweaver;\n}();\n\nexport { Taleweaver };","import { Taleweaver } from '@taleweaver/core';\nimport { ITextStyle } from '@taleweaver/core/dist/tw/component/components/text';\nimport React, { useEffect, useMemo, useState } from 'react';\nimport styled from 'styled-components';\n\nconst Wrapper = styled.div`\n    position: sticky;\n    top: 0;\n    padding: 3px 24px;\n    background: white;\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.09);\n    z-index: 10;\n`;\n\nconst Container = styled.div`\n    display: flex;\n    margin: 0 auto;\n    width: 816px;\n`;\n\nconst Group = styled.div`\n    flex: 0 0 auto;\n    display: flex;\n    border-radius: 4px;\n    padding: 0 6px;\n    position: relative;\n    &::before {\n        content: '';\n        position: absolute;\n        top: 9px;\n        bottom: 9px;\n        left: 0;\n        width: 1px;\n        background: rgba(0, 0, 0, 0.15);\n    }\n    &:last-child {\n        &::after {\n            content: '';\n            position: absolute;\n            top: 9px;\n            bottom: 9px;\n            right: 0;\n            width: 1px;\n            background: rgba(0, 0, 0, 0.15);\n        }\n    }\n`;\n\ninterface ItemProps {\n    disabled: boolean;\n    active: boolean;\n}\n\nconst Item = styled.button<ItemProps>`\n    flex: 0 0 auto;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 36px;\n    height: 36px;\n    font-size: 18px;\n    position: relative;\n    color: rgba(0, 0, 0, 0.85);\n    background: transparent;\n    padding: 0;\n    border: none;\n    border-radius: 3px;\n    outline: none;\n    &:after {\n        content: '';\n        position: absolute;\n        bottom: 0;\n        left: 3px;\n        right: 3px;\n        height: 3px;\n    }\n    &:hover,\n    &:focus {\n        background: rgba(0, 0, 0, 0.04);\n    }\n    ${({ disabled }) =>\n        disabled &&\n        `\n        opacity: 0.45;\n        &:hover,\n        &:focus {\n            background: transparent;\n        }\n    `}\n    ${({ active }) =>\n        active &&\n        `\n        color: rgba(255, 0, 0, 1);\n        &:after {\n            background: rgba(255, 0, 0, 1);\n        }\n    `}\n`;\n\ninterface SelectItemProps {\n    disabled: boolean;\n    width: number;\n}\n\nconst SelectItem = styled.select<SelectItemProps>`\n    -webkit-appearance: none;\n    border: none;\n    font-size: 12px;\n    font-weight: 500;\n    width: ${({ width }) => width}px;\n    background: white;\n    border-radius: 3px;\n    padding: 0 9px;\n    outline: none;\n    position: relative;\n    &:hover,\n    &:focus {\n        background: rgba(0, 0, 0, 0.04);\n    }\n    option {\n        color: rgba(0, 0, 0, 0.85);\n    }\n    ${({ disabled }) =>\n        disabled &&\n        `\n        opacity: 0.45;\n        &:hover,\n        &:focus {\n            background: transparent;\n        }\n    `}\n`;\n\ninterface ItemColorLineProps {\n    color: string;\n}\n\nconst ItemColorLine = styled.div<ItemColorLineProps>`\n    position: absolute;\n    bottom: 8px;\n    left: 9px;\n    right: 9px;\n    height: 3px;\n    background: ${({ color }) => color};\n`;\n\ninterface Props {\n    taleweaver: Taleweaver | null;\n}\n\nfunction getTextStylesByRange(taleweaver: Taleweaver, from: number, to: number): ITextStyle[] {\n    const renderService = taleweaver.getServiceRegistry().getService('render');\n    const styles = renderService.getStylesBetween(from, to);\n    if (!styles.text || !styles.text.text) {\n        if (styles.paragraph && styles.paragraph['line-break'] && from === to) {\n            return getTextStylesByRange(taleweaver, from - 1, to - 1);\n        }\n        return [];\n    }\n    return styles.text.text as ITextStyle[];\n}\n\nfunction getTextStyles(taleweaver: Taleweaver) {\n    const cursorService = taleweaver.getServiceRegistry().getService('cursor');\n    const { anchor, head } = cursorService.getCursor();\n    return getTextStylesByRange(taleweaver, Math.min(anchor, head), Math.max(anchor, head));\n}\n\nexport default function ToolBar({ taleweaver }: Props) {\n    const [textStyles, setTextStyles] = useState<ITextStyle[]>([]);\n    const updateTextStyle = useMemo(\n        () => (taleweaver: Taleweaver) => {\n            setTextStyles(getTextStyles(taleweaver));\n        },\n        [],\n    );\n    useEffect(() => {\n        if (!taleweaver) {\n            return;\n        }\n        const cursorService = taleweaver.getServiceRegistry().getService('cursor');\n        const renderService = taleweaver.getServiceRegistry().getService('render');\n        cursorService.onDidUpdate((event) => updateTextStyle(taleweaver));\n        renderService.onDidUpdateRenderState((event) => updateTextStyle(taleweaver));\n        updateTextStyle(taleweaver);\n    }, [taleweaver]);\n    const family = new Set(textStyles.map((s) => s.family)).size === 1 ? textStyles[0].family : null;\n    const size = new Set(textStyles.map((s) => s.size)).size === 1 ? textStyles[0].size : null;\n    const bold = new Set(textStyles.map((s) => s.weight > 400)).size === 1 ? textStyles[0].weight > 400 : false;\n    const italic = new Set(textStyles.map((s) => s.italic)).size === 1 ? textStyles[0].italic : false;\n    const underline = new Set(textStyles.map((s) => s.underline)).size === 1 ? textStyles[0].underline : false;\n    const strikethrough =\n        new Set(textStyles.map((s) => s.strikethrough)).size === 1 ? textStyles[0].strikethrough : false;\n    const color = new Set(textStyles.map((s) => s.color)).size === 1 ? textStyles[0].color : null;\n    return (\n        <Wrapper>\n            <Container>\n                <Group>\n                    <SelectItem width={120} value={'Normal'} disabled={false} onChange={(event) => null}>\n                        <option value=\"\" style={{ display: 'none' }}></option>\n                        <option value=\"Normal\">Normal text</option>\n                        <option value=\"Title\">Title</option>\n                        <option value=\"Subtitle\">Subtitle</option>\n                        <option value=\"Heading 1\">Heading 1</option>\n                        <option value=\"Heading 2\">Heading 2</option>\n                        <option value=\"Heading 3\">Heading 3</option>\n                    </SelectItem>\n                </Group>\n                <Group>\n                    <SelectItem width={120} value={family || ''} disabled={family === null} onChange={(event) => null}>\n                        <option value=\"\" style={{ display: 'none' }}></option>\n                        <option value=\"sans-serif\">sans-serif</option>\n                    </SelectItem>\n                </Group>\n                <Group>\n                    <SelectItem\n                        width={60}\n                        value={size ? size.toString() : ''}\n                        disabled={size === null}\n                        onChange={(event) => null}\n                    >\n                        <option value=\"\" style={{ display: 'hidden' }} />\n                        <option value=\"10\">10</option>\n                        <option value=\"12\">12</option>\n                        <option value=\"14\">14</option>\n                        <option value=\"16\">16</option>\n                        <option value=\"18\">18</option>\n                        <option value=\"24\">24</option>\n                        <option value=\"30\">30</option>\n                        <option value=\"36\">36</option>\n                        <option value=\"42\">42</option>\n                    </SelectItem>\n                </Group>\n                <Group>\n                    <Item active={bold} disabled={false} onClick={() => null}>\n                        <i className=\"mdi mdi-format-bold\" />\n                    </Item>\n                    <Item active={italic} disabled={false} onClick={() => null}>\n                        <i className=\"mdi mdi-format-italic\" />\n                    </Item>\n                    <Item active={underline} disabled={false} onClick={() => null}>\n                        <i className=\"mdi mdi-format-underline\" />\n                    </Item>\n                    <Item active={strikethrough} disabled={false} onClick={() => null}>\n                        <i className=\"mdi mdi-format-strikethrough-variant\" />\n                    </Item>\n                    <Item active={false} disabled={color === null} onClick={() => null}>\n                        <i className=\"mdi mdi-format-color-text\" style={{ position: 'relative', top: '-2px' }} />\n                        <ItemColorLine color={color || 'transparent'} />\n                    </Item>\n                </Group>\n            </Container>\n        </Wrapper>\n    );\n}\n","import { IConfig, Taleweaver } from '@taleweaver/core';\nimport { ModelDoc } from '@taleweaver/core/dist/tw/component/components/doc';\nimport { ModelParagraph } from '@taleweaver/core/dist/tw/component/components/paragraph';\nimport { ModelText } from '@taleweaver/core/dist/tw/component/components/text';\nimport { generateId } from '@taleweaver/core/dist/tw/util/id';\nimport { INode, parse } from '@taleweaver/core/dist/tw/util/serialize';\nimport React, { useEffect, useRef, useState } from 'react';\nimport styled from 'styled-components';\nimport ToolBar from './ToolBar';\n\nconst Wrapper = styled.div``;\n\nconst EditorWrapper = styled.div`\n    text-align: center;\n    .tw--doc--doc {\n        font-family: 'Source Sans Pro', sans-serif;\n        display: inline-block;\n        padding-bottom: 9px;\n        counter-reset: page-counter;\n    }\n    .tw--page--page {\n        background: rgba(255, 255, 255, 1);\n        margin: 9px auto 0;\n        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.15);\n        position: relative;\n        &::after {\n            counter-increment: page-counter;\n            content: 'Page ' counter(page-counter) '';\n            position: absolute;\n            top: 12px;\n            left: 50%;\n            transform: translateX(-50%);\n            font-size: 10px;\n            font-family: 'Quicksand', sans-serif;\n            font-weight: 500;\n            color: rgba(0, 0, 0, 0.45);\n            pointer-events: none;\n        }\n        *::selection {\n            background: rgba(255, 255, 255, 1);\n        }\n    }\n`;\n\nfunction buildBlankDoc() {\n    return new ModelDoc('doc', generateId(), {}, [\n        new ModelParagraph('paragraph', generateId(), {}, [new ModelText('text', generateId(), '', {})]),\n    ]);\n}\n\ninterface IProps {\n    initialDoc: INode;\n    config?: IConfig['tw.core'];\n}\n\nexport default function Editor({ initialDoc, config }: IProps) {\n    const domRef = useRef<HTMLDivElement>(null);\n    const [taleweaver, setTaleweaver] = useState<Taleweaver | null>(null);\n    useEffect(() => {\n        const mergedConfig: IConfig = {};\n        if (config) {\n            mergedConfig['tw.core'] = config;\n        }\n        setTaleweaver(new Taleweaver(buildBlankDoc(), mergedConfig));\n    }, []);\n    useEffect(() => {\n        if (taleweaver && domRef.current) {\n            taleweaver.setContent(parse(initialDoc, taleweaver.getServiceRegistry().getService('component')));\n            taleweaver.attach(domRef.current);\n        }\n    }, [taleweaver, domRef.current]);\n    return (\n        <Wrapper>\n            <ToolBar taleweaver={taleweaver} />\n            <EditorWrapper ref={domRef} />\n        </Wrapper>\n    );\n}\n","import Taleweaver from \"./Editor\";\n\nexport default Taleweaver;\n","export function parse(node, componentService) {\n  return componentService.getComponent(node.componentId).buildModelNode(node.partId, node.id, node.text, node.attributes, node.children.map(function (child) {\n    return parse(child, componentService);\n  }));\n}","import { generateId } from '@taleweaver/core/dist/tw/util/id';\nimport { INode } from '@taleweaver/core/dist/tw/util/serialize';\n\nconst doc: INode = {\n    componentId: 'doc',\n    partId: 'doc',\n    id: generateId(),\n    text: '',\n    attributes: {},\n    children: [\n        {\n            componentId: 'paragraph',\n            partId: 'paragraph',\n            id: generateId(),\n            text: '',\n            attributes: {},\n            children: [\n                {\n                    componentId: 'text',\n                    partId: 'text',\n                    id: generateId(),\n                    text:\n                        'Once upon a time there lived in a certain village a little country girl, the prettiest creature was ever seen. Her mother was excessively fond of her; and her grandmother doted on her still more. This good woman had made for her a little red riding-hood; which became the girl so extremely well that everybody called her Little Red Riding-Hood.',\n                    attributes: { weight: 700 },\n                    children: [],\n                },\n            ],\n        },\n        {\n            componentId: 'paragraph',\n            partId: 'paragraph',\n            id: generateId(),\n            text: '',\n            attributes: {},\n            children: [\n                {\n                    componentId: 'text',\n                    partId: 'text',\n                    id: generateId(),\n                    text: 'One day her mother, having made some custards, said to her:',\n                    attributes: { italic: true },\n                    children: [],\n                },\n            ],\n        },\n        {\n            componentId: 'paragraph',\n            partId: 'paragraph',\n            id: generateId(),\n            text: '',\n            attributes: {},\n            children: [\n                {\n                    componentId: 'text',\n                    partId: 'text',\n                    id: generateId(),\n                    text:\n                        '\"Go, my dear, and see how thy grandmamma does, for I hear she has been very ill; carry her a custard, and this little pot of butter.\"',\n                    attributes: { color: 'rgba(255, 0, 0, 1)' },\n                    children: [],\n                },\n            ],\n        },\n        {\n            componentId: 'paragraph',\n            partId: 'paragraph',\n            id: generateId(),\n            text: '',\n            attributes: {},\n            children: [\n                {\n                    componentId: 'text',\n                    partId: 'text',\n                    id: generateId(),\n                    text:\n                        'Little Red Riding-Hood set out immediately to go to her grandmother, who lived in another village.',\n                    attributes: { size: 24 },\n                    children: [],\n                },\n            ],\n        },\n        {\n            componentId: 'paragraph',\n            partId: 'paragraph',\n            id: generateId(),\n            text: '',\n            attributes: {},\n            children: [\n                {\n                    componentId: 'text',\n                    partId: 'text',\n                    id: generateId(),\n                    text:\n                        'As she was going through the wood, she met with Gaffer Wolf, who had a very great mind to eat her up, but he dared not, because of some faggot-makers hard by in the forest. He asked her whither she was going. The poor child, who did not know that it was dangerous to stay and hear a wolf talk, said to him:',\n                    attributes: { strikethrough: true, underline: true },\n                    children: [],\n                },\n            ],\n        },\n        {\n            componentId: 'paragraph',\n            partId: 'paragraph',\n            id: generateId(),\n            text: '',\n            attributes: {},\n            children: [\n                {\n                    componentId: 'text',\n                    partId: 'text',\n                    id: generateId(),\n                    text:\n                        '\"I am going to see my grandmamma and carry her a custard and a little pot of butter from my mamma.\"',\n                    attributes: {},\n                    children: [],\n                },\n            ],\n        },\n        {\n            componentId: 'paragraph',\n            partId: 'paragraph',\n            id: generateId(),\n            text: '',\n            attributes: {},\n            children: [\n                {\n                    componentId: 'text',\n                    partId: 'text',\n                    id: generateId(),\n                    text: '\"Does she live far off?\" said the Wolf.',\n                    attributes: {},\n                    children: [],\n                },\n            ],\n        },\n        {\n            componentId: 'paragraph',\n            partId: 'paragraph',\n            id: generateId(),\n            text: '',\n            attributes: {},\n            children: [\n                {\n                    componentId: 'text',\n                    partId: 'text',\n                    id: generateId(),\n                    text:\n                        '\"Oh! ay,\" answered Little Red Riding-Hood; \"it is beyond that mill you see there, at the first house in the village.\"',\n                    attributes: {},\n                    children: [],\n                },\n            ],\n        },\n        {\n            componentId: 'paragraph',\n            partId: 'paragraph',\n            id: generateId(),\n            text: '',\n            attributes: {},\n            children: [\n                {\n                    componentId: 'text',\n                    partId: 'text',\n                    id: generateId(),\n                    text:\n                        '\"Well,\" said the Wolf, \"and I\\'ll go and see her too. I\\'ll go this way and you go that, and we shall see who will be there soonest.\"',\n                    attributes: {},\n                    children: [],\n                },\n            ],\n        },\n        {\n            componentId: 'paragraph',\n            partId: 'paragraph',\n            id: generateId(),\n            text: '',\n            attributes: {},\n            children: [\n                {\n                    componentId: 'text',\n                    partId: 'text',\n                    id: generateId(),\n                    text:\n                        \"The Wolf began to run as fast as he could, taking the nearest way, and the little girl went by that farthest about, diverting herself in gathering nuts, running after butterflies, and making nosegays of such little flowers as she met with. The Wolf was not long before he got to the old woman's house. He knocked at the door--tap, tap.\",\n                    attributes: {},\n                    children: [],\n                },\n            ],\n        },\n        {\n            componentId: 'paragraph',\n            partId: 'paragraph',\n            id: generateId(),\n            text: '',\n            attributes: {},\n            children: [\n                {\n                    componentId: 'text',\n                    partId: 'text',\n                    id: generateId(),\n                    text:\n                        '\"Your grandchild, Little Red Riding-Hood,\" replied the Wolf, counterfeiting her voice; \"who has brought you a custard and a little pot of butter sent you by mamma.\"',\n                    attributes: {},\n                    children: [],\n                },\n            ],\n        },\n        {\n            componentId: 'paragraph',\n            partId: 'paragraph',\n            id: generateId(),\n            text: '',\n            attributes: {},\n            children: [\n                {\n                    componentId: 'text',\n                    partId: 'text',\n                    id: generateId(),\n                    text: 'The good grandmother, who was in bed, because she was somewhat ill, cried out',\n                    attributes: {},\n                    children: [],\n                },\n            ],\n        },\n        {\n            componentId: 'paragraph',\n            partId: 'paragraph',\n            id: generateId(),\n            text: '',\n            attributes: {},\n            children: [\n                {\n                    componentId: 'text',\n                    partId: 'text',\n                    id: generateId(),\n                    text: '\"Pull the bobbin, and the latch will go up.\"',\n                    attributes: {},\n                    children: [],\n                },\n            ],\n        },\n        {\n            componentId: 'paragraph',\n            partId: 'paragraph',\n            id: generateId(),\n            text: '',\n            attributes: {},\n            children: [\n                {\n                    componentId: 'text',\n                    partId: 'text',\n                    id: generateId(),\n                    text:\n                        \"The Wolf pulled the bobbin, and the door opened, and then presently he fell upon the good woman and ate her up in a moment, for it was above three days that he had not touched a bit. He then shut the door and went into the grandmother's bed, expecting Little Red Riding- Hood, who came some time afterward and knocked at the door--tap, tap.\",\n                    attributes: {},\n                    children: [],\n                },\n            ],\n        },\n        {\n            componentId: 'paragraph',\n            partId: 'paragraph',\n            id: generateId(),\n            text: '',\n            attributes: {},\n            children: [\n                {\n                    componentId: 'text',\n                    partId: 'text',\n                    id: generateId(),\n                    text: '\"Who\\'s there?\"',\n                    attributes: {},\n                    children: [],\n                },\n            ],\n        },\n        {\n            componentId: 'paragraph',\n            partId: 'paragraph',\n            id: generateId(),\n            text: '',\n            attributes: {},\n            children: [\n                {\n                    componentId: 'text',\n                    partId: 'text',\n                    id: generateId(),\n                    text:\n                        'Little Red Riding-Hood, hearing the big voice of the Wolf, was at first afraid; but believing her grandmother had got a cold and was hoarse, answered:',\n                    attributes: {},\n                    children: [],\n                },\n            ],\n        },\n        {\n            componentId: 'paragraph',\n            partId: 'paragraph',\n            id: generateId(),\n            text: '',\n            attributes: {},\n            children: [\n                {\n                    componentId: 'text',\n                    partId: 'text',\n                    id: generateId(),\n                    text:\n                        '\" \\'Tis your grandchild, Little Red Riding-Hood, who has brought you a custard and a little pot of butter mamma sends you.\"',\n                    attributes: {},\n                    children: [],\n                },\n            ],\n        },\n        {\n            componentId: 'paragraph',\n            partId: 'paragraph',\n            id: generateId(),\n            text: '',\n            attributes: {},\n            children: [\n                {\n                    componentId: 'text',\n                    partId: 'text',\n                    id: generateId(),\n                    text: 'The Wolf cried out to her, softening his voice as much as he could:',\n                    attributes: {},\n                    children: [],\n                },\n            ],\n        },\n        {\n            componentId: 'paragraph',\n            partId: 'paragraph',\n            id: generateId(),\n            text: '',\n            attributes: {},\n            children: [\n                {\n                    componentId: 'text',\n                    partId: 'text',\n                    id: generateId(),\n                    text: '\"Pull the bobbin, and the latch will go up.\"',\n                    attributes: {},\n                    children: [],\n                },\n            ],\n        },\n        {\n            componentId: 'paragraph',\n            partId: 'paragraph',\n            id: generateId(),\n            text: '',\n            attributes: {},\n            children: [\n                {\n                    componentId: 'text',\n                    partId: 'text',\n                    id: generateId(),\n                    text: 'Little Red Riding-Hood pulled the bobbin, and the door opened.',\n                    attributes: {},\n                    children: [],\n                },\n            ],\n        },\n        {\n            componentId: 'paragraph',\n            partId: 'paragraph',\n            id: generateId(),\n            text: '',\n            attributes: {},\n            children: [\n                {\n                    componentId: 'text',\n                    partId: 'text',\n                    id: generateId(),\n                    text: 'The Wolf, seeing her come in, said to her, hiding himself under the bed-clothes:',\n                    attributes: {},\n                    children: [],\n                },\n            ],\n        },\n        {\n            componentId: 'paragraph',\n            partId: 'paragraph',\n            id: generateId(),\n            text: '',\n            attributes: {},\n            children: [\n                {\n                    componentId: 'text',\n                    partId: 'text',\n                    id: generateId(),\n                    text:\n                        '\"Put the custard and the little pot of butter upon the stool, and come and lie down with me.\"',\n                    attributes: {},\n                    children: [],\n                },\n            ],\n        },\n        {\n            componentId: 'paragraph',\n            partId: 'paragraph',\n            id: generateId(),\n            text: '',\n            attributes: {},\n            children: [\n                {\n                    componentId: 'text',\n                    partId: 'text',\n                    id: generateId(),\n                    text:\n                        'Little Red Riding-Hood undressed herself and went into bed, where, being greatly amazed to see how her grandmother looked in her night-clothes, she said to her:',\n                    attributes: {},\n                    children: [],\n                },\n            ],\n        },\n        {\n            componentId: 'paragraph',\n            partId: 'paragraph',\n            id: generateId(),\n            text: '',\n            attributes: {},\n            children: [\n                {\n                    componentId: 'text',\n                    partId: 'text',\n                    id: generateId(),\n                    text: '\"Grandmamma, what great arms you have got!\"',\n                    attributes: {},\n                    children: [],\n                },\n            ],\n        },\n        {\n            componentId: 'paragraph',\n            partId: 'paragraph',\n            id: generateId(),\n            text: '',\n            attributes: {},\n            children: [\n                {\n                    componentId: 'text',\n                    partId: 'text',\n                    id: generateId(),\n                    text: '\"That is the better to hug thee, my dear.\"',\n                    attributes: {},\n                    children: [],\n                },\n            ],\n        },\n        {\n            componentId: 'paragraph',\n            partId: 'paragraph',\n            id: generateId(),\n            text: '',\n            attributes: {},\n            children: [\n                {\n                    componentId: 'text',\n                    partId: 'text',\n                    id: generateId(),\n                    text: '\"Grandmamma, what great legs you have got!\"',\n                    attributes: {},\n                    children: [],\n                },\n            ],\n        },\n        {\n            componentId: 'paragraph',\n            partId: 'paragraph',\n            id: generateId(),\n            text: '',\n            attributes: {},\n            children: [\n                {\n                    componentId: 'text',\n                    partId: 'text',\n                    id: generateId(),\n                    text: '\"That is to run the better, my child.\"',\n                    attributes: {},\n                    children: [],\n                },\n            ],\n        },\n        {\n            componentId: 'paragraph',\n            partId: 'paragraph',\n            id: generateId(),\n            text: '',\n            attributes: {},\n            children: [\n                {\n                    componentId: 'text',\n                    partId: 'text',\n                    id: generateId(),\n                    text: '\"Grandmamma, what great ears you have got!\"',\n                    attributes: {},\n                    children: [],\n                },\n            ],\n        },\n        {\n            componentId: 'paragraph',\n            partId: 'paragraph',\n            id: generateId(),\n            text: '',\n            attributes: {},\n            children: [\n                {\n                    componentId: 'text',\n                    partId: 'text',\n                    id: generateId(),\n                    text: '\"That is to hear the better, my child.\"',\n                    attributes: {},\n                    children: [],\n                },\n            ],\n        },\n        {\n            componentId: 'paragraph',\n            partId: 'paragraph',\n            id: generateId(),\n            text: '',\n            attributes: {},\n            children: [\n                {\n                    componentId: 'text',\n                    partId: 'text',\n                    id: generateId(),\n                    text: '\"Grandmamma, what great eyes you have got!\"',\n                    attributes: {},\n                    children: [],\n                },\n            ],\n        },\n        {\n            componentId: 'paragraph',\n            partId: 'paragraph',\n            id: generateId(),\n            text: '',\n            attributes: {},\n            children: [\n                {\n                    componentId: 'text',\n                    partId: 'text',\n                    id: generateId(),\n                    text: '\"It is to see the better, my child.\"',\n                    attributes: {},\n                    children: [],\n                },\n            ],\n        },\n        {\n            componentId: 'paragraph',\n            partId: 'paragraph',\n            id: generateId(),\n            text: '',\n            attributes: {},\n            children: [\n                {\n                    componentId: 'text',\n                    partId: 'text',\n                    id: generateId(),\n                    text: '\"Grandmamma, what great teeth you have got!\"',\n                    attributes: {},\n                    children: [],\n                },\n            ],\n        },\n        {\n            componentId: 'paragraph',\n            partId: 'paragraph',\n            id: generateId(),\n            text: '',\n            attributes: {},\n            children: [\n                {\n                    componentId: 'text',\n                    partId: 'text',\n                    id: generateId(),\n                    text: '\"That is to eat thee up.\"',\n                    attributes: {},\n                    children: [],\n                },\n            ],\n        },\n        {\n            componentId: 'paragraph',\n            partId: 'paragraph',\n            id: generateId(),\n            text: '',\n            attributes: {},\n            children: [\n                {\n                    componentId: 'text',\n                    partId: 'text',\n                    id: generateId(),\n                    text:\n                        'And, saying these words, this wicked wolf fell upon Little Red Riding-Hood, and ate her all up.',\n                    attributes: {},\n                    children: [],\n                },\n            ],\n        },\n    ],\n};\n\nexport default doc;\n","import React from 'react';\nimport styled from 'styled-components';\nimport './App.css';\nimport Taleweaver from './Editor';\nimport sample from './samples/littleRedRidingHood';\n\nconst Wrapper = styled.div``;\n\nconst Hero = styled.div`\n    text-align: center;\n    padding: 90px 60px 30px;\n`;\n\nconst BrandWrapper = styled.div``;\n\nconst Brand = styled.span`\n    color: rgba(0, 0, 0, 0.65);\n    font-size: 42px;\n    letter-spacing: 0.02em;\n    padding-bottom: 10px;\n    border-bottom: 2px solid rgba(0, 0, 0, 0.65);\n`;\n\nconst Tagline = styled.h1`\n    font-size: 30px;\n    font-weight: 500;\n    color: rgba(0, 0, 0, 0.85);\n    margin: 90px 0 0;\n`;\n\nconst SupportingTagline = styled.h2`\n    font-size: 20px;\n    font-weight: 400;\n    color: rgba(0, 0, 0, 0.85);\n    margin: 30px 0 0;\n`;\n\nconst Links = styled.div`\n    margin-top: 90px;\n`;\n\nconst Link = styled.a`\n    display: inline-block;\n    padding: 15px 60px;\n    outline: none;\n    color: rgba(0, 0, 0, 0.85);\n    text-decoration: none;\n    font-size: 20px;\n    background: transparent;\n    border-radius: 3px;\n    border: 1px solid rgba(0, 0, 0, 0.15);\n    &:hover {\n        color: rgba(0, 0, 0, 1);\n        background: rgba(0, 0, 0, 0.04);\n        border-color: rgba(0, 0, 0, 0.25);\n    }\n`;\n\nconst DemoHintWrapper = styled.div`\n    text-align: center;\n    margin-top: 90px;\n`;\n\nconst DemoHint = styled.span`\n    text-transform: uppercase;\n    font-weight: 500;\n    font-size: 14px;\n    color: rgba(0, 0, 0, 0.65);\n    border-top: 1px solid rgba(0, 0, 0, 0.45);\n    padding-top: 10px;\n    cursor: default;\n`;\n\nclass App extends React.Component {\n    render() {\n        return (\n            <Wrapper>\n                <Hero>\n                    <BrandWrapper>\n                        <Brand>Taleweaver</Brand>\n                    </BrandWrapper>\n                    <Tagline>Word processing in your browser.</Tagline>\n                    <SupportingTagline>\n                        Open source editor delivering true word processing experience.\n                    </SupportingTagline>\n                    <Links>\n                        <Link href=\"https://github.com/yuzhenmi/taleweaver\">GitHub</Link>\n                    </Links>\n                    <DemoHintWrapper>\n                        <DemoHint>&darr; Check it out &darr;</DemoHint>\n                    </DemoHintWrapper>\n                </Hero>\n                <Taleweaver\n                    initialDoc={sample}\n                    config={{\n                        page: {\n                            width: 816,\n                            height: 1056,\n                            paddingTop: 60,\n                            paddingBottom: 60,\n                            paddingLeft: 60,\n                            paddingRight: 60,\n                        },\n                    }}\n                />\n            </Wrapper>\n        );\n    }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}